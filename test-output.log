
> pptx2pptistjson@2.2.0 test
> npx jest --no-coverage --verbose

FAIL tests/__tests__/line-processor-comprehensive.test.ts
  LineProcessor ç»¼åˆæµ‹è¯•
    LineElement ç±»æµ‹è¯•
      åŸºç¡€å±æ€§è®¾ç½®
        âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–ç‚¹åæ ‡ (2 ms)
        âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®çº¿æ¡å®½åº¦ (1 ms)
        âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®çº¿æ¡é¢œè‰²
        âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®çº¿æ¡æ ·å¼
        âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®ç®­å¤´
        âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®ç¿»è½¬å±æ€§ (6 ms)
      toJSON æ–¹æ³•æµ‹è¯•
        âœ“ åº”è¯¥ç”Ÿæˆæ­£ç¡®çš„JSONæ ¼å¼
        âœ“ åº”è¯¥å¤„ç†ç©ºç‚¹æ•°ç»„ (2 ms)
        âœ“ åº”è¯¥å¤„ç†å•ä¸ªç‚¹ (14 ms)
        âœ“ åº”è¯¥å¤„ç†è°ƒè¯•æ¨¡å¼ (2 ms)
      é»˜è®¤å€¼æµ‹è¯•
        âœ“ åº”è¯¥æœ‰æ­£ç¡®çš„é»˜è®¤å€¼ (3 ms)
    LineProcessor ç±»æµ‹è¯•
      canProcess æ–¹æ³•æµ‹è¯•
        âœ“ åº”è¯¥å¤„ç†è¿æ¥å½¢çŠ¶ (p:cxnSp) ä¸­çš„çº¿æ¡ (1 ms)
        âœ“ åº”è¯¥å¤„ç†è¿æ¥å½¢çŠ¶ä¸­çš„ç›´çº¿è¿æ¥å™¨
        âœ“ åº”è¯¥å¤„ç†å¸¸è§„å½¢çŠ¶ (p:sp) ä¸­çš„çº¿æ¡
        âœ“ åº”è¯¥æ‹’ç»éçº¿æ¡å½¢çŠ¶
        âœ“ åº”è¯¥æ‹’ç»æ²¡æœ‰å‡ ä½•å½¢çŠ¶çš„å…ƒç´  (1 ms)
        âœ“ åº”è¯¥æ‹’ç»æ²¡æœ‰ spPr çš„å…ƒç´  (1 ms)
        âœ“ åº”è¯¥æ‹’ç»ä¸æ”¯æŒçš„è¿æ¥å™¨ç±»å‹
      process æ–¹æ³•æµ‹è¯•
        âœ“ åº”è¯¥æ­£ç¡®å¤„ç†è¿æ¥å½¢çŠ¶ (1 ms)
        âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¸¸è§„å½¢çŠ¶
        âœ“ åº”è¯¥æ­£ç¡®æå–ä½ç½®ä¿¡æ¯
        âœ• åº”è¯¥æ­£ç¡®æå–å°ºå¯¸ä¿¡æ¯ (2 ms)
        âœ“ åº”è¯¥æ­£ç¡®å¤„ç†ç¿»è½¬å±æ€§
        âœ• åº”è¯¥æ­£ç¡®æå–çº¿æ¡å®½åº¦ (1 ms)
        âœ• åº”è¯¥æ­£ç¡®æå–çº¿æ¡é¢œè‰² (2 ms)
        âœ“ åº”è¯¥æ­£ç¡®å¤„ç†è™šçº¿æ ·å¼
        âœ“ åº”è¯¥æ­£ç¡®å¤„ç†ç‚¹çº¿æ ·å¼
        âœ• åº”è¯¥æ­£ç¡®å¤„ç†ç®­å¤´ (1 ms)
        âœ• åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - é»˜è®¤æ–¹å‘
        âœ• åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - æ°´å¹³ç¿»è½¬ (1 ms)
        âœ• åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - å‚ç›´ç¿»è½¬
        âœ• åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - åŒé‡ç¿»è½¬ (2 ms)
        âœ• åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰² (1 ms)
        âœ“ åº”è¯¥å¤„ç†ç¼ºå°‘ä½ç½®ä¿¡æ¯çš„æƒ…å†µ (14 ms)
        âœ“ åº”è¯¥å¤„ç†ç¼ºå°‘å°ºå¯¸ä¿¡æ¯çš„æƒ…å†µ
        âœ“ åº”è¯¥å¤„ç†ç¼ºå°‘çº¿æ¡æ ·å¼çš„æƒ…å†µ (1 ms)
        âœ“ åº”è¯¥å¤„ç†è°ƒè¯•æ¨¡å¼
        âœ• åº”è¯¥å¤„ç†æ— æ•ˆçš„é¢œè‰²å€¼
        âœ• åº”è¯¥å¤„ç†æ— æ•ˆçš„çº¿å®½å€¼ (1 ms)
      getElementType æ–¹æ³•æµ‹è¯•
        âœ“ åº”è¯¥è¿”å›æ­£ç¡®çš„å…ƒç´ ç±»å‹
      extractColor ç§æœ‰æ–¹æ³•æµ‹è¯•
        âœ• åº”è¯¥å¤„ç†RGBé¢œè‰²
        âœ• åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²
        âœ• åº”è¯¥å¤„ç†ç¼ºå°‘ä¸»é¢˜çš„æƒ…å†µ
    è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯å¤„ç†
      âœ“ åº”è¯¥å¤„ç†ç©ºXMLèŠ‚ç‚¹ (1 ms)
      âœ“ åº”è¯¥å¤„ç†æ— æ•ˆçš„IDå€¼
      âœ“ åº”è¯¥å¤„ç†éå¸¸å¤§çš„æ•°å€¼
      âœ“ åº”è¯¥å¤„ç†é›¶å°ºå¯¸çš„çº¿æ¡
      âœ“ åº”è¯¥å¤„ç†è´Ÿæ•°åæ ‡
    æ€§èƒ½æµ‹è¯•
      âœ“ åº”è¯¥èƒ½å¿«é€Ÿå¤„ç†å¤§é‡çº¿æ¡ (12 ms)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®æå–å°ºå¯¸ä¿¡æ¯

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "height": 7.2,
    -   "width": 14.4,
    +   "height": 96,
    +   "width": 192,
      }

      360 |         
      361 |         // éªŒè¯å°ºå¯¸è®¾ç½®
    > 362 |         expect(result.getSize()).toEqual({
          |                                  ^
      363 |           width: 14.4, // 1828800 EMU è½¬ä¸ºç‚¹
      364 |           height: 7.2, // 914400 EMU è½¬ä¸ºç‚¹
      365 |         });

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:362:34)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®æå–çº¿æ¡å®½åº¦

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 2.67

      384 |         const result = await processor.process(spNode, mockProcessingContext);
      385 |         
    > 386 |         expect(result.toJSON().width).toBe(2);
          |                                       ^
      387 |       });
      388 |
      389 |       it("åº”è¯¥æ­£ç¡®æå–çº¿æ¡é¢œè‰²", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:386:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®æå–çº¿æ¡é¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255, 0, 0, 1)"
    Received: "rgba(255,0,0,1)"

      393 |         const result = await processor.process(spNode, mockProcessingContext);
      394 |         
    > 395 |         expect(result.toJSON().color).toBe("rgba(255, 0, 0, 1)");
          |                                       ^
      396 |       });
      397 |
      398 |       it("åº”è¯¥æ­£ç¡®å¤„ç†è™šçº¿æ ·å¼", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:395:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®å¤„ç†ç®­å¤´

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
        "arrow",
    -   "diamond",
    +   "arrow",
      ]

      423 |         const result = await processor.process(spNode, mockProcessingContext);
      424 |         
    > 425 |         expect(result.toJSON().points).toEqual(["arrow", "diamond"]);
          |                                        ^
      426 |       });
      427 |
      428 |       it("åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - é»˜è®¤æ–¹å‘", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:425:40)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - é»˜è®¤æ–¹å‘

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Array [
    -   14.4,
    -   7.2,
    +   192,
    +   96,
      ]

      435 |         // é»˜è®¤ä»å·¦ä¸Šåˆ°å³ä¸‹
      436 |         expect(json.start).toEqual([0, 0]); // ç›¸å¯¹äºä½ç½®
    > 437 |         expect(json.end).toEqual([14.4, 7.2]); // ç›¸å¯¹äºä½ç½®ï¼Œä½¿ç”¨å°ºå¯¸
          |                          ^
      438 |       });
      439 |
      440 |       it("åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - æ°´å¹³ç¿»è½¬", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:437:26)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - æ°´å¹³ç¿»è½¬

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
    -   14.4,
    +   192,
        0,
      ]

      446 |         
      447 |         // æ°´å¹³ç¿»è½¬ï¼šä»å³ä¸Šåˆ°å·¦ä¸‹
    > 448 |         expect(json.start).toEqual([14.4, 0]); // ç›¸å¯¹äºä½ç½®
          |                            ^
      449 |         expect(json.end).toEqual([0, 7.2]); // ç›¸å¯¹äºä½ç½®
      450 |       });
      451 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:448:28)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - å‚ç›´ç¿»è½¬

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
        0,
    -   7.2,
    +   96,
      ]

      458 |         
      459 |         // å‚ç›´ç¿»è½¬ï¼šä»å·¦ä¸‹åˆ°å³ä¸Š
    > 460 |         expect(json.start).toEqual([0, 7.2]); // ç›¸å¯¹äºä½ç½®
          |                            ^
      461 |         expect(json.end).toEqual([14.4, 0]); // ç›¸å¯¹äºä½ç½®
      462 |       });
      463 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:460:28)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - åŒé‡ç¿»è½¬

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Array [
    -   14.4,
    -   7.2,
    +   192,
    +   96,
      ]

      470 |         
      471 |         // åŒé‡ç¿»è½¬ï¼šä»å³ä¸‹åˆ°å·¦ä¸Š
    > 472 |         expect(json.start).toEqual([14.4, 7.2]); // ç›¸å¯¹äºä½ç½®
          |                            ^
      473 |         expect(json.end).toEqual([0, 0]); // ç›¸å¯¹äºä½ç½®
      474 |       });
      475 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:472:28)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255, 87, 51, 1)"
    Received: "rgba(0,0,0,1)"

      497 |         const result = await processor.process(spNode, mockProcessingContext);
      498 |         
    > 499 |         expect(result.toJSON().color).toBe("rgba(255, 87, 51, 1)");
          |                                       ^
      500 |       });
      501 |
      502 |       it("åº”è¯¥å¤„ç†ç¼ºå°‘ä½ç½®ä¿¡æ¯çš„æƒ…å†µ", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:499:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†æ— æ•ˆçš„é¢œè‰²å€¼

    expect(received).toBe(expected) // Object.is equality

    Expected: "#000000"
    Received: "rgba(0,0,0,1)"

      559 |         
      560 |         // åº”è¯¥å›é€€åˆ°é»˜è®¤é¢œè‰²
    > 561 |         expect(result.toJSON().color).toBe("#000000");
          |                                       ^
      562 |       });
      563 |
      564 |       it("åº”è¯¥å¤„ç†æ— æ•ˆçš„çº¿å®½å€¼", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:561:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†æ— æ•ˆçš„çº¿å®½å€¼

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: NaN

      569 |         
      570 |         // åº”è¯¥ä½¿ç”¨é»˜è®¤çº¿å®½
    > 571 |         expect(result.toJSON().width).toBe(1);
          |                                       ^
      572 |       });
      573 |     });
      574 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:571:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º extractColor ç§æœ‰æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†RGBé¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255, 0, 0, 1)"
    Received: "rgba(255,0,0,1)"

      586 |         const result = await processor.process(spNode, mockProcessingContext);
      587 |         
    > 588 |         expect(result.toJSON().color).toBe("rgba(255, 0, 0, 1)");
          |                                       ^
      589 |       });
      590 |
      591 |       it("åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:588:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º extractColor ç§æœ‰æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(0, 255, 0, 1)"
    Received: "rgba(0,0,0,1)"

      611 |         const result = await processor.process(spNode, mockProcessingContext);
      612 |         
    > 613 |         expect(result.toJSON().color).toBe("rgba(0, 255, 0, 1)");
          |                                       ^
      614 |       });
      615 |
      616 |       it("åº”è¯¥å¤„ç†ç¼ºå°‘ä¸»é¢˜çš„æƒ…å†µ", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:613:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º extractColor ç§æœ‰æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†ç¼ºå°‘ä¸»é¢˜çš„æƒ…å†µ

    expect(received).toBe(expected) // Object.is equality

    Expected: "#000000"
    Received: "rgba(0,0,0,1)"

      627 |         
      628 |         // åº”è¯¥å›é€€åˆ°é»˜è®¤é»‘è‰²
    > 629 |         expect(result.toJSON().color).toBe("#000000");
          |                                       ^
      630 |       });
      631 |     });
      632 |   });

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:629:39)

FAIL tests/__tests__/api-route-parse-pptx.test.ts
  API Route - /api/parse-pptx
    åŸºç¡€æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
      âœ“ åº”è¯¥æˆåŠŸå¤„ç†æœ‰æ•ˆçš„PPTXæ–‡ä»¶ (6 ms)
      âœ“ åº”è¯¥æ‹’ç»éPPTXæ–‡ä»¶ (1 ms)
      âœ“ åº”è¯¥å¤„ç†ç¼ºå°‘æ–‡ä»¶çš„æƒ…å†µ
    CDNæ–‡ä»¶ä¸‹è½½åŠŸèƒ½
      âœ“ åº”è¯¥æˆåŠŸä»CDN URLä¸‹è½½æ–‡ä»¶
      âœ“ åº”è¯¥å¤„ç†CDNä¸‹è½½å¤±è´¥
      âœ“ åº”è¯¥å¤„ç†CDNæ–‡ä»¶åæå– (1 ms)
      âœ“ åº”è¯¥æ‹’ç»CDNä¸­çš„éPPTXæ–‡ä»¶
    èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç†
      âœ• åº”è¯¥å¤„ç†legacyæ ¼å¼å‚æ•° (9 ms)
      âœ• åº”è¯¥å¤„ç†pptistæ ¼å¼å‚æ•° (1 ms)
      âœ• åº”è¯¥é»˜è®¤ä½¿ç”¨legacyæ ¼å¼ (1 ms)
    è°ƒè¯•æ¨¡å¼åŠŸèƒ½
      âœ• åº”è¯¥å¤„ç†è°ƒè¯•æ¨¡å¼å¯ç”¨ (9 ms)
      âœ• åº”è¯¥å¤„ç†æ— æ•ˆçš„è°ƒè¯•é€‰é¡¹JSON (2 ms)
    CDNå­˜å‚¨åŠŸèƒ½
      âœ• åº”è¯¥æˆåŠŸä¸Šä¼ åˆ°CDN (1 ms)
      âœ• åº”è¯¥å¤„ç†CDNä¸å¯ç”¨çš„æƒ…å†µ
      âœ• åº”è¯¥å¤„ç†CDNä¸Šä¼ å¤±è´¥ (1 ms)
    é”™è¯¯å¤„ç†
      âœ• åº”è¯¥å¤„ç†è§£æå™¨é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†FormDataè§£æé”™è¯¯ (1 ms)
    å“åº”æ ¼å¼éªŒè¯
      âœ• åº”è¯¥è¿”å›æ­£ç¡®çš„å“åº”ç»“æ„
      âœ• åº”è¯¥åŒ…å«è°ƒè¯•ä¿¡æ¯
    å‚æ•°ç»„åˆæµ‹è¯•
      âœ• åº”è¯¥å¤„ç†æ‰€æœ‰å‚æ•°çš„ç»„åˆ
    è¾¹ç•Œæƒ…å†µæµ‹è¯•
      âœ• åº”è¯¥å¤„ç†ç©ºæ–‡ä»¶ (1 ms)
      âœ• åº”è¯¥å¤„ç†éå¸¸å¤§çš„æ–‡ä»¶å
    å¤§æ–‡ä»¶å¤„ç†
      âœ• åº”è¯¥æˆåŠŸå¤„ç†å¤§æ–‡ä»¶ï¼ˆ100MBï¼‰ (1 ms)
      âœ• åº”è¯¥å¤„ç†è§£æå¤§æ–‡ä»¶æ—¶çš„å†…å­˜é”™è¯¯ (2 ms)
      âœ• åº”è¯¥å¤„ç†CDNä¸Šä¼ å¤§æ–‡ä»¶ (11 ms)
    å¹¶å‘è¯·æ±‚å¤„ç†
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚ (13 ms)
      âœ• åº”è¯¥å¤„ç†å¹¶å‘CDNè¯·æ±‚
      âœ• åº”è¯¥å¤„ç†å¹¶å‘è¯·æ±‚ä¸­çš„éƒ¨åˆ†å¤±è´¥ (22 ms)
    ç‰¹æ®ŠURLå¤„ç†
      âœ“ åº”è¯¥å¤„ç†Vercel Blob URLæ ¼å¼ (2 ms)
      âœ“ åº”è¯¥å¤„ç†å¸¦æŸ¥è¯¢å‚æ•°çš„CDN URL (6 ms)
      âœ“ åº”è¯¥å¤„ç†æ— æ‰©å±•åçš„CDN URL (1 ms)
    å†…å­˜å’Œæ€§èƒ½æµ‹è¯•
      âœ• åº”è¯¥æ¸…ç†è§£æåçš„ä¸´æ—¶æ•°æ®
      âœ• åº”è¯¥å¤„ç†è§£æè¶…æ—¶æƒ…å†µ

  â— API Route - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç† â€º åº”è¯¥å¤„ç†legacyæ ¼å¼å‚æ•°

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      272 |
      273 |       const response = await POST(request);
    > 274 |       expect(response.status).toBe(200);
          |                               ^
      275 |
      276 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      277 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:274:31)

  â— API Route - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç† â€º åº”è¯¥å¤„ç†pptistæ ¼å¼å‚æ•°

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      291 |
      292 |       const response = await POST(request);
    > 293 |       expect(response.status).toBe(200);
          |                               ^
      294 |
      295 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      296 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:293:31)

  â— API Route - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç† â€º åº”è¯¥é»˜è®¤ä½¿ç”¨legacyæ ¼å¼

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      308 |
      309 |       const response = await POST(request);
    > 310 |       expect(response.status).toBe(200);
          |                               ^
      311 |
      312 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      313 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:310:31)

  â— API Route - /api/parse-pptx â€º è°ƒè¯•æ¨¡å¼åŠŸèƒ½ â€º åº”è¯¥å¤„ç†è°ƒè¯•æ¨¡å¼å¯ç”¨

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      340 |
      341 |       const response = await POST(request);
    > 342 |       expect(response.status).toBe(200);
          |                               ^
      343 |
      344 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      345 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:342:31)

  â— API Route - /api/parse-pptx â€º è°ƒè¯•æ¨¡å¼åŠŸèƒ½ â€º åº”è¯¥å¤„ç†æ— æ•ˆçš„è°ƒè¯•é€‰é¡¹JSON

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      364 |
      365 |       const response = await POST(request);
    > 366 |       expect(response.status).toBe(200);
          |                               ^
      367 |
      368 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      369 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:366:31)

  â— API Route - /api/parse-pptx â€º CDNå­˜å‚¨åŠŸèƒ½ â€º åº”è¯¥æˆåŠŸä¸Šä¼ åˆ°CDN

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      411 |
      412 |       const response = await POST(request);
    > 413 |       expect(response.status).toBe(200);
          |                               ^
      414 |
      415 |       const responseData = await response.json();
      416 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:413:31)

  â— API Route - /api/parse-pptx â€º CDNå­˜å‚¨åŠŸèƒ½ â€º åº”è¯¥å¤„ç†CDNä¸å¯ç”¨çš„æƒ…å†µ

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      434 |
      435 |       const response = await POST(request);
    > 436 |       expect(response.status).toBe(200);
          |                               ^
      437 |
      438 |       const responseData = await response.json();
      439 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:436:31)

  â— API Route - /api/parse-pptx â€º CDNå­˜å‚¨åŠŸèƒ½ â€º åº”è¯¥å¤„ç†CDNä¸Šä¼ å¤±è´¥

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      458 |
      459 |       const response = await POST(request);
    > 460 |       expect(response.status).toBe(200);
          |                               ^
      461 |
      462 |       const responseData = await response.json();
      463 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:460:31)

  â— API Route - /api/parse-pptx â€º é”™è¯¯å¤„ç† â€º åº”è¯¥å¤„ç†è§£æå™¨é”™è¯¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      479 |
      480 |       const response = await POST(request);
    > 481 |       expect(response.status).toBe(500);
          |                               ^
      482 |
      483 |       const responseData = await response.json();
      484 |       expect(responseData.error).toBe("Failed to parse PPTX file");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:481:31)

  â— API Route - /api/parse-pptx â€º å“åº”æ ¼å¼éªŒè¯ â€º åº”è¯¥è¿”å›æ­£ç¡®çš„å“åº”ç»“æ„

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      524 |
      525 |       const response = await POST(request);
    > 526 |       expect(response.status).toBe(200);
          |                               ^
      527 |
      528 |       const responseData = await response.json();
      529 |       

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:526:31)

  â— API Route - /api/parse-pptx â€º å“åº”æ ¼å¼éªŒè¯ â€º åº”è¯¥åŒ…å«è°ƒè¯•ä¿¡æ¯

    TypeError: Cannot read properties of undefined (reading 'fileSize')

      552 |       const responseData = await response.json();
      553 |
    > 554 |       expect(responseData.debug.fileSize).toBe(12); // "test content".length
          |                                 ^
      555 |       expect(responseData.debug.resultKeys).toContain("width");
      556 |       expect(responseData.debug.resultKeys).toContain("height");
      557 |       expect(responseData.debug.resultKeys).toContain("slides");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:554:33)

  â— API Route - /api/parse-pptx â€º å‚æ•°ç»„åˆæµ‹è¯• â€º åº”è¯¥å¤„ç†æ‰€æœ‰å‚æ•°çš„ç»„åˆ

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      593 |
      594 |       const response = await POST(request);
    > 595 |       expect(response.status).toBe(200);
          |                               ^
      596 |
      597 |       // éªŒè¯æ‰€æœ‰å‚æ•°éƒ½è¢«æ­£ç¡®ä¼ é€’
      598 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:595:31)

  â— API Route - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µæµ‹è¯• â€º åº”è¯¥å¤„ç†ç©ºæ–‡ä»¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      621 |
      622 |       const response = await POST(request);
    > 623 |       expect(response.status).toBe(200);
          |                               ^
      624 |
      625 |       const responseData = await response.json();
      626 |       expect(responseData.debug.fileSize).toBe(0);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:623:31)

  â— API Route - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µæµ‹è¯• â€º åº”è¯¥å¤„ç†éå¸¸å¤§çš„æ–‡ä»¶å

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      638 |
      639 |       const response = await POST(request);
    > 640 |       expect(response.status).toBe(200);
          |                               ^
      641 |
      642 |       const responseData = await response.json();
      643 |       expect(responseData.filename).toBe(longName);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:640:31)

  â— API Route - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç† â€º åº”è¯¥æˆåŠŸå¤„ç†å¤§æ–‡ä»¶ï¼ˆ100MBï¼‰

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      675 |
      676 |       const response = await POST(request);
    > 677 |       expect(response.status).toBe(200);
          |                               ^
      678 |
      679 |       const responseData = await response.json();
      680 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:677:31)

  â— API Route - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç† â€º åº”è¯¥å¤„ç†è§£æå¤§æ–‡ä»¶æ—¶çš„å†…å­˜é”™è¯¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      701 |
      702 |       const response = await POST(request);
    > 703 |       expect(response.status).toBe(500);
          |                               ^
      704 |
      705 |       const responseData = await response.json();
      706 |       expect(responseData.error).toBe("Failed to parse PPTX file");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:703:31)

  â— API Route - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç† â€º åº”è¯¥å¤„ç†CDNä¸Šä¼ å¤§æ–‡ä»¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      740 |
      741 |       const response = await POST(request);
    > 742 |       expect(response.status).toBe(200);
          |                               ^
      743 |
      744 |       const responseData = await response.json();
      745 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:742:31)

  â— API Route - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç† â€º åº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      778 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      779 |       responses.forEach((response) => {
    > 780 |         expect(response.status).toBe(200);
          |                                 ^
      781 |       });
      782 |
      783 |       // éªŒè¯æ¯ä¸ªè¯·æ±‚è¿”å›ä¸åŒçš„æ•°æ®

      at tests/__tests__/api-route-parse-pptx.test.ts:780:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:779:17)

  â— API Route - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç† â€º åº”è¯¥å¤„ç†å¹¶å‘CDNè¯·æ±‚

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      831 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      832 |       responses.forEach((response) => {
    > 833 |         expect(response.status).toBe(200);
          |                                 ^
      834 |       });
      835 |
      836 |       // éªŒè¯CDNä¸Šä¼ è¢«è°ƒç”¨äº†æ­£ç¡®çš„æ¬¡æ•°

      at tests/__tests__/api-route-parse-pptx.test.ts:833:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:832:17)

  â— API Route - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç† â€º åº”è¯¥å¤„ç†å¹¶å‘è¯·æ±‚ä¸­çš„éƒ¨åˆ†å¤±è´¥

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      867 |
      868 |       // éªŒè¯ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªè¯·æ±‚æˆåŠŸ
    > 869 |       expect(responses[0].status).toBe(200);
          |                                   ^
      870 |       expect(responses[2].status).toBe(200);
      871 |
      872 |       // éªŒè¯ç¬¬äºŒä¸ªè¯·æ±‚å¤±è´¥

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:869:35)

  â— API Route - /api/parse-pptx â€º å†…å­˜å’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥æ¸…ç†è§£æåçš„ä¸´æ—¶æ•°æ®

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      970 |
      971 |       const response = await POST(request);
    > 972 |       expect(response.status).toBe(200);
          |                               ^
      973 |
      974 |       // éªŒè¯è§£æå™¨åªè¢«è°ƒç”¨ä¸€æ¬¡
      975 |       expect(pptxParser.parseToJSON).toHaveBeenCalledTimes(1);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:972:31)

  â— API Route - /api/parse-pptx â€º å†…å­˜å’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†è§£æè¶…æ—¶æƒ…å†µ

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

       996 |
       997 |       const response = await POST(request);
    >  998 |       expect(response.status).toBe(500);
           |                               ^
       999 |
      1000 |       const responseData = await response.json();
      1001 |       expect(responseData.error).toBe("Failed to parse PPTX file");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:998:31)

FAIL tests/__tests__/html-converter-comprehensive.test.ts
  HtmlConverter - Comprehensive Test Suite
    Single Paragraph Conversion
      âœ• should convert simple text content to HTML (4 ms)
      âœ“ should handle text with basic styling
      âœ“ should handle text with font family (1 ms)
      âœ“ should handle strikethrough text
      âœ• should handle multiple text runs in a paragraph
      âœ• should handle options without wrapping div (5 ms)
      âœ“ should handle custom div style (1 ms)
      âœ• should handle custom paragraph style
      âœ“ should handle text alignment
      âœ“ should handle text alignment from options
    Multiple Paragraphs Conversion
      âœ• should convert multiple paragraphs to HTML
      âœ• should handle mixed paragraph styles
      âœ“ should handle complex multi-run paragraphs
      âœ“ should handle empty paragraphs array
      âœ• should handle options without wrapping div for multiple paragraphs (12 ms)
    Theme Color Handling
      âœ“ should detect and add colortype for theme colors (3 ms)
      âœ“ should handle explicit theme color types (4 ms)
      âœ“ should add data attributes for theme colors (2 ms)
      âœ“ should detect dark colors as dk1 (1 ms)
      âœ“ should handle accent colors correctly
      âœ“ should handle colors with alpha channels
      âœ“ should handle non-theme colors without colortype (1 ms)
    HTML Escaping
      âœ“ should not escape HTML by default
      âœ“ should escape HTML when requested (1 ms)
      âœ“ should handle all HTML special characters
      âœ• should handle null and undefined text gracefully
    Style Ordering and Formatting
      âœ“ should maintain correct style order
      âœ“ should handle combined text decorations (1 ms)
      âœ“ should handle empty styles gracefully
      âœ“ should handle undefined styles
    Utility Functions
      getDefaultFontName
        âœ“ should return first font family found
        âœ“ should return default font when no font family found
        âœ“ should handle empty content array
      getDefaultColor
        âœ“ should return first color found
        âœ“ should return default color when no color found
        âœ“ should handle empty content array
    Edge Cases and Error Handling
      âœ• should handle content with only empty text
      âœ• should handle content with only whitespace
      âœ“ should handle very long text content
      âœ“ should handle special characters in text
      âœ“ should handle malformed style objects
      âœ“ should handle null color values
      âœ“ should handle boolean false values for text decoration
    Complex Real-world Scenarios
      âœ“ should handle rich text with mixed formatting (1 ms)
      âœ“ should handle table-like structured text
      âœ“ should handle presentation slide with title and bullet points

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should convert simple text content to HTML

    expect(received).toBe(expected) // Object.is equality

    Expected: "<div style=\"\"><p style=\"\"><span style=\"\">Hello World</span></p></div>"
    Received: "<div  style=\"\"><p  style=\"\"><span  style=\"\">Hello World</span></p></div>"

      15 |       
      16 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 17 |       expect(html).toBe('<div style=""><p style=""><span style="">Hello World</span></p></div>');
         |                    ^
      18 |     });
      19 |
      20 |     it('should handle text with basic styling', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:17:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should handle multiple text runs in a paragraph

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\">Normal </span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">Normal </span><span  style=\"font-weight:bold\">Bold </span><span  style=\"font-style:italic\">Italic</span></p></div>"

      78 |       
      79 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 80 |       expect(html).toContain('<span style="">Normal </span>');
         |                    ^
      81 |       expect(html).toContain('<span style="font-weight:bold">Bold </span>');
      82 |       expect(html).toContain('<span style="font-style:italic">Italic</span>');
      83 |     });

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:80:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should handle options without wrapping div

    expect(received).toBe(expected) // Object.is equality

    Expected: "<p style=\"\"><span style=\"\">No Wrapper</span></p>"
    Received: "<p  style=\"\"><span  style=\"\">No Wrapper</span></p>"

      90 |       const options: HtmlConversionOptions = { wrapInDiv: false };
      91 |       const html = HtmlConverter.convertSingleParagraphToHtml(content, options);
    > 92 |       expect(html).toBe('<p style=""><span style="">No Wrapper</span></p>');
         |                    ^
      93 |     });
      94 |
      95 |     it('should handle custom div style', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:92:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should handle custom paragraph style

    expect(received).toContain(expected) // indexOf

    Expected substring: "<p style=\"line-height: 1.5\">"
    Received string:    "<div  style=\"\"><p  style=\"line-height: 1.5\"><span  style=\"\">Custom Paragraph</span></p></div>"

      110 |       const options: HtmlConversionOptions = { paragraphStyle: 'line-height: 1.5' };
      111 |       const html = HtmlConverter.convertSingleParagraphToHtml(content, options);
    > 112 |       expect(html).toContain('<p style="line-height: 1.5">');
          |                    ^
      113 |     });
      114 |
      115 |     it('should handle text alignment', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:112:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Multiple Paragraphs Conversion â€º should convert multiple paragraphs to HTML

    expect(received).toContain(expected) // indexOf

    Expected substring: "<p style=\"\"><span style=\"\">First paragraph</span></p>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">First paragraph</span></p><p  style=\"\"><span  style=\"\">Second paragraph</span></p><p  style=\"\"><span  style=\"\">Third paragraph</span></p></div>"

      142 |       
      143 |       const html = HtmlConverter.convertParagraphsToHtml(paragraphs);
    > 144 |       expect(html).toContain('<p style=""><span style="">First paragraph</span></p>');
          |                    ^
      145 |       expect(html).toContain('<p style=""><span style="">Second paragraph</span></p>');
      146 |       expect(html).toContain('<p style=""><span style="">Third paragraph</span></p>');
      147 |     });

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:144:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Multiple Paragraphs Conversion â€º should handle mixed paragraph styles

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\">Normal</span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">Normal</span></p><p  style=\"\"><span  style=\"font-weight:bold\">Bold</span></p><p  style=\"\"><span  style=\"font-style:italic\">Italic</span></p></div>"

      155 |       
      156 |       const html = HtmlConverter.convertParagraphsToHtml(paragraphs);
    > 157 |       expect(html).toContain('<span style="">Normal</span>');
          |                    ^
      158 |       expect(html).toContain('<span style="font-weight:bold">Bold</span>');
      159 |       expect(html).toContain('<span style="font-style:italic">Italic</span>');
      160 |     });

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:157:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Multiple Paragraphs Conversion â€º should handle options without wrapping div for multiple paragraphs

    expect(received).toBe(expected) // Object.is equality

    Expected: "<p style=\"\"><span style=\"\">Para 1</span></p><p style=\"\"><span style=\"\">Para 2</span></p>"
    Received: "<p  style=\"\"><span  style=\"\">Para 1</span></p><p  style=\"\"><span  style=\"\">Para 2</span></p>"

      194 |       const options: HtmlConversionOptions = { wrapInDiv: false };
      195 |       const html = HtmlConverter.convertParagraphsToHtml(paragraphs, options);
    > 196 |       expect(html).toBe('<p style=""><span style="">Para 1</span></p><p style=""><span style="">Para 2</span></p>');
          |                    ^
      197 |     });
      198 |   });
      199 |

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:196:20)

  â— HtmlConverter - Comprehensive Test Suite â€º HTML Escaping â€º should handle null and undefined text gracefully

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\"></span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\"></span></p></div>"

      308 |       const options: HtmlConversionOptions = { escapeHtml: true };
      309 |       const html = HtmlConverter.convertSingleParagraphToHtml(content, options);
    > 310 |       expect(html).toContain('<span style=""></span>');
          |                    ^
      311 |     });
      312 |   });
      313 |

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:310:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Edge Cases and Error Handling â€º should handle content with only empty text

    expect(received).toBe(expected) // Object.is equality

    Expected: "<div style=\"\"><p style=\"\"><span style=\"\"></span></p></div>"
    Received: "<div  style=\"\"><p  style=\"\"><span  style=\"\"></span></p></div>"

      448 |       
      449 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 450 |       expect(html).toBe('<div style=""><p style=""><span style=""></span></p></div>');
          |                    ^
      451 |     });
      452 |
      453 |     it('should handle content with only whitespace', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:450:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Edge Cases and Error Handling â€º should handle content with only whitespace

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\">   </span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">   </span></p></div>"

      457 |       
      458 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 459 |       expect(html).toContain('<span style="">   </span>');
          |                    ^
      460 |     });
      461 |
      462 |     it('should handle very long text content', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:459:20)

  console.error
    Warning: Received `true` for a non-boolean attribute `jsx`.
    
    If you want to write it to the DOM, pass a string instead: jsx="true" or jsx={value.toString()}.
        at style
        at div
        at MonacoJsonLoader (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:25:3)

      74 |   describe('Basic Rendering', () => {
      75 |     it('renders without source', () => {
    > 76 |       render(<MonacoJsonLoader />);
         |             ^
      77 |       
      78 |       expect(screen.getByText('ğŸ“‹ Copy')).toBeInTheDocument();
      79 |       expect(screen.getByText('ğŸ’¾ Download')).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3765:9)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:76:13)

FAIL tests/__tests__/text-validator-comprehensive.test.ts
  TextValidator - Comprehensive Test Suite
    hasValidText Function
      Valid Text Cases
        âœ“ should return true for simple text (1 ms)
        âœ“ should return true for text with special characters
        âœ“ should return true for text with numbers and symbols
        âœ“ should return true for text with leading/trailing whitespace but meaningful content
        âœ“ should return true for HTML with text content (1 ms)
        âœ“ should return true for complex HTML structures with content
        âœ“ should return true for HTML with mixed content
      Invalid Text Cases
        âœ“ should return false for undefined and null
        âœ“ should return false for empty strings (6 ms)
        âœ“ should return false for empty HTML tags
        âœ“ should return false for HTML with only whitespace content
        âœ“ should return false for nested empty HTML (1 ms)
        âœ“ should return false for self-closing tags without content
        âœ“ should return false for HTML with only structural elements
      Edge Cases
        âœ“ should handle malformed HTML
        âœ“ should handle HTML with attributes but no content
        âœ“ should handle mixed valid and invalid content
        âœ“ should handle very long strings
        âœ“ should handle unicode and special characters (1 ms)
    extractTextFromHtml Function
      Basic HTML Extraction
        âœ“ should extract text from simple HTML tags (27 ms)
        âœ“ should extract text from nested HTML
        âœ“ should handle multiple paragraphs and elements
        âœ“ should handle list elements (1 ms)
        âœ“ should handle table elements
      HTML Entity Decoding
        âœ“ should decode common HTML entities
        âœ“ should decode multiple entities in text (1 ms)
        âœ“ should decode entities within HTML tags
        âœ“ should handle mixed entities and regular text
        âœ“ should handle non-breaking spaces
        âœ“ should handle malformed entities gracefully
      Whitespace and Formatting
        âœ“ should trim leading and trailing whitespace
        âœ“ should preserve internal whitespace
        âœ“ should handle whitespace between elements
      Complex HTML Structures
        âœ“ should extract text from complex nested structures (1 ms)
        âœ“ should handle HTML with attributes
        âœ“ should handle self-closing tags
        âœ“ should handle comments and CDATA (2 ms)
      Edge Cases and Error Handling
        âœ“ should handle empty and whitespace strings
        âœ• should handle malformed HTML (1 ms)
        âœ“ should handle HTML with no text content
        âœ“ should handle very long HTML strings
        âœ“ should handle HTML with special characters
        âœ“ should handle HTML with script and style tags
      Real-world HTML Examples
        âœ“ should handle PowerPoint-generated HTML
        âœ“ should handle email-style HTML (1 ms)
        âœ“ should handle form HTML
        âœ“ should handle table data
    Integration Scenarios
      âœ“ should work together for text validation workflow
      âœ“ should handle PowerPoint conversion workflow

  â— TextValidator - Comprehensive Test Suite â€º extractTextFromHtml Function â€º Edge Cases and Error Handling â€º should handle malformed HTML

    expect(received).toBe(expected) // Object.is equality

    Expected: "brackets"
    Received: "> brackets"

      299 |         expect(extractTextFromHtml('Text <unopened tag')).toBe('Text <unopened tag');
      300 |         expect(extractTextFromHtml('<>Empty brackets</>')).toBe('Empty brackets');
    > 301 |         expect(extractTextFromHtml('<<double>> brackets')).toBe('brackets');
          |                                                            ^
      302 |       });
      303 |
      304 |       it('should handle HTML with no text content', () => {

      at Object.<anonymous> (tests/__tests__/text-validator-comprehensive.test.ts:301:60)

FAIL tests/__tests__/api-route-parse-pptx-comprehensive.test.ts
  API Route Comprehensive Tests - /api/parse-pptx
    å¤§æ–‡ä»¶å¤„ç†æµ‹è¯•
      âœ• åº”è¯¥å¤„ç†å¤§æ–‡ä»¶ï¼ˆ10MBï¼‰çš„ä¸Šä¼  (2 ms)
      âœ• åº”è¯¥å¤„ç†å†…å­˜ä¸è¶³é”™è¯¯ (1 ms)
    å¹¶å‘è¯·æ±‚å¤„ç†æµ‹è¯•
      âœ• åº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚ (7 ms)
      âœ• åº”è¯¥å¤„ç†å¹¶å‘è¯·æ±‚ä¸­çš„éƒ¨åˆ†å¤±è´¥
    CDNå­˜å‚¨å¹¶å‘æµ‹è¯•
      âœ• åº”è¯¥å¤„ç†å¹¶å‘CDNä¸Šä¼  (1 ms)
    è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯•
      âœ• åº”è¯¥å¤„ç†ç©ºæ–‡ä»¶
      âœ• åº”è¯¥å¤„ç†éå¸¸é•¿çš„æ–‡ä»¶å (13 ms)
      âœ• åº”è¯¥å¤„ç†è§£æè¶…æ—¶ (8 ms)
    ç‰¹æ®ŠURLå¤„ç†æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†Vercel Blob URL (3 ms)
      âœ“ åº”è¯¥å¤„ç†å¸¦æŸ¥è¯¢å‚æ•°çš„URL
    è°ƒè¯•å’Œæ—¥å¿—æµ‹è¯•
      âœ• åº”è¯¥åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æä¾›è¯¦ç»†ä¿¡æ¯ (1 ms)
    èƒŒæ™¯æ ¼å¼æµ‹è¯•
      âœ• åº”è¯¥æ­£ç¡®ä¼ é€’legacyèƒŒæ™¯æ ¼å¼ (1 ms)
      âœ• åº”è¯¥æ­£ç¡®ä¼ é€’pptistèƒŒæ™¯æ ¼å¼

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç†æµ‹è¯• â€º åº”è¯¥å¤„ç†å¤§æ–‡ä»¶ï¼ˆ10MBï¼‰çš„ä¸Šä¼ 

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      94 |       const responseData = await response.json();
      95 |
    > 96 |       expect(response.status).toBe(200);
         |                               ^
      97 |       expect(responseData.success).toBe(true);
      98 |       expect(responseData.debug.fileSize).toBe(10 * 1024 * 1024);
      99 |     });

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:96:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç†æµ‹è¯• â€º åº”è¯¥å¤„ç†å†…å­˜ä¸è¶³é”™è¯¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      111 |       const responseData = await response.json();
      112 |
    > 113 |       expect(response.status).toBe(500);
          |                               ^
      114 |       expect(responseData.error).toBe("Failed to parse PPTX file");
      115 |       expect(responseData.details).toContain("not enough memory");
      116 |     });

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:113:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç†æµ‹è¯• â€º åº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      141 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      142 |       requests.forEach((response) => {
    > 143 |         expect(response.status).toBe(200);
          |                                 ^
      144 |       });
      145 |
      146 |       // éªŒè¯è§£æå™¨è¢«è°ƒç”¨äº†æ­£ç¡®çš„æ¬¡æ•°

      at tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:143:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:142:16)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç†æµ‹è¯• â€º åº”è¯¥å¤„ç†å¹¶å‘è¯·æ±‚ä¸­çš„éƒ¨åˆ†å¤±è´¥

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      165 |
      166 |       // éªŒè¯ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªè¯·æ±‚æˆåŠŸ
    > 167 |       expect(requests[0].status).toBe(200);
          |                                  ^
      168 |       expect(requests[2].status).toBe(200);
      169 |
      170 |       // éªŒè¯ç¬¬äºŒä¸ªè¯·æ±‚å¤±è´¥

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:167:34)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º CDNå­˜å‚¨å¹¶å‘æµ‹è¯• â€º åº”è¯¥å¤„ç†å¹¶å‘CDNä¸Šä¼ 

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      210 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      211 |       requests.forEach((response) => {
    > 212 |         expect(response.status).toBe(200);
          |                                 ^
      213 |       });
      214 |
      215 |       // éªŒè¯CDNä¸Šä¼ è¢«è°ƒç”¨äº†æ­£ç¡®çš„æ¬¡æ•°

      at tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:212:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:211:16)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†ç©ºæ–‡ä»¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      230 |       const responseData = await response.json();
      231 |
    > 232 |       expect(response.status).toBe(200);
          |                               ^
      233 |       expect(responseData.debug.fileSize).toBe(0);
      234 |     });
      235 |

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:232:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†éå¸¸é•¿çš„æ–‡ä»¶å

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      246 |       const responseData = await response.json();
      247 |
    > 248 |       expect(response.status).toBe(200);
          |                               ^
      249 |       expect(responseData.filename).toBe(longName);
      250 |     });
      251 |

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:248:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†è§£æè¶…æ—¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      266 |       const responseData = await response.json();
      267 |
    > 268 |       expect(response.status).toBe(500);
          |                               ^
      269 |       expect(responseData.error).toBe("Failed to parse PPTX file");
      270 |       expect(responseData.details).toContain("timeout");
      271 |     });

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:268:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è°ƒè¯•å’Œæ—¥å¿—æµ‹è¯• â€º åº”è¯¥åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æä¾›è¯¦ç»†ä¿¡æ¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      338 |       const responseData = await response.json();
      339 |
    > 340 |       expect(response.status).toBe(200);
          |                               ^
      341 |       expect(responseData.debug.debugMode).toBe(true);
      342 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      343 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:340:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼æµ‹è¯• â€º åº”è¯¥æ­£ç¡®ä¼ é€’legacyèƒŒæ™¯æ ¼å¼

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<ArrayBuffer>, ObjectContaining {"backgroundFormat": "legacy"}

    Number of calls: 0

      367 |       await POST(request);
      368 |
    > 369 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
          |                                      ^
      370 |         expect.any(ArrayBuffer),
      371 |         expect.objectContaining({
      372 |           backgroundFormat: "legacy",

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:369:38)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼æµ‹è¯• â€º åº”è¯¥æ­£ç¡®ä¼ é€’pptistèƒŒæ™¯æ ¼å¼

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<ArrayBuffer>, ObjectContaining {"backgroundFormat": "pptist"}

    Number of calls: 0

      384 |       await POST(request);
      385 |
    > 386 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
          |                                      ^
      387 |         expect.any(ArrayBuffer),
      388 |         expect.objectContaining({
      389 |           backgroundFormat: "pptist",

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:386:38)

FAIL tests/__tests__/unit-converter-comprehensive.test.ts
  UnitConverter - Comprehensive Test Suite
    EMU to Points Conversions
      emuToPoints (with rounding)
        âœ“ should convert EMU to points with default 2 decimal precision
        âœ“ should handle custom precision levels (1 ms)
        âœ“ should handle zero and negative values
        âœ“ should handle very large values
        âœ“ should handle very small values
        âœ“ should handle NaN and Infinity
      emuToPointsPrecise (no rounding)
        âœ“ should convert EMU to points with full precision (1 ms)
        âœ“ should maintain precision for fractional EMU values
        âœ“ should handle edge cases (30 ms)
      emuToPointsRounded (integer output)
        âœ“ should round to nearest integer for pixel-perfect positioning
        âœ• should handle rounding edge cases (1 ms)
        âœ“ should handle negative values with proper rounding
    Points to EMU Conversion
      âœ“ should convert points back to EMU
      âœ“ should handle fractional points
      âœ“ should handle edge cases (1 ms)
      âœ“ should have reasonable round-trip accuracy
    Position Tolerance Checking
      âœ“ should check if values are within default tolerance
      âœ“ should check with custom tolerance
      âœ“ should handle zero and negative values
      âœ“ should handle edge cases (1 ms)
    Position Normalization
      âœ“ should normalize position values with default precision
      âœ“ should normalize with custom precision
      âœ“ should handle negative values
      âœ“ should handle edge cases
    Angle Conversions
      âœ“ should have accurate round-trip conversion for angles (4 ms)
      angleToDegreesFromEmu
        âœ“ should convert PowerPoint angle units to degrees
        âœ“ should handle fractional degrees
        âœ“ should handle negative angles (1 ms)
        âœ“ should handle angles beyond 360 degrees
      degreesToAngleEmu
        âœ“ should convert degrees to PowerPoint angle units
        âœ“ should handle fractional degrees
        âœ“ should handle negative degrees
    Performance and Precision
      âœ“ should maintain consistent precision across multiple operations (1 ms)
      âœ“ should handle precision edge cases correctly

  â— UnitConverter - Comprehensive Test Suite â€º EMU to Points Conversions â€º emuToPointsRounded (integer output) â€º should handle rounding edge cases

    expect(received).toBe(expected) // Object.is equality

    Expected: 3
    Received: 2

      87 |         // Test cases that should round properly
      88 |         expect(UnitConverter.emuToPointsRounded(9525)).toBe(1); // Should round to 1
    > 89 |         expect(UnitConverter.emuToPointsRounded(19050)).toBe(3); // Should round to 3
         |                                                         ^
      90 |       });
      91 |
      92 |       it('should handle negative values with proper rounding', () => {

      at Object.<anonymous> (tests/__tests__/unit-converter-comprehensive.test.ts:89:57)

FAIL tests/__tests__/font-size-calculator-comprehensive.test.ts
  FontSizeCalculator - Comprehensive Test Suite
    convertPowerPointToWebSize
      Standard Conversions
        âœ• should convert typical PowerPoint font sizes correctly (6 ms)
        âœ• should handle string inputs correctly (1 ms)
        âœ• should handle decimal inputs (1 ms)
        âœ“ should maintain precision with Decimal.js calculations
      Edge Cases
        âœ“ should handle very small font sizes (1 ms)
        âœ“ should handle very large font sizes
        âœ• should handle zero and negative values
        âœ• should handle scientific notation
        âœ“ should handle very precise decimal inputs
      Rounding Behavior
        âœ• should round to 2 decimal places using ROUND_HALF_UP
        âœ• should handle exact half values consistently
        âœ“ should produce consistent results for repeated calculations
      Error Handling
        âœ“ should throw for invalid string inputs (17 ms)
        âœ“ should throw for null and undefined inputs (2 ms)
        âœ• should handle special numeric values
    batchConvert
      âœ• should convert arrays of font sizes correctly (1 ms)
      âœ• should handle mixed string and number inputs (18 ms)
      âœ“ should handle empty arrays
      âœ• should handle large arrays efficiently (7 ms)
      âœ“ should propagate errors for invalid inputs in batch
    isValidSize
      Valid Inputs
        âœ“ should return true for valid numeric inputs
        âœ“ should return true for valid string inputs (1 ms)
        âœ“ should return true for decimal values
      Invalid Inputs
        âœ“ should return false for zero and negative values
        âœ“ should return false for invalid string inputs
        âœ“ should return false for null and undefined
        âœ“ should return false for special numeric values
        âœ“ should return false for objects and arrays
      Edge Cases
        âœ“ should handle very small positive values
        âœ“ should handle very large values
        âœ“ should handle boolean values
    getScalingFactor
      âœ“ should return the correct scaling factor (1 ms)
      âœ“ should be consistent across multiple calls
    Mathematical Accuracy
      âœ“ should maintain accuracy across the conversion formula
      âœ“ should handle the complete range of typical PowerPoint sizes (29 ms)
      âœ“ should produce results consistent with manual calculation
    Real-world Usage Scenarios
      âœ• should handle typical PowerPoint document processing
      âœ“ should handle slide master and layout processing (1 ms)
      âœ“ should handle mixed valid and invalid sizes in real documents
    Performance and Memory
      âœ• should handle large batch conversions efficiently (42 ms)
      âœ“ should not leak memory with repeated operations (62 ms)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Standard Conversions â€º should convert typical PowerPoint font sizes correctly

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      25 |         testCases.forEach(({ input, expected }) => {
      26 |           const result = FontSizeCalculator.convertPowerPointToWebSize(input);
    > 27 |           expect(result).toBeCloseTo(expected, 2);
         |                          ^
      28 |         });
      29 |       });
      30 |

      at tests/__tests__/font-size-calculator-comprehensive.test.ts:27:26
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:25:19)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Standard Conversions â€º should handle string inputs correctly

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      31 |       it('should handle string inputs correctly', () => {
      32 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1200')).toBeCloseTo(16.00, 2);
    > 33 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1800')).toBeCloseTo(24.00, 2);
         |                                                                       ^
      34 |         expect(FontSizeCalculator.convertPowerPointToWebSize('2400')).toBeCloseTo(32.00, 2);
      35 |       });
      36 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:33:71)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Standard Conversions â€º should handle decimal inputs

    expect(received).toBeCloseTo(expected, precision)

    Expected: 19.33
    Received: 19.34

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      37 |       it('should handle decimal inputs', () => {
      38 |         expect(FontSizeCalculator.convertPowerPointToWebSize(1250)).toBeCloseTo(16.66, 2);
    > 39 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1450.5')).toBeCloseTo(19.33, 2);
         |                                                                         ^
      40 |         expect(FontSizeCalculator.convertPowerPointToWebSize(1333.33)).toBeCloseTo(17.77, 2);
      41 |       });
      42 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:39:73)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Edge Cases â€º should handle zero and negative values

    expect(received).toBeCloseTo(expected, precision)

    Expected: -24
    Received: -23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      75 |         expect(FontSizeCalculator.convertPowerPointToWebSize(0)).toBe(0);
      76 |         expect(FontSizeCalculator.convertPowerPointToWebSize(-1200)).toBeCloseTo(-16.00, 2);
    > 77 |         expect(FontSizeCalculator.convertPowerPointToWebSize('-1800')).toBeCloseTo(-24.00, 2);
         |                                                                        ^
      78 |       });
      79 |
      80 |       it('should handle scientific notation', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:77:72)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Edge Cases â€º should handle scientific notation

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      80 |       it('should handle scientific notation', () => {
      81 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1.2e3')).toBeCloseTo(16.00, 2);
    > 82 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1.8e3')).toBeCloseTo(24.00, 2);
         |                                                                        ^
      83 |         expect(FontSizeCalculator.convertPowerPointToWebSize(1.5e4)).toBeCloseTo(199.95, 2);
      84 |       });
      85 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:82:72)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Rounding Behavior â€º should round to 2 decimal places using ROUND_HALF_UP

    expect(received).toBe(expected) // Object.is equality

    Expected: 16.07
    Received: 16.06

      103 |         roundingCases.forEach(({ input, expected }) => {
      104 |           const result = FontSizeCalculator.convertPowerPointToWebSize(input);
    > 105 |           expect(result).toBe(expected);
          |                          ^
      106 |         });
      107 |       });
      108 |

      at tests/__tests__/font-size-calculator-comprehensive.test.ts:105:26
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:103:23)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Rounding Behavior â€º should handle exact half values consistently

    expect(received).toBeCloseTo(expected, precision)

    Expected: 25
    Received: 24.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      116 |         halfValueCases.forEach(({ input, expected }) => {
      117 |           const result = FontSizeCalculator.convertPowerPointToWebSize(input);
    > 118 |           expect(result).toBeCloseTo(expected, 2);
          |                          ^
      119 |         });
      120 |       });
      121 |

      at tests/__tests__/font-size-calculator-comprehensive.test.ts:118:26
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:116:24)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Error Handling â€º should handle special numeric values

    expect(received).toThrow()

    Received function did not throw

      145 |
      146 |       it('should handle special numeric values', () => {
    > 147 |         expect(() => FontSizeCalculator.convertPowerPointToWebSize(NaN)).toThrow();
          |                                                                          ^
      148 |         expect(() => FontSizeCalculator.convertPowerPointToWebSize(Infinity)).toThrow();
      149 |         expect(() => FontSizeCalculator.convertPowerPointToWebSize(-Infinity)).toThrow();
      150 |       });

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:147:74)

  â— FontSizeCalculator - Comprehensive Test Suite â€º batchConvert â€º should convert arrays of font sizes correctly

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      161 |       expect(results[1]).toBeCloseTo(18.66, 2);
      162 |       expect(results[2]).toBeCloseTo(21.33, 2);
    > 163 |       expect(results[3]).toBeCloseTo(24.00, 2);
          |                          ^
      164 |     });
      165 |
      166 |     it('should handle mixed string and number inputs', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:163:26)

  â— FontSizeCalculator - Comprehensive Test Suite â€º batchConvert â€º should handle mixed string and number inputs

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      172 |       expect(results[1]).toBeCloseTo(18.66, 2);
      173 |       expect(results[2]).toBeCloseTo(21.33, 2);
    > 174 |       expect(results[3]).toBeCloseTo(24.00, 2);
          |                          ^
      175 |     });
      176 |
      177 |     it('should handle empty arrays', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:174:26)

  â— FontSizeCalculator - Comprehensive Test Suite â€º batchConvert â€º should handle large arrays efficiently

    expect(received).toBeCloseTo(expected, precision)

    Expected: 29.33
    Received: 29.31

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.019999999999999574

      189 |       expect(endTime - startTime).toBeLessThan(100); // Should be fast
      190 |       expect(results[0]).toBeCloseTo(16.00, 2);
    > 191 |       expect(results[999]).toBeCloseTo(29.33, 2);
          |                            ^
      192 |     });
      193 |
      194 |     it('should propagate errors for invalid inputs in batch', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:191:28)

  â— FontSizeCalculator - Comprehensive Test Suite â€º Real-world Usage Scenarios â€º should handle typical PowerPoint document processing

    expect(received).toBeCloseTo(expected, precision)

    Expected: 32
    Received: 31.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      354 |       expect(convertedSizes[0]).toBeCloseTo(16.00, 2);  // 12pt -> 16px
      355 |       expect(convertedSizes[1]).toBeCloseTo(18.66, 2);  // 14pt -> 18.66px
    > 356 |       expect(convertedSizes[4]).toBeCloseTo(32.00, 2);  // 24pt -> 32px
          |                                 ^
      357 |       expect(convertedSizes[6]).toBeCloseTo(48.00, 2);  // 36pt -> 48px
      358 |       
      359 |       // All should be valid sizes

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:356:33)

  â— FontSizeCalculator - Comprehensive Test Suite â€º Performance and Memory â€º should handle large batch conversions efficiently

    expect(received).toBeCloseTo(expected, precision)

    Expected: 80
    Received: 79.97

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.030000000000001137

      416 |       // Verify some results
      417 |       expect(results[0]).toBeCloseTo(13.33, 2);      // 1000 -> 13.33
    > 418 |       expect(results[4999]).toBeCloseTo(80.00, 2);   // 5999 -> 80.00
          |                             ^
      419 |       expect(results[9999]).toBeCloseTo(146.66, 2);  // 10999 -> 146.66
      420 |     });
      421 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:418:29)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

FAIL tests/__tests__/color-utils-comprehensive.test.ts
  ColorUtils - Comprehensive Test Suite
    toRgba - Color Format Normalization
      Hex Color Conversion
        âœ“ should convert 6-digit hex colors to rgba (1 ms)
        âœ“ should convert 3-digit hex colors to rgba
        âœ“ should convert 8-digit hex colors with alpha to rgba
        âœ• should handle hex colors without # prefix
        âœ• should handle invalid hex colors (1 ms)
        âœ“ should handle lowercase hex colors
      RGB Color Conversion
        âœ“ should convert rgb colors to rgba
        âœ“ should handle rgb colors with spaces
        âœ• should handle malformed rgb with alpha (1 ms)
        âœ• should handle invalid rgb colors
      RGBA Color Normalization
        âœ“ should normalize valid rgba colors
        âœ“ should handle rgba with spaces
        âœ“ should handle rgba with float RGB values (1 ms)
        âœ“ should handle malformed rgba without alpha (13 ms)
        âœ“ should handle case-insensitive rgba
        âœ“ should format alpha values correctly
      Special Color Values
        âœ“ should handle transparent and none values (1 ms)
        âœ“ should handle undefined, null, and empty values
        âœ“ should handle invalid color formats
    Color Integer Conversion
      âœ“ should convert color integers to rgba (13 ms)
      âœ“ should handle alpha values for integer colors (1 ms)
      âœ“ should handle edge cases for integer colors
    HSL Color Conversion
      âœ• should maintain round-trip accuracy between RGB and HSL
      rgbToHsl
        âœ“ should convert RGB to HSL correctly
        âœ“ should handle grayscale colors (4 ms)
        âœ“ should handle mixed colors (2 ms)
      hslToRgb
        âœ“ should convert HSL to RGB correctly (1 ms)
        âœ“ should handle grayscale colors
        âœ• should handle mixed colors (1 ms)
    Color Transformations
      applyLuminanceMod
        âœ“ should apply luminance modification correctly
        âœ“ should handle boundary values
        âœ“ should preserve alpha channel
      applyLuminanceOff
        âœ“ should apply luminance offset correctly
        âœ“ should clamp values to valid range
      applyShade
        âœ“ should apply shade transformation (darker) (1 ms)
        âœ“ should handle boundary values
        âœ“ should clamp factor to valid range
      applyTint
        âœ“ should apply tint transformation (lighter)
        âœ“ should handle boundary values
        âœ“ should clamp factor to valid range
      applySatMod
        âœ“ should apply saturation modification
        âœ“ should handle boundary values
      applyHueMod
        âœ“ should apply hue modification
        âœ“ should handle wrap-around hue values
      applyAlpha
        âœ“ should apply alpha transparency
        âœ“ should clamp alpha to valid range
    Preset Colors
      âœ“ should get standard preset colors
      âœ“ should handle case-sensitive preset color names (1 ms)
      âœ• should get extended preset colors
      âœ“ should handle both gray and grey variants
      âœ“ should return null for invalid preset colors
    Utility Functions
      toHex
        âœ“ should convert values to hex format
        âœ“ should handle out-of-range values
        âœ“ should handle fractional values
    Error Handling and Edge Cases
      âœ“ should handle null and undefined colors gracefully
      âœ“ should handle empty and whitespace-only strings
      âœ“ should handle malformed color strings
      âœ• should handle invalid transformations gracefully

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º Hex Color Conversion â€º should handle hex colors without # prefix

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255,0,0,1)"
    Received: "rgba(0,0,0,1)"

      33 |
      34 |       it('should handle hex colors without # prefix', () => {
    > 35 |         expect(ColorUtils.toRgba('FF0000')).toBe('rgba(255,0,0,1)');
         |                                             ^
      36 |         expect(ColorUtils.toRgba('00FF00')).toBe('rgba(0,255,0,1)');
      37 |         expect(ColorUtils.toRgba('F00')).toBe('rgba(255,0,0,1)');
      38 |       });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:35:45)

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º Hex Color Conversion â€º should handle invalid hex colors

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(0,0,0,1)"
    Received: "rgba(18,52,5,1)"

      40 |       it('should handle invalid hex colors', () => {
      41 |         expect(ColorUtils.toRgba('#GGGGGG')).toBe('rgba(0,0,0,1)');
    > 42 |         expect(ColorUtils.toRgba('#12345')).toBe('rgba(0,0,0,1)');
         |                                             ^
      43 |         expect(ColorUtils.toRgba('#XXXXXXXXX')).toBe('rgba(0,0,0,1)');
      44 |       });
      45 |

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:42:45)

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º RGB Color Conversion â€º should handle malformed rgb with alpha

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255,0,0,0.5)"
    Received: "rgba(0,0,0,1)"

      66 |
      67 |       it('should handle malformed rgb with alpha', () => {
    > 68 |         expect(ColorUtils.toRgba('rgb(255,0,0,0.5)')).toBe('rgba(255,0,0,0.5)');
         |                                                       ^
      69 |         expect(ColorUtils.toRgba('rgb(255,0,0,1)')).toBe('rgba(255,0,0,1)');
      70 |         expect(ColorUtils.toRgba('rgb(255,0,0,0)')).toBe('rgba(255,0,0,0)');
      71 |       });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:68:55)

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º RGB Color Conversion â€º should handle invalid rgb colors

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(-1,0,0,1)"
    Received: "rgba(0,0,0,1)"

      73 |       it('should handle invalid rgb colors', () => {
      74 |         expect(ColorUtils.toRgba('rgb(256,0,0)')).toBe('rgba(256,0,0,1)');
    > 75 |         expect(ColorUtils.toRgba('rgb(-1,0,0)')).toBe('rgba(-1,0,0,1)');
         |                                                  ^
      76 |         expect(ColorUtils.toRgba('rgb(a,b,c)')).toBe('rgba(0,0,0,1)');
      77 |       });
      78 |     });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:75:50)

  â— ColorUtils - Comprehensive Test Suite â€º HSL Color Conversion â€º hslToRgb â€º should handle mixed colors

    expect(received).toBeCloseTo(expected, precision)

    Expected: 128
    Received: 127

    Expected precision:    0
    Expected difference: < 0.5
    Received difference:   1

      195 |       it('should handle mixed colors', () => {
      196 |         const rgb = ColorUtils.hslToRgb(0.75, 0.5, 0.5);
    > 197 |         expect(rgb.r).toBeCloseTo(128, 0);
          |                       ^
      198 |         expect(rgb.g).toBeCloseTo(64, 0);
      199 |         expect(rgb.b).toBeCloseTo(192, 0);
      200 |       });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:197:23)

  â— ColorUtils - Comprehensive Test Suite â€º HSL Color Conversion â€º should maintain round-trip accuracy between RGB and HSL

    expect(received).toBeCloseTo(expected, precision)

    Expected: 127.5
    Received: 128

    Expected precision:    0
    Expected difference: < 0.5
    Received difference:   0.5

      211 |         const hsl = ColorUtils.rgbToHsl(r, g, b);
      212 |         const rgb = ColorUtils.hslToRgb(hsl.h, hsl.s, hsl.l);
    > 213 |         expect(rgb.r).toBeCloseTo(r * 255, 0);
          |                       ^
      214 |         expect(rgb.g).toBeCloseTo(g * 255, 0);
      215 |         expect(rgb.b).toBeCloseTo(b * 255, 0);
      216 |       });

      at tests/__tests__/color-utils-comprehensive.test.ts:213:23
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:210:18)

  â— ColorUtils - Comprehensive Test Suite â€º Preset Colors â€º should get extended preset colors

    expect(received).toBe(expected) // Object.is equality

    Expected: "#C71585"
    Received: null

      403 |       expect(ColorUtils.getPresetColor('aliceBlue')).toBe('#F0F8FF');
      404 |       expect(ColorUtils.getPresetColor('antiqueWhite')).toBe('#FAEBD7');
    > 405 |       expect(ColorUtils.getPresetColor('mediumVioletRed')).toBe('#C71585');
          |                                                            ^
      406 |       expect(ColorUtils.getPresetColor('darkSlateGray')).toBe('#2F4F4F');
      407 |     });
      408 |

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:405:60)

  â— ColorUtils - Comprehensive Test Suite â€º Error Handling and Edge Cases â€º should handle invalid transformations gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: "invalid"
    Received: "rgba(0,0,0,1)"

      464 |
      465 |     it('should handle invalid transformations gracefully', () => {
    > 466 |       expect(ColorUtils.applyShade('invalid', 0.5)).toBe('invalid');
          |                                                     ^
      467 |       expect(ColorUtils.applyTint('invalid', 0.5)).toBe('invalid');
      468 |       expect(ColorUtils.applyAlpha('invalid', 0.5)).toBe('invalid');
      469 |     });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:466:53)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:166:35)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    Warning: Received `true` for a non-boolean attribute `jsx`.
    
    If you want to write it to the DOM, pass a string instead: jsx="true" or jsx={value.toString()}.
        at style
        at div
        at MonacoJsonLoader (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:25:3)

      37 |       };
      38 |
    > 39 |       render(<MonacoJsonLoader source={source} />);
         |             ^
      40 |
      41 |       // Should show loading state
      42 |       expect(screen.getByText(/Downloading/)).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3765:9)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader-large-files.test.tsx:39:13)

  console.log
    Loading JSON from URL: https://example.com/large-file.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Loading JSON file: 15.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    ğŸ”„ Using optimized loading for large file...

      at loadJson (components/MonacoJsonLoader.tsx:112:21)

  console.log
    âœ… Large file loaded successfully (minimized format)

      at loadJson (components/MonacoJsonLoader.tsx:143:21)

  console.log
    ğŸ“Š Performance note: File size is 15.00MB. For better performance with large files, consider:
                - Using JSONLoader in view-only mode
                - Breaking large files into smaller chunks
                - Using streaming JSON processing

      at loadJson (components/MonacoJsonLoader.tsx:155:21)

  console.log
    æ€§èƒ½æµ‹è¯•ç»“æœ: 145ms, å†…å­˜å¢é•¿: 1MB

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:131:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    å¤§å‹æ¼”ç¤ºæ–‡ç¨¿æµ‹è¯•: 100ä¸ªå…ƒç´ , 8ms, å†…å­˜: 0MB

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:198:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    Warning: Received `true` for a non-boolean attribute `jsx`.
    
    If you want to write it to the DOM, pass a string instead: jsx="true" or jsx={value.toString()}.
        at style
        at FileUploader (/Users/tanghehui/ExploreProject/pptxtojson/components/FileUploader.tsx:10:32)

      19 |   describe('Basic Rendering', () => {
      20 |     it('renders upload button with correct text when not loading', () => {
    > 21 |       render(<FileUploader onFileUpload={mockOnFileUpload} loading={false} />);
         |             ^
      22 |       
      23 |       const button = screen.getByRole('button');
      24 |       expect(button).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3765:9)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/file-uploader.test.tsx:21:13)

  console.log
    Loading JSON from URL: https://example.com/very-large.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 20.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    ğŸ”„ Using optimized loading for large file...

      at loadJson (components/MonacoJsonLoader.tsx:112:21)

  console.log
    âœ… Large file loaded successfully (minimized format)

      at loadJson (components/MonacoJsonLoader.tsx:143:21)

  console.log
    ğŸ“Š Performance note: File size is 20.00MB. For better performance with large files, consider:
                - Using JSONLoader in view-only mode
                - Breaking large files into smaller chunks
                - Using streaming JSON processing

      at loadJson (components/MonacoJsonLoader.tsx:155:21)

  console.log
    Loading JSON from URL: https://example.com/slow-file.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.error
    Warning: Received `true` for a non-boolean attribute `global`.
    
    If you want to write it to the DOM, pass a string instead: global="true" or global={value.toString()}.
        at style
        at FileUploader (/Users/tanghehui/ExploreProject/pptxtojson/components/FileUploader.tsx:10:32)

      19 |   describe('Basic Rendering', () => {
      20 |     it('renders upload button with correct text when not loading', () => {
    > 21 |       render(<FileUploader onFileUpload={mockOnFileUpload} loading={false} />);
         |             ^
      22 |       
      23 |       const button = screen.getByRole('button');
      24 |       expect(button).toBeInTheDocument();

      at printWarning (node_modules/react-dom/cjs/react-dom.development.js:86:30)
      at error (node_modules/react-dom/cjs/react-dom.development.js:60:7)
      at validateProperty$1 (node_modules/react-dom/cjs/react-dom.development.js:3765:9)
      at warnUnknownProperties (node_modules/react-dom/cjs/react-dom.development.js:3803:21)
      at validateProperties$2 (node_modules/react-dom/cjs/react-dom.development.js:3827:3)
      at validatePropertiesInDevelopment (node_modules/react-dom/cjs/react-dom.development.js:9541:5)
      at setInitialProperties (node_modules/react-dom/cjs/react-dom.development.js:9830:5)
      at finalizeInitialChildren (node_modules/react-dom/cjs/react-dom.development.js:10950:3)
      at completeWork (node_modules/react-dom/cjs/react-dom.development.js:22232:17)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26632:16)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26607:5)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/file-uploader.test.tsx:21:13)

  console.log
    å¹¶å‘æ•ˆç‡æµ‹è¯•: 5ä¸ªä»»åŠ¡, 122ms, å†…å­˜: -4MB

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:246:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.warn
    Fetch attempt 1 failed: Error [AbortError]: Request timeout
        at /Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:126:27
        at Timeout.task [as _onTimeout] (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    âŒ PPTXImageProcessor error: Error: Input buffer contains unsupported image format
        at Sharp.metadata (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:549:17)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:138:36)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/pptx-image-processor-comprehensive.test.ts:278:30)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/pptx-image-processor-comprehensive.test.ts:278:7)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/pptx-image-processor-comprehensive.test.ts
  PPTXImageProcessor ç»¼åˆæµ‹è¯•
    å¤æ‚æ‹‰ä¼¸åœºæ™¯æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†æç«¯æ‹‰ä¼¸æ¯”ä¾‹ï¼ˆè¶…è¿‡200%ç¼©æ”¾ï¼‰ (52 ms)
      âœ“ åº”è¯¥å¤„ç†å¾®å°æ‹‰ä¼¸å€¼ï¼ˆ0.001çº§åˆ«ç²¾åº¦ï¼‰ (16 ms)
      âœ“ åº”è¯¥å¤„ç†æ··åˆsrcRectè£å‰ª+fillRectæ‹‰ä¼¸çš„å¤åˆå˜æ¢ (13 ms)
      âœ“ åº”è¯¥å¤„ç†ä¸è§„åˆ™é•¿å®½æ¯”è½¬æ¢ï¼ˆ16:9 â†’ 1:1ï¼‰ (44 ms)
    æ€§èƒ½å’Œå†…å­˜æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†å¤§å°ºå¯¸å›¾ç‰‡ï¼ˆ4K+ï¼‰è€Œä¸å‡ºç°å†…å­˜æ³„æ¼ (183 ms)
      âœ“ åº”è¯¥åœ¨å¹¶å‘å¤„ç†å¤šå¼ å›¾ç‰‡æ—¶ä¿æŒç¨³å®šæ€§ (20 ms)
      âœ“ åº”è¯¥æ­£ç¡®é‡Šæ”¾Sharpå®ä¾‹èµ„æº (88 ms)
    è¾¹ç•Œå’Œå¼‚å¸¸å¤„ç†
      âœ“ åº”è¯¥å¤„ç†å›¾ç‰‡å¤„ç†è¿‡ç¨‹ä¸­çš„Sharpå¼‚å¸¸ (15 ms)
      âœ“ åº”è¯¥å¤„ç†é…ç½®å‚æ•°è¾¹ç•Œå€¼ (8 ms)
      âœ“ åº”è¯¥å¤„ç†æç«¯çš„fillRectå€¼ç»„åˆ (6 ms)
    createConfigFromStretchInfo é™æ€æ–¹æ³•æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®åˆ›å»ºå¤æ‚çš„é…ç½®å¯¹è±¡ (2 ms)
      âœ“ åº”è¯¥å¤„ç†ä¸å®Œæ•´çš„stretchInfo (1 ms)

PASS tests/__tests__/file-uploader.test.tsx
  FileUploader Component
    Basic Rendering
      âœ“ renders upload button with correct text when not loading (182 ms)
      âœ“ renders loading state correctly (8 ms)
      âœ“ displays file size limit message (3 ms)
    File Input Behavior
      âœ“ has hidden file input with correct accept attribute (11 ms)
      âœ“ triggers file input click when button is clicked (66 ms)
      âœ“ does not trigger file input when loading (15 ms)
    File Upload Handling
      âœ“ calls onFileUpload when a file is selected (11 ms)
      âœ“ does not call onFileUpload when no file is selected (5 ms)
      âœ“ handles multiple file selection (takes first file) (4 ms)
      âœ“ clears file input value before new selection (20 ms)
    Styling and Visual States
      âœ“ applies correct button styles when not loading (3 ms)
      âœ“ applies correct button styles when loading (9 ms)
      âœ“ shows spinner animation when loading (4 ms)
      âœ“ centers content properly (4 ms)
    Accessibility
      âœ“ button is keyboard accessible (33 ms)
      âœ“ disabled state prevents keyboard activation (40 ms)
      âœ“ file input is properly hidden from screen readers (4 ms)
    Edge Cases
      âœ“ handles rapid button clicks gracefully (35 ms)
      âœ“ handles file with invalid type gracefully (6 ms)
      âœ“ handles null files array (4 ms)
    Component Lifecycle
      âœ“ maintains ref across re-renders (7 ms)
      âœ“ updates loading state dynamically (6 ms)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 1600x1067

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 1349.9629058834726x759.2916345610157

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: -0.04881, top: 0.06029, right: 0.30709, bottom: 0.06029 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    âœ… PPTX uploaded to CDN: https://test-cdn.vercel-storage.com/test-123.pptx

      at handleFileChange (components/CdnFileUploader.tsx:84:19)

  console.log
    âœ… PPTX uploaded to CDN: https://test-cdn.vercel-storage.com/test-123.pptx

      at handleFileChange (components/CdnFileUploader.tsx:84:19)

  console.error
    Error uploading PPTX to CDN: Error: CDN upload failed
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/cdn-file-uploader.test.tsx:225:32)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      109 |           }
      110 |         } catch (error) {
    > 111 |           console.error("Error uploading PPTX to CDN:", error);
          |                   ^
      112 |           alert(`Failed to upload PPTX to CDN: ${error instanceof Error ? error.message : String(error)}`);
      113 |         } finally {
      114 |           setUploadingToCdn(false);

      at handleFileChange (components/CdnFileUploader.tsx:111:19)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-22-181Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-22-181Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 1349.9629058834726, height: 759.2916345610157 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

PASS tests/__tests__/cdn-file-uploader.test.tsx
  CdnFileUploader Component
    Component Rendering
      âœ“ renders with default state (89 ms)
      âœ“ renders with loading state (16 ms)
      âœ“ shows custom filename input when useCdn is enabled (18 ms)
    Switch Component Integration
      âœ“ toggles PPTX CDN upload switch (16 ms)
      âœ“ toggles JSON CDN upload switch (8 ms)
      âœ“ disables switches when loading (6 ms)
    File Upload Workflows
      âœ“ handles direct file upload without CDN (6 ms)
      âœ“ handles CDN-first upload workflow (24 ms)
      âœ“ generates unique filenames for CDN uploads (13 ms)
      âœ“ handles CDN upload errors gracefully (23 ms)
    Results Display
      âœ“ displays CDN upload success result (14 ms)
      âœ“ displays direct response result (3 ms)
      âœ“ displays CDN error warning (5 ms)
    User Interactions
      âœ“ handles custom filename input (10 ms)
      âœ“ copies CDN URL to clipboard (65 ms)
      âœ“ opens CDN URL in new tab (11 ms)
    Accessibility
      âœ“ provides proper ARIA labels for switches (3 ms)
      âœ“ maintains focus management during interactions (8 ms)

  console.log
    ğŸ”„ Applying fillRect transform on 1600x1067 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 1349.9629058834726x759.2916345610157

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L-4.881% T6.029% R30.709% B6.029%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 1001.3x667.7

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L-66px T46px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 1001x668

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(-66, 46), display(1001x668)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”§ Handling negative offsets: L-66px T46px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:423:17)

  console.log
    Loading JSON from URL: https://example.com/large-file.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 15.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    ğŸ”„ Using optimized loading for large file...

      at loadJson (components/MonacoJsonLoader.tsx:112:21)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Loading JSON file: 15.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    ğŸ”„ Using optimized loading for large file...

      at loadJson (components/MonacoJsonLoader.tsx:112:21)

  console.log
    âœ… Large file loaded successfully (minimized format)

      at loadJson (components/MonacoJsonLoader.tsx:143:21)

  console.log
    ğŸ“Š Performance note: File size is 15.00MB. For better performance with large files, consider:
                - Using JSONLoader in view-only mode
                - Breaking large files into smaller chunks
                - Using streaming JSON processing

      at loadJson (components/MonacoJsonLoader.tsx:155:21)

  console.log
    âœ… Large file loaded successfully (minimized format)

      at loadJson (components/MonacoJsonLoader.tsx:143:21)

  console.log
    ğŸ“Š Performance note: File size is 15.00MB. For better performance with large files, consider:
                - Using JSONLoader in view-only mode
                - Breaking large files into smaller chunks
                - Using streaming JSON processing

      at loadJson (components/MonacoJsonLoader.tsx:155:21)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:pic - Name: "Image 0", ID: 9, HasBlipFill: true

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.warn
    FillRect would cause division by zero in ImageElement Gngc80ceGI: {
      left: 0.29807407407407405,
      top: 0.3317991769547326,
      right: 0.7019259259259258,
      bottom: 0.6682008230452674,
      widthDenominator: 1.1102230246251565e-16,
      heightDenominator: 0
    }

      126 |       
      127 |       if (widthDenominator <= 0.001 || heightDenominator <= 0.001) {
    > 128 |         console.warn(`FillRect would cause division by zero in ImageElement ${this.id}:`, {
          |                 ^
      129 |           left, top, right, bottom,
      130 |           widthDenominator, heightDenominator
      131 |         });

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:128:17)
      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:82:40)
      at ImageProcessor.process (app/lib/services/element/processors/ImageProcessor.ts:266:11)
      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:243:26)
      at SlideParser.parseElements (app/lib/services/parsing/SlideParser.ts:196:28)
      at SlideParser.parse (app/lib/services/parsing/SlideParser.ts:76:24)
      at PresentationParser.parse (app/lib/services/parsing/PresentationParser.ts:70:25)
      at InternalPPTXParser.parse (app/lib/parser/InternalPPTXParser.ts:124:35)
      at InternalPPTXParser.parseToJSON (app/lib/parser/InternalPPTXParser.ts:158:20)
      at parse (app/lib/pptxtojson.ts:11:18)
      at Object.<anonymous> (tests/output-comparison.test.ts:21:22)

  console.log
    [Slide 1] Processed as image

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 6", ID: 9, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 7", ID: 10, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 8", ID: 11, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 9", ID: 12, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 10", ID: 13, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 11", ID: 14, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 12", ID: 15, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 13", ID: 16, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 0", ID: 2, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 1", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    æœŸæœ›è¾“å‡ºç»“æ„: { slides: 3, theme: true, title: true }

      at Object.<anonymous> (tests/output-comparison.test.ts:23:15)

  console.log
    å®é™…è¾“å‡ºç»“æ„: { slides: 3, theme: true, slideSize: false, metadata: false }

      at Object.<anonymous> (tests/output-comparison.test.ts:29:15)

  console.log
    
    === å…ƒç´ å°ºå¯¸æ¯”è¾ƒè¯¦æƒ… ===

      at Object.<anonymous> (tests/output-comparison.test.ts:50:15)

  console.log
    
    å¹»ç¯ç‰‡ 1:

      at tests/output-comparison.test.ts:58:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´ æ•°é‡ - æœŸæœ›: 7, å®é™…: 7

      at tests/output-comparison.test.ts:64:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  1 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (69.34518477439033, 161.45814757440397), å®é™…: (66.57, 155)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 551.7620816615959 x 182, å®é™…: 529.69 x 174.72

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 22.072081661595803px, é«˜åº¦: 7.280000000000001px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  2 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (69.34518477439033, 351.68421628670393), å®é™…: (66.57, 337.62)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 379.1841004184101 x 53, å®é™…: 364.02 x 50.88

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 15.1641004184101px, é«˜åº¦: 2.1199999999999974px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  3 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (69.34518477439033, 398.56480025383394), å®é™…: (66.57, 382.62)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 266.0220168414701 x 50, å®é™…: 255.38 x 48

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 10.642016841470081px, é«˜åº¦: 2px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  4 (shape):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (82.11631209789874, 121.40953099047117), å®é™…: (78.83170406595276, 116.55317293918898)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 20 x 20, å®é™…: 19.199999520000002 x 19.199999520000002

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 0.8000004799999978px, é«˜åº¦: 0.8000004799999978px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  5 (shape):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (120.77310027868378, 121.40953099047117), å®é™…: (115.94214933241733, 116.55317293918898)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 20 x 20, å®é™…: 19.199999520000002 x 19.199999520000002

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 0.8000004799999978px, é«˜åº¦: 0.8000004799999978px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  6 (shape):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (159.4298884594688, 121.40953099047117), å®é™…: (153.0526995857559, 116.55317293918898)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 20 x 20, å®é™…: 19.199999520000002 x 19.199999520000002

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 0.8000004799999978px, é«˜åº¦: 0.8000004799999978px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  7 (image):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (419.16567695962, 262.46271984964926), å®é™…: (402.4, 251.96)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 231.44299287410928 x 231.44299287410928, å®é™…: 222.1852962826378 x 222.1852962826378

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 9.257696591471472px, é«˜åº¦: 9.257696591471472px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
    
    å¹»ç¯ç‰‡ 2:

      at tests/output-comparison.test.ts:58:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´ æ•°é‡ - æœŸæœ›: 14, å®é™…: 14

      at tests/output-comparison.test.ts:64:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  1 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (264.15094339622647, 46.42254343030217), å®é™…: (253.58, 44.57)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 471.6981132075471 x 119, å®é™…: 452.83 x 114.24

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 18.86811320754714px, é«˜åº¦: 4.760000000000005px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  2 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (408.35777126099714, 74.92385576626017), å®é™…: (392.02, 71.93)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 183.28445747800583 x 80, å®é™…: 175.95 x 76.8

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 7.334457478005845px, é«˜åº¦: 3.200000000000003px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  3 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (166.25130482955814, 197.97843137254893), å®é™…: (159.6, 190.06)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 354 x 56, å®é™…: 339.84 x 53.76

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 14.160000000000025px, é«˜åº¦: 2.240000000000002px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  4 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (105.73535063775813, 192.73321763008892), å®é™…: (101.51, 185.02)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 78 x 68, å®é™…: 74.88 x 65.28

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.1200000000000045px, é«˜åº¦: 2.719999999999999px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  5 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (583.4391493876715, 197.97843137254893), å®é™…: (560.1, 190.06)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 353.9867292795341 x 56, å®é™…: 339.83 x 53.76

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 14.15672927953409px, é«˜åº¦: 2.240000000000002px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  6 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (522.9231951958715, 192.73321763008892), å®é™…: (502.01, 185.02)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 78 x 68, å®é™…: 74.88 x 65.28

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.1200000000000045px, é«˜åº¦: 2.719999999999999px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  7 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (166.26795391977294, 266.7117647058823), å®é™…: (159.62, 256.04)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 354 x 56, å®é™…: 339.84 x 53.76

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 14.160000000000025px, é«˜åº¦: 2.240000000000002px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  8 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (105.75199972797293, 261.46655096342226), å®é™…: (101.52, 251.01)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 78 x 68, å®é™…: 74.88 x 65.28

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.1200000000000045px, é«˜åº¦: 2.719999999999999px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  9 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (583.4258786672056, 266.7117647058823), å®é™…: (560.09, 256.04)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 354 x 56, å®é™…: 339.84 x 53.76

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 14.160000000000025px, é«˜åº¦: 2.240000000000002px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  10 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (522.9099244754055, 261.46655096342226), å®é™…: (501.99, 251.01)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 78 x 68, å®é™…: 74.88 x 65.28

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.1200000000000045px, é«˜åº¦: 2.719999999999999px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  11 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (166.26000048173208, 335.44509803921585), å®é™…: (159.61, 322.03)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 354 x 56, å®é™…: 339.84 x 53.76

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 14.160000000000025px, é«˜åº¦: 2.240000000000002px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  12 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (105.74404628993207, 330.19988429675584), å®é™…: (101.51, 316.99)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 78 x 68, å®é™…: 74.88 x 65.28

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.1200000000000045px, é«˜åº¦: 2.719999999999999px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  13 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (583.4258786672056, 335.44509803921585), å®é™…: (560.09, 322.03)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 354 x 56, å®é™…: 339.84 x 53.76

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 14.160000000000025px, é«˜åº¦: 2.240000000000002px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  14 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (522.9099244754055, 330.19988429675584), å®é™…: (501.99, 316.99)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 78 x 68, å®é™…: 74.88 x 65.28

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.1200000000000045px, é«˜åº¦: 2.719999999999999px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
    âœ‚ï¸ Cropped image: 935x668 from (66,0)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:470:19)

  console.log
    ğŸ”² Composited at: L0px T46px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:473:19)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
    
    å¹»ç¯ç‰‡ 3:

      at tests/output-comparison.test.ts:58:19
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“‹ Final image size: 1350x759

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
      å…ƒç´ æ•°é‡ - æœŸæœ›: 2, å®é™…: 2

      at tests/output-comparison.test.ts:64:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  1 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
        ä½ç½® - æœŸæœ›: (83.99018920344875, 146.26312335958005), å®é™…: (80.63, 140.41)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
    âœ… Processing complete: 1349.9629058834726x759.2916345610157

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
        å°ºå¯¸ - æœŸæœ›: 81.06930335998075 x 60, å®é™…: 77.83 x 57.6

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
        å·®å¼‚ - å®½åº¦: 3.2393033599807524px, é«˜åº¦: 2.3999999999999986px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":-0.04881,"top":0.06029,"right":0.30709,"bottom":0.06029}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
        âœ… å°ºå¯¸åœ¨å¯æ¥å—èŒƒå›´å†…

      at tests/output-comparison.test.ts:102:23
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  2 (text):

      at tests/output-comparison.test.ts:77:21
          at Array.forEach (<anonymous>)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-22-743Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-22-743Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
        ä½ç½® - æœŸæœ›: (87.99018920344875, 223.75218722659667), å®é™…: (84.47, 214.8)

      at tests/output-comparison.test.ts:78:21
          at Array.forEach (<anonymous>)

  console.log
        å°ºå¯¸ - æœŸæœ›: 552.9306934242244 x 80, å®é™…: 530.81 x 76.8

      at tests/output-comparison.test.ts:81:21
          at Array.forEach (<anonymous>)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
        å·®å¼‚ - å®½åº¦: 22.12069342422444px, é«˜åº¦: 3.200000000000003px

      at tests/output-comparison.test.ts:93:21
          at Array.forEach (<anonymous>)

  console.log
        âŒ å°ºå¯¸å·®å¼‚è¶…å‡ºå®¹å·®èŒƒå›´ (Â±5px)

      at tests/output-comparison.test.ts:100:23
          at Array.forEach (<anonymous>)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    
    === æ€»ç»“ ===

      at Object.<anonymous> (tests/output-comparison.test.ts:108:15)

  console.log
    æ€»åŒ¹é…å…ƒç´ : 23

      at Object.<anonymous> (tests/output-comparison.test.ts:109:15)

  console.log
    ğŸ“ FillRect offsets: { left: -0.1, top: -0.2, right: 0.1, bottom: 0.1 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    å°ºå¯¸ä¸åŒ¹é…: 13

      at Object.<anonymous> (tests/output-comparison.test.ts:110:15)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-22-767Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-22-767Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    åŒ¹é…ç‡: 43.5%

      at Object.<anonymous> (tests/output-comparison.test.ts:111:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L-10.000% T-20.000% R10.000% B10.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 200.0x165.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L-20px T-30px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 200x165

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(-20, -30), display(200x165)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    å¹»ç¯ç‰‡ 1: æœŸæœ› 7 ä¸ªå…ƒç´ , å®é™… 7 ä¸ª

      at tests/output-comparison.test.ts:146:17
          at Array.forEach (<anonymous>)

  console.log
    ğŸ”§ Handling negative offsets: L-20px T-30px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:423:17)

  console.log
    å¹»ç¯ç‰‡ 2: æœŸæœ› 14 ä¸ªå…ƒç´ , å®é™… 14 ä¸ª

      at tests/output-comparison.test.ts:146:17
          at Array.forEach (<anonymous>)

  console.log
    å¹»ç¯ç‰‡ 3: æœŸæœ› 2 ä¸ªå…ƒç´ , å®é™… 2 ä¸ª

      at tests/output-comparison.test.ts:146:17
          at Array.forEach (<anonymous>)

  console.log
    âœ‚ï¸ Cropped image: 180x135 from (20,30)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:470:19)

  console.log
    ğŸ”² Composited at: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:473:19)

  console.log
    é¢œè‰² dk1: æœŸæœ› rgba(0,7,15,1), å®é™… #000000

      at tests/output-comparison.test.ts:177:21
          at Array.forEach (<anonymous>)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    é¢œè‰² lt1: æœŸæœ› #FFFFFF, å®é™… #FFFFFF

      at tests/output-comparison.test.ts:177:21
          at Array.forEach (<anonymous>)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":-0.1,"top":-0.2,"right":0.1,"bottom":0.1}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    é¢œè‰² accent1: æœŸæœ› rgba(0,7,15,1), å®é™… #4472C4

      at tests/output-comparison.test.ts:177:21
          at Array.forEach (<anonymous>)

  console.log
    é¢œè‰² accent2: æœŸæœ› #16a2ffff, å®é™… #ED7D31

      at tests/output-comparison.test.ts:177:21
          at Array.forEach (<anonymous>)

  console.log
    å®é™…ç¬¬ä¸€å¼ å¹»ç¯ç‰‡çš„æ–‡æœ¬å…ƒç´ å†…å®¹ï¼š

      at Object.<anonymous> (tests/output-comparison.test.ts:208:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-22-779Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-22-779Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    é¦–é¡µæ ‡é¢˜å…ƒç´ : æœŸæœ› 0, å®é™… 0

      at Object.<anonymous> (tests/output-comparison.test.ts:215:17)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: -0.1, top: -0.1, right: -0.1, bottom: -0.1 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.warn
    â— è·³è¿‡æ ‡é¢˜å…ƒç´ æ£€æŸ¥ï¼Œå› ä¸ºå®é™…è¾“å‡ºä¸­æ²¡æœ‰è§£æåˆ°æ–‡æœ¬å†…å®¹

      221 |           expect(actualTitleElements.length).toBeGreaterThan(0);
      222 |         } else {
    > 223 |           console.warn('â— è·³è¿‡æ ‡é¢˜å…ƒç´ æ£€æŸ¥ï¼Œå› ä¸ºå®é™…è¾“å‡ºä¸­æ²¡æœ‰è§£æåˆ°æ–‡æœ¬å†…å®¹');
          |                   ^
      224 |         }
      225 |
      226 |         if (

      at Object.<anonymous> (tests/output-comparison.test.ts:223:19)

  console.log
    ç›®å½•ç¼–å·: æœŸæœ› 0, å®é™… 0

      at Object.<anonymous> (tests/output-comparison.test.ts:266:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-22-788Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ç›®å½•é¡¹ç›®: æœŸæœ› 0, å®é™… 0

      at Object.<anonymous> (tests/output-comparison.test.ts:290:17)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-22-788Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.warn
    âš ï¸ No TOC items found. This might be due to text parsing issues or different slide content.

      294 |         // å¦‚æœç›®å½•é¡µæ²¡æœ‰æ–‡æœ¬å†…å®¹ï¼Œå¯èƒ½æ˜¯å› ä¸ºæ–‡æœ¬è§£æé—®é¢˜ï¼Œç»™å‡ºè­¦å‘Šè€Œä¸æ˜¯å¤±è´¥
      295 |         if (actualTocItems.length === 0) {
    > 296 |           console.warn('âš ï¸ No TOC items found. This might be due to text parsing issues or different slide content.');
          |                   ^
      297 |           // æ£€æŸ¥æ˜¯å¦è‡³å°‘æœ‰å…ƒç´ å­˜åœ¨
      298 |           expect(actualTocSlide.elements.length).toBeGreaterThan(0);
      299 |         } else {

      at Object.<anonymous> (tests/output-comparison.test.ts:296:19)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    å½¢çŠ¶: æœŸæœ› 3, å®é™… 3

      at Object.<anonymous> (tests/output-comparison.test.ts:322:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    å›¾åƒ: æœŸæœ› 1, å®é™… 1

      at Object.<anonymous> (tests/output-comparison.test.ts:364:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L-10.000% T-10.000% R-10.000% B-10.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 240.0x180.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L-20px T-15px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 240x180

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(-20, -15), display(240x180)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”§ Handling negative offsets: L-20px T-15px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:423:17)

  console.log
    âœ‚ï¸ Cropped image: 200x150 from (20,15)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:470:19)

  console.log
    ğŸ”² Composited at: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:473:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":-0.1,"top":-0.1,"right":-0.1,"bottom":-0.1}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-22-805Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-22-805Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

PASS tests/__tests__/negative-offset-handling.test.ts
  è´Ÿå€¼åç§»å¤„ç†æµ‹è¯•
    âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å®é™…æ¡ˆä¾‹ä¸­çš„è´Ÿå€¼åç§» (634 ms)
    âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å·¦ä¸Šè§’éƒ½æ˜¯è´Ÿå€¼çš„æƒ…å†µ (21 ms)
    âœ“ åº”è¯¥æ­£ç¡®å¤„ç†æ‰€æœ‰è¾¹éƒ½æ˜¯è´Ÿå€¼çš„æƒ…å†µ (23 ms)

  console.log
    æ€»å…ƒç´ æ•°: æœŸæœ› 23, å®é™… 23

      at Object.<anonymous> (tests/output-comparison.test.ts:501:15)

  console.log
    ä¸­æ–‡æ–‡æœ¬å…ƒç´ : 0 / 0

      at Object.<anonymous> (tests/output-comparison.test.ts:525:15)

  console.warn
    âš ï¸ No text elements found. This might be due to text parsing issues.

      529 |       // å¦‚æœæ²¡æœ‰æ‰¾åˆ°æ–‡æœ¬å…ƒç´ ï¼Œå¯èƒ½æ˜¯æ–‡æœ¬è§£æé—®é¢˜
      530 |       if (textElements.length === 0) {
    > 531 |         console.warn('âš ï¸ No text elements found. This might be due to text parsing issues.');
          |                 ^
      532 |         // æ£€æŸ¥æ˜¯å¦è‡³å°‘æœ‰å…¶ä»–ç±»å‹çš„å…ƒç´ 
      533 |         const allElements = actualOutput.slides.flatMap((slide: any) => slide.elements);
      534 |         expect(allElements.length).toBeGreaterThan(0);

      at Object.<anonymous> (tests/output-comparison.test.ts:531:17)

PASS tests/output-comparison.test.ts
  è¾“å‡ºä¸æœŸæœ›ç»“æœæ¯”è¾ƒ
    ç²¾ç¡®æ•°æ®åŒ¹é…
      âœ“ åº”è¯¥ç¡®ä¿æ‰€æœ‰å…ƒç´ çš„ width å’Œ height ä¸æœŸæœ›è¾“å‡ºå®Œå…¨åŒ¹é… (171 ms)
      âœ“ åº”è¯¥åŒ¹é…ç²¾ç¡®çš„å¹»ç¯ç‰‡æ•°é‡ (1 ms)
      âœ“ åº”è¯¥å…·æœ‰åŒ¹é…å…ƒç´ æ•°é‡çš„å¹»ç¯ç‰‡ (4 ms)
      âœ“ åº”è¯¥åŒ¹é…ä¸»é¢˜è‰²å½©ç»“æ„ (7 ms)
      âœ“ åº”è¯¥æ­£ç¡®è§£æé¦–é¡µå¹»ç¯ç‰‡æ ‡é¢˜ (6 ms)
      âœ“ åº”è¯¥è§£æç›®å½•é¡µæ‰€æœ‰æ–‡æœ¬å…ƒç´  (3 ms)
      âœ“ åº”è¯¥æ£€æµ‹å½¢çŠ¶å…ƒç´ ï¼ˆé¦–é¡µåœ†å½¢ï¼‰ (1 ms)
      âœ“ åº”è¯¥æ£€æµ‹å›¾åƒå…ƒç´ 
      âœ“ åº”è¯¥ä¿ç•™å¹»ç¯ç‰‡èƒŒæ™¯ä¿¡æ¯ (3 ms)
    æ•°æ®è´¨é‡éªŒè¯
      âœ“ åº”è¯¥å…·æœ‰åˆç†çš„ä½ç½®æ•°å€¼ (20 ms)
      âœ“ åº”è¯¥å…·æœ‰ä¸€è‡´çš„å­—ä½“å’Œé¢œè‰²ä¿¡æ¯
      âœ“ åº”è¯¥ç»´æŠ¤å…ƒç´ å”¯ä¸€æ€§
    æ€§èƒ½ä¸å®Œæ•´æ€§
      âœ“ åº”è¯¥å®Œæ•´è§£æå†…å®¹è€Œæ— é‡å¤§æ•°æ®ä¸¢å¤± (10 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†ä¸­æ–‡æ–‡æœ¬ (1 ms)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.warn
    Fetch attempt 2 failed: Error [AbortError]: Request timeout
        at /Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:126:27
        at Timeout.task [as _onTimeout] (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 2000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:pic - Name: "Image 0", ID: 9, HasBlipFill: true

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.warn
    FillRect would cause division by zero in ImageElement NEAVyJ1bX3: {
      left: 0.29807407407407405,
      top: 0.3317991769547326,
      right: 0.7019259259259258,
      bottom: 0.6682008230452674,
      widthDenominator: 1.1102230246251565e-16,
      heightDenominator: 0
    }

      126 |       
      127 |       if (widthDenominator <= 0.001 || heightDenominator <= 0.001) {
    > 128 |         console.warn(`FillRect would cause division by zero in ImageElement ${this.id}:`, {
          |                 ^
      129 |           left, top, right, bottom,
      130 |           widthDenominator, heightDenominator
      131 |         });

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:128:17)
      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:82:40)
      at ImageProcessor.process (app/lib/services/element/processors/ImageProcessor.ts:266:11)
      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:243:26)
      at SlideParser.parseElements (app/lib/services/parsing/SlideParser.ts:196:28)
      at SlideParser.parse (app/lib/services/parsing/SlideParser.ts:76:24)
      at PresentationParser.parse (app/lib/services/parsing/PresentationParser.ts:70:25)
      at InternalPPTXParser.parse (app/lib/parser/InternalPPTXParser.ts:124:35)
      at InternalPPTXParser.parseToJSON (app/lib/parser/InternalPPTXParser.ts:158:20)
      at parse (app/lib/pptxtojson.ts:11:18)
      at Object.<anonymous> (tests/element-types.test.ts:21:22)

  console.log
    [Slide 1] Processed as image

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 6", ID: 9, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 7", ID: 10, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 8", ID: 11, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 9", ID: 12, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 10", ID: 13, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 11", ID: 14, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 12", ID: 15, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 13", ID: 16, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 0", ID: 2, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 1", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    Total elements: 23, Elements with text: 0

      at Object.<anonymous> (tests/element-types.test.ts:42:15)

  console.log
    Element 0: type=text, hasText=false, textContent=none...

      at tests/element-types.test.ts:46:17
          at Array.forEach (<anonymous>)

  console.log
    Element 1: type=text, hasText=false, textContent=none...

      at tests/element-types.test.ts:46:17
          at Array.forEach (<anonymous>)

  console.log
    Element 2: type=text, hasText=false, textContent=none...

      at tests/element-types.test.ts:46:17
          at Array.forEach (<anonymous>)

  console.warn
    âš ï¸ No text content found in elements. This might indicate a text parsing issue.

      49 |       // å¦‚æœæ²¡æœ‰æ–‡æœ¬å…ƒç´ ä½†æœ‰å…¶ä»–å…ƒç´ ï¼Œåªç»™å‡ºè­¦å‘Š
      50 |       if (actualElementsWithText.length === 0 && allElements.length > 0) {
    > 51 |         console.warn('âš ï¸ No text content found in elements. This might indicate a text parsing issue.');
         |                 ^
      52 |         return; // è·³è¿‡åç»­æ£€æŸ¥
      53 |       }
      54 |       

      at Object.<anonymous> (tests/element-types.test.ts:51:17)

PASS tests/element-types.test.ts
  PPTX å…ƒç´ ç±»å‹éªŒè¯
    æ–‡æœ¬å…ƒç´ 
      âœ“ åº”è¯¥æ­£ç¡®è§£ææ–‡æœ¬å†…å®¹ (11 ms)
      âœ“ åº”è¯¥å…·æœ‰æ­£ç¡®çš„æ–‡æœ¬æ ¼å¼å±æ€§ (6 ms)
      âœ“ åº”è¯¥ä¿ç•™æ–‡æœ¬å®šä½ (8 ms)
    å½¢çŠ¶å…ƒç´ 
      âœ“ åº”è¯¥æ­£ç¡®è§£æå½¢çŠ¶å‡ ä½• (1 ms)
      âœ“ åº”è¯¥å…·æœ‰å½¢çŠ¶å¡«å……å±æ€§
      âœ“ åº”è¯¥ç»´æŠ¤å½¢çŠ¶å®šä½å’Œå°ºå¯¸ (1 ms)
    å›¾åƒå…ƒç´ 
      âœ“ åº”è¯¥æ­£ç¡®è§£æå›¾åƒæº
      âœ“ åº”è¯¥ç»´æŠ¤å›¾åƒçºµæ¨ªæ¯”
      âœ“ å¦‚æœå­˜åœ¨åº”è¯¥å¤„ç†å›¾åƒè£å‰ª
    èƒŒæ™¯å…ƒç´ 
      âœ“ åº”è¯¥è§£æå¹»ç¯ç‰‡èƒŒæ™¯
    å…ƒç´ å…³ç³»
      âœ“ åº”è¯¥ä¿ç•™å…ƒç´ å±‚çº§é¡ºåº
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†åˆ†ç»„å…ƒç´ 

  console.log
    é•¿æœŸè¿è¡Œæµ‹è¯•: 100ä¸ªæ–‡ä»¶, 1342ms, å†…å­˜å¢é•¿: 6MB

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:293:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

FAIL tests/__tests__/services/ErrorHandling.test.ts
  Error Handling Service Unit Tests
    PPTXParseError Base Class
      âœ“ should create PPTXParseError with basic properties (1 ms)
      âœ“ should create PPTXParseError with context
      âœ“ should have correct stack trace (10 ms)
      âœ“ should handle null/undefined context
      âœ“ should handle empty string message and code
    XMLParseError
      âœ“ should create XMLParseError with correct properties
      âœ“ should create XMLParseError with context
      âœ“ should handle complex XML parsing scenarios (2 ms)
    FileOperationError
      âœ“ should create FileOperationError with correct properties (10 ms)
      âœ“ should create FileOperationError with file context
      âœ“ should handle various file operation scenarios (1 ms)
    ElementProcessingError
      âœ“ should create ElementProcessingError with correct properties
      âœ“ should create ElementProcessingError with additional context
      âœ“ should handle different element types (1 ms)
      âœ“ should handle complex element processing scenarios
    ValidationError
      âœ“ should create ValidationError with correct properties
      âœ“ should create ValidationError with additional context (1 ms)
      âœ“ should handle different validation scenarios
    Error Hierarchy and Inheritance
      âœ“ should maintain proper inheritance chain
      âœ“ should have unique error codes (1 ms)
    Error Serialization and Logging
      âœ“ should serialize error information for logging
      âœ“ should handle circular references in context
      âœ“ should handle large context objects (1 ms)
    Error Handling in Try-Catch Blocks
      âœ“ should be properly caught and handled
      âœ“ should distinguish between different error types
      âœ“ should handle error chaining
    Error Message Formatting
      âœ“ should support message templates
      âœ“ should handle multilingual error messages
    Performance and Memory
      âœ“ should not leak memory when creating many errors (134 ms)
      âœ• should create errors efficiently (114 ms)

  â— Error Handling Service Unit Tests â€º Performance and Memory â€º should create errors efficiently

    expect(received).toBeLessThan(expected)

    Expected: < 100
    Received:   113.07983299999978

      537 |       const duration = endTime - startTime;
      538 |       
    > 539 |       expect(duration).toBeLessThan(100); // Should complete in less than 100ms
          |                        ^
      540 |     });
      541 |   });
      542 | });

      at Object.<anonymous> (tests/__tests__/services/ErrorHandling.test.ts:539:24)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/switch-component-integration.test.tsx
  Switch Component Integration
    Basic Functionality
      âœ“ renders unchecked by default (21 ms)
      âœ“ renders checked when checked prop is true (5 ms)
      âœ“ calls onCheckedChange when clicked (5 ms)
      âœ“ toggles state correctly (14 ms)
    Disabled State
      âœ“ renders as disabled when disabled prop is true (2 ms)
      âœ“ does not call onCheckedChange when disabled and clicked (4 ms)
      âœ“ shows disabled cursor when disabled (6 ms)
    Accessibility Features
      âœ“ has proper ARIA attributes (6 ms)
      âœ“ supports keyboard navigation (7 ms)
      âœ“ supports Enter key activation (2 ms)
      âœ“ has focus-visible styles (2 ms)
      âœ“ maintains focus state correctly (1 ms)
    Visual States
      âœ“ has correct visual thumb position when unchecked (1 ms)
      âœ“ has correct visual thumb position when checked (4 ms)
      âœ“ applies custom className correctly (2 ms)
      âœ“ has proper color states for checked/unchecked (4 ms)
    Component Composition
      âœ“ can be used in forms (12 ms)
      âœ“ integrates well with other form controls (8 ms)
    Performance
      âœ“ does not re-render unnecessarily (1 ms)
      âœ“ handles rapid state changes correctly (7 ms)
    Error Boundaries
      âœ“ handles missing onCheckedChange gracefully (5 ms)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    âŒ PPTXImageProcessor error: Error: Input buffer contains unsupported image format
        at Sharp.metadata (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:549:17)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:138:36)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/error-handling-boundary-conditions.test.ts:48:30)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/error-handling-boundary-conditions.test.ts:48:7)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 1x1

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“ Container size: 400x300

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“ FillRect offsets: { left: -0.04881, top: 0.06029, right: 0.30709, bottom: 0.06029 }

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-342Z.png

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-342Z.json

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 400, height: 300 }

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ”„ Applying fillRect transform on 1x1 image

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“ Container: 400x300

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“ FillRect: L-4.881% T6.029% R30.709% B6.029%

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.error
    âŒ PPTXImageProcessor error: Error: Input buffer contains unsupported image format
        at Sharp.metadata (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:549:17)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:138:36)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/error-handling-boundary-conditions.test.ts:128:30)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/error-handling-boundary-conditions.test.ts:128:7)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ“ Display area: 296.7x263.8

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ“ Position offset: L-20px T18px

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.error
    âŒ PPTXImageProcessor error: Error: Input buffer contains unsupported image format
        at Sharp.metadata (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:549:17)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:138:36)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/error-handling-boundary-conditions.test.ts:208:25)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/error-handling-boundary-conditions.test.ts:208:9)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”„ Resized image to display area: 297x264

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ”§ Rounded values: offset(-20, 18), display(297x264)

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ”§ Handling negative offsets: L-20px T18px

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    âœ‚ï¸ Cropped image: 277x264 from (20,0)

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ”² Composited at: L0px T18px

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“‹ Final image size: 400x300

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    âœ… Processing complete: 400x300

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":-0.04881,"top":0.06029,"right":0.30709,"bottom":0.06029}',
      'transparent padding: Applied fillRect transform'
    ]

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-394Z.png

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-394Z.json

      at console.<anonymous> (node_modules/jest-mock/build/index.js:631:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    âŒ PPTXImageProcessor error: Error: Expected valid width, height and channels to create a new input image
        at Sharp._createInputDescriptor (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:296:15)
        at new Sharp (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/constructor.js:391:29)
        at PPTXImageProcessor.Sharp (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/constructor.js:203:12)
        at PPTXImageProcessor.applyFillRectTransform (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:358:21)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:209:31)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/pptx-image-processor-negative-offset.test.ts:286:7)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/pptx-image-processor-negative-offset.test.ts:286:7)

PASS tests/__tests__/error-handling-boundary-conditions.test.ts
  é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶æµ‹è¯•
    å¼‚å¸¸åœºæ™¯æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†æŸåçš„å›¾ç‰‡æ–‡ä»¶è€Œä¸å´©æºƒ (12 ms)
      âœ“ åº”è¯¥å¤„ç†æç«¯çš„fillRectå€¼ï¼ˆå¦‚è¶…è¿‡Â±1.0ï¼‰ (24 ms)
      âœ“ åº”è¯¥åœ¨ç³»ç»Ÿå†…å­˜ä¸è¶³æ—¶ä¼˜é›…é™çº§ (6 ms)
      âœ“ åº”è¯¥å¤„ç†Sharpåº“ç‰ˆæœ¬å…¼å®¹æ€§é—®é¢˜
    é…ç½®éªŒè¯æµ‹è¯•
      âœ“ åº”è¯¥éªŒè¯æ‰€æœ‰é…ç½®å‚æ•°çš„æœ‰æ•ˆèŒƒå›´
      âœ“ åº”è¯¥æä¾›æ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯æŒ‡å¯¼é…ç½®ä¿®æ­£ (3 ms)
      âœ“ åº”è¯¥éªŒè¯ImageElementçš„æ„é€ å‚æ•°
    èµ„æºç®¡ç†å’Œå†…å­˜æ³„æ¼æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®é‡Šæ”¾Sharpå®ä¾‹é¿å…å†…å­˜æ³„æ¼ (51 ms)
      âœ“ åº”è¯¥æ­£ç¡®æ¸…ç†ä¸´æ—¶æ–‡ä»¶å’Œè°ƒè¯•èµ„æº (3 ms)
    å¹¶å‘å’Œç«æ€æ¡ä»¶æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¹¶å‘å›¾ç‰‡å¤„ç†è¯·æ±‚ (29 ms)
      âœ“ åº”è¯¥é¿å…èµ„æºå…±äº«å¯¼è‡´çš„ç«æ€æ¡ä»¶ (1 ms)
    æ•°æ®éªŒè¯å’Œç±»å‹å®‰å…¨
      âœ“ åº”è¯¥éªŒè¯è¾“å…¥æ•°æ®çš„ç±»å‹å’Œæ ¼å¼ (1 ms)
      âœ“ åº”è¯¥éªŒè¯fillRectå€¼çš„æ•°æ®ç±»å‹ (4 ms)
      âœ“ åº”è¯¥å¤„ç†JSONåºåˆ—åŒ–å’Œååºåˆ—åŒ–è¾¹ç•Œæƒ…å†µ (1 ms)

  console.error
    âŒ PPTXImageProcessor error: Error: Input buffer contains unsupported image format
        at Sharp.metadata (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:549:17)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:138:36)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/pptx-image-processor-negative-offset.test.ts:310:30)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/pptx-image-processor-negative-offset.test.ts:310:7)

PASS tests/__tests__/pptx-image-processor-negative-offset.test.ts
  PPTXImageProcessor - Negative Offset Handling
    applyStretchOffset with negative offsets
      âœ“ should handle negative left offset without Sharp errors (52 ms)
      âœ“ should handle negative offsets on all sides (31 ms)
      âœ“ should handle mixed positive and negative offsets (44 ms)
      âœ“ should create debug images when enableDebug is true (71 ms)
      âœ“ should handle extreme negative offsets that result in invalid display area (9 ms)
      âœ“ should calculate correct display dimensions with negative offsets (19 ms)
      âœ“ should handle negative fillRect offsets without srcRect (10 ms)
    createConfigFromStretchInfo
      âœ“ should create config with negative offset values
    Edge cases and error handling
      âœ“ should handle zero-size container gracefully (10 ms)
      âœ“ should handle invalid image buffer (2 ms)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: 0, top: 0, right: 0, bottom: 0 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-496Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-496Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L0.000% T0.000% R0.000% B0.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 200.0x150.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(0, 0), display(200x150)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”² Composited image at position: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:542:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [ 'fillRect resize: 200x150' ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-502Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-502Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: 0.5, top: 0, right: 0, bottom: 0 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-506Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-506Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L50.000% T0.000% R0.000% B0.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 100.0x150.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L100px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 100x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(100, 0), display(100x150)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”² Composited image at position: L100px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:542:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":0.5,"top":0,"right":0,"bottom":0}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-511Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-511Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: -0.5, top: 0, right: 0, bottom: 0 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-517Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-517Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L-50.000% T0.000% R0.000% B0.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 300.0x150.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L-100px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 300x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(-100, 0), display(300x150)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”§ Handling negative offsets: L-100px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:423:17)

  console.log
    âœ‚ï¸ Cropped image: 200x150 from (100,0)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:470:19)

  console.log
    ğŸ”² Composited at: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:473:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":-0.5,"top":0,"right":0,"bottom":0}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-523Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-523Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: 0, top: 0.5, right: 0, bottom: 0 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-527Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-527Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L0.000% T50.000% R0.000% B0.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 200.0x75.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L0px T75px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 200x75

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(0, 75), display(200x75)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    Loading JSON from URL: https://example.com/large-file.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    ğŸ”² Composited image at position: L0px T75px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:542:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    Loading JSON file: 12.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    ğŸ”„ Using optimized loading for large file...

      at loadJson (components/MonacoJsonLoader.tsx:112:21)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":0,"top":0.5,"right":0,"bottom":0}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    âœ… Large file loaded successfully (minimized format)

      at loadJson (components/MonacoJsonLoader.tsx:143:21)

  console.log
    ğŸ“Š Performance note: File size is 12.00MB. For better performance with large files, consider:
                - Using JSONLoader in view-only mode
                - Breaking large files into smaller chunks
                - Using streaming JSON processing

      at loadJson (components/MonacoJsonLoader.tsx:155:21)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-535Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-535Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: 0.25, top: 0.25, right: 0.25, bottom: 0.25 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-540Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-540Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L25.000% T25.000% R25.000% B25.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 100.0x75.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L50px T38px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 100x75

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(50, 38), display(100x75)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”² Composited image at position: L50px T38px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:542:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'fillRect stretch: {"left":0.25,"top":0.25,"right":0.25,"bottom":0.25}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-544Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-544Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/corrected-stretch-logic.test.ts
  ä¿®æ­£åçš„æ‹‰ä¼¸åç§»é€»è¾‘æµ‹è¯•
    åŸºæœ¬ fillRect è¡Œä¸ºéªŒè¯
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†é›¶åç§»ï¼ˆæ— æ‹‰ä¼¸ï¼‰ (12 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç† left æ­£å€¼åç§»ï¼ˆå‘å†…æ”¶ç¼©ï¼‰ (9 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç† left è´Ÿå€¼åç§»ï¼ˆå‘å¤–æ‰©å±•ï¼‰ (12 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç† top æ­£å€¼åç§»ï¼ˆå‘å†…æ”¶ç¼©ï¼‰ (12 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¤åˆåç§» (9 ms)
    é”™è¯¯å¤„ç†
      âœ“ åº”è¯¥å¤„ç†æ— æ•ˆçš„ fillRect å€¼ï¼ˆæ€»å’Œè¶…è¿‡1ï¼‰ (3 ms)
    æ€§èƒ½å’Œè´¨é‡
      âœ“ åº”è¯¥åœ¨åˆç†æ—¶é—´å†…å¤„ç†å›¾ç‰‡ (7 ms)

PASS tests/integration/api-integration-background.test.ts
  API Integration - Background Format
    FormData Parameter Handling
      âœ“ should accept backgroundFormat parameter in FormData (1 ms)
      âœ“ should handle missing backgroundFormat parameter (1 ms)
      âœ“ should handle invalid backgroundFormat values
    Response Format Validation
      âœ“ should return valid JSON structure for legacy format
      âœ“ should return valid JSON structure for pptist format (1 ms)
    Combined Parameters Integration
      âœ“ should handle backgroundFormat with CDN upload (1 ms)
      âœ“ should handle backgroundFormat with debug options
    Error Scenarios
      âœ“ should handle file upload errors gracefully
      âœ“ should handle invalid file types (1 ms)
      âœ“ should handle parsing errors with backgroundFormat (2 ms)
    Performance and Load Testing
      âœ“ should handle concurrent requests with different background formats (1 ms)
      âœ“ should complete processing within reasonable time limits (101 ms)
    Backward Compatibility
      âœ“ should maintain compatibility with existing API clients (1 ms)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 20x20

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: 0, top: 0, right: 0, bottom: 0 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-23-604Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-23-604Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 20x20 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L0.000% T0.000% R0.000% B0.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 200.0x150.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(0, 0), display(200x150)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”² Composited image at position: L0px T0px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:542:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [ 'fillRect resize: 200x150' ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-23-643Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-23-643Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    Applied effects: [ 'fillRect resize: 200x150' ]

      at Object.<anonymous> (tests/__tests__/transparent-fill-processing.test.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Invalid input 0: {"a:srgbClr":{"attrs":{"val":"GGGGGG"}}} â†’ rgba(0,0,0,1)

      at tests/__tests__/color-processing-advanced.test.ts:215:17
          at Array.forEach (<anonymous>)

  console.log
    Invalid input 1: {"a:srgbClr":{"attrs":{"val":"12345"}}} â†’ rgba(18,52,5,1)

      at tests/__tests__/color-processing-advanced.test.ts:215:17
          at Array.forEach (<anonymous>)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Invalid input 2: {"a:srgbClr":{"attrs":{"val":""}}} â†’

      at tests/__tests__/color-processing-advanced.test.ts:215:17
          at Array.forEach (<anonymous>)

  console.log
    Invalid input 3: {"a:srgbClr":{"attrs":{"val":"invalid"}}} â†’ rgba(0,0,0,1)

      at tests/__tests__/color-processing-advanced.test.ts:215:17
          at Array.forEach (<anonymous>)

  console.log
    minimum value (0): rgba(0,0,0,1)

      at tests/__tests__/color-processing-advanced.test.ts:260:17
          at Array.forEach (<anonymous>)

  console.log
    full value (100000): rgba(128,128,128,1)

      at tests/__tests__/color-processing-advanced.test.ts:260:17
          at Array.forEach (<anonymous>)

  console.log
    double value (200000): rgba(255,255,255,1)

      at tests/__tests__/color-processing-advanced.test.ts:260:17
          at Array.forEach (<anonymous>)

  console.log
    tiny value (1): rgba(0,0,0,1)

      at tests/__tests__/color-processing-advanced.test.ts:260:17
          at Array.forEach (<anonymous>)

  console.log
    HSL(0, 100%, 50%) â†’ rgba(0,255,255,1)

      at tests/__tests__/color-processing-advanced.test.ts:292:17
          at Array.forEach (<anonymous>)

  console.log
    HSL(360, 100%, 50%) â†’ rgba(255,255,255,1)

      at tests/__tests__/color-processing-advanced.test.ts:292:17
          at Array.forEach (<anonymous>)

  console.log
    HSL(180, 0%, 50%) â†’ rgba(255,255,255,1)

      at tests/__tests__/color-processing-advanced.test.ts:292:17
          at Array.forEach (<anonymous>)

  console.log
    é•¿æ—¶é—´è¿è¡Œæ€§èƒ½æµ‹è¯•: 5è½®, æ€§èƒ½æ¯”ç‡: 1.00

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:355:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    HSL(120, 100%, 0%) â†’ rgba(0,0,0,1)

      at tests/__tests__/color-processing-advanced.test.ts:292:17
          at Array.forEach (<anonymous>)

  console.log
    HSL(240, 100%, 100%) â†’ rgba(255,255,255,1)

      at tests/__tests__/color-processing-advanced.test.ts:292:17
          at Array.forEach (<anonymous>)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Processed 1000 color transformations in 33.88ms

      at Object.<anonymous> (tests/__tests__/color-processing-advanced.test.ts:410:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Memory increase after 10000 operations: -4.26MB

      at Object.<anonymous> (tests/__tests__/color-processing-advanced.test.ts:439:15)

PASS tests/__tests__/color-processing-advanced.test.ts
  Advanced Color Processing Algorithms
    Complex Color Transform Chains
      âœ“ should apply color transforms in PowerPoint order: Alpha â†’ HueMod â†’ LumMod â†’ Shade (1 ms)
      âœ“ should handle full transform chain with all modifiers
      âœ“ should handle transform chain with percentage calculations (1 ms)
    Theme Color Inheritance
      âœ“ should resolve deep theme color inheritance chains
      âœ“ should handle missing theme gracefully
      âœ“ should detect and handle circular theme references
    Invalid Color Value Fallbacks
      âœ“ should handle invalid hex color values (4 ms)
      âœ“ should handle invalid transform values
      âœ“ should handle edge case percentage values (2 ms)
    HSL Color Space Processing
      âœ“ should handle HSL boundary values correctly (8 ms)
      âœ“ should maintain color precision through HSL conversions
    Color Format Consistency
      âœ“ should always return rgba() format regardless of input type (1 ms)
      âœ“ should maintain consistent alpha channel handling
    Performance and Memory
      âœ“ should handle large numbers of color transformations efficiently (35 ms)
      âœ“ should not leak memory during repeated operations (27 ms)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    âŒ PPTXImageProcessor error: Error: Expected valid width, height and channels to create a new input image
        at Sharp._createInputDescriptor (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/input.js:296:15)
        at new Sharp (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/constructor.js:391:29)
        at PPTXImageProcessor.Sharp (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/sharp/lib/constructor.js:203:12)
        at PPTXImageProcessor.applyFillRectTransform (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:358:21)
        at PPTXImageProcessor.applyStretchOffset (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/PPTXImageProcessor.ts:209:31)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/transparent-fill-processing.test.ts:324:7)

      262 |       };
      263 |     } catch (error) {
    > 264 |       console.error("âŒ PPTXImageProcessor error:", error);
          |               ^
      265 |       throw new Error(
      266 |         `Image processing failed: ${
      267 |           error instanceof Error ? error.message : "Unknown error"

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:264:15)
      at Object.<anonymous> (tests/__tests__/transparent-fill-processing.test.ts:324:7)

PASS tests/__tests__/transparent-fill-processing.test.ts
  é€æ˜å¡«å……å¤„ç†æµ‹è¯•
    åŸºæœ¬é€æ˜å¡«å……åŠŸèƒ½
      âœ“ åº”è¯¥å°†å°å›¾ç‰‡ç”¨é€æ˜èƒŒæ™¯å¡«å……åˆ°å®¹å™¨å°ºå¯¸ (48 ms)
      âœ“ åº”è¯¥å¤„ç†å¸¦æœ‰æ‹‰ä¼¸åç§»çš„å›¾ç‰‡å¹¶ä¿æŒå®¹å™¨å°ºå¯¸ (7 ms)
      âœ“ åº”è¯¥å¤„ç†æºå›¾è£å‰ªå¹¶ç”¨é€æ˜èƒŒæ™¯å¡«å…… (7 ms)
    è¾¹ç•Œæƒ…å†µå¤„ç†
      âœ“ åº”è¯¥å¤„ç†æå°å®¹å™¨å°ºå¯¸ (4 ms)
      âœ“ åº”è¯¥å¤„ç†éå¸¸å¤§çš„å®¹å™¨å°ºå¯¸ (36 ms)
      âœ“ åº”è¯¥å¤„ç†é›¶åç§»å€¼ (8 ms)
    å¤åˆæ•ˆæœæµ‹è¯•
      âœ“ åº”è¯¥åŒæ—¶å¤„ç†srcRectè£å‰ªå’ŒfillRectæ‹‰ä¼¸åç§» (12 ms)
      âœ“ åº”è¯¥åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æä¾›è¯¦ç»†ä¿¡æ¯ (21 ms)
    é”™è¯¯å¤„ç†
      âœ“ åº”è¯¥å¤„ç†æ— æ•ˆçš„fillRectå€¼ (5 ms)
      âœ“ åº”è¯¥å¤„ç†æ— æ•ˆçš„å®¹å™¨å°ºå¯¸ (11 ms)

  console.log
    Average duration: 2.475948249999874ms

      at Object.<anonymous> (tests/__tests__/color-processing-consistency.test.ts:358:15)

  console.log
    srgbClr: 1.7817089999998643ms (diff: 0.6942392500000096ms)

      at tests/__tests__/color-processing-consistency.test.ts:361:17
          at Array.forEach (<anonymous>)

  console.log
    prstClr: 3.986917000000176ms (diff: 1.510968750000302ms)

      at tests/__tests__/color-processing-consistency.test.ts:361:17
          at Array.forEach (<anonymous>)

  console.log
    hslClr: 2.4678329999997004ms (diff: 0.008115250000173546ms)

      at tests/__tests__/color-processing-consistency.test.ts:361:17
          at Array.forEach (<anonymous>)

  console.log
    scrgbClr: 1.6673339999997552ms (diff: 0.8086142500001188ms)

      at tests/__tests__/color-processing-consistency.test.ts:361:17
          at Array.forEach (<anonymous>)

PASS tests/__tests__/color-processing-consistency.test.ts
  Color Processing Consistency Tests
    Format standardization
      âœ“ should output rgba format consistently across all color types (1 ms)
      âœ“ should maintain precision across processors
      âœ“ should handle transparency consistently
      âœ“ should format alpha values consistently
    Cross-processor consistency
      âœ“ should produce same colors for same inputs across processors (1 ms)
      âœ“ should maintain theme color references consistently
      âœ“ should handle transformation chains consistently
      âœ“ should maintain precision in color format conversions (1 ms)
    Transformation consistency
      âœ“ should apply equivalent transformations consistently (1 ms)
      âœ“ should handle transformation order consistently
      âœ“ should maintain transformation bounds consistently (5 ms)
    Edge case consistency
      âœ“ should handle null/undefined inputs consistently
      âœ“ should handle malformed color data consistently
      âœ“ should handle extreme color values consistently
    Performance consistency
      âœ“ should maintain consistent performance across color types (13 ms)
      âœ“ should maintain consistent memory usage (31 ms)
    Backwards compatibility
      âœ“ should maintain compatibility with existing color formats (1 ms)
      âœ“ should preserve color property naming conventions

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:pic - Name: "Image 0", ID: 9, HasBlipFill: true

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.warn
    FillRect would cause division by zero in ImageElement zY4rXdNyYO: {
      left: 0.29807407407407405,
      top: 0.3317991769547326,
      right: 0.7019259259259258,
      bottom: 0.6682008230452674,
      widthDenominator: 1.1102230246251565e-16,
      heightDenominator: 0
    }

      126 |       
      127 |       if (widthDenominator <= 0.001 || heightDenominator <= 0.001) {
    > 128 |         console.warn(`FillRect would cause division by zero in ImageElement ${this.id}:`, {
          |                 ^
      129 |           left, top, right, bottom,
      130 |           widthDenominator, heightDenominator
      131 |         });

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:128:17)
      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:82:40)
      at ImageProcessor.process (app/lib/services/element/processors/ImageProcessor.ts:266:11)
      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:243:26)
      at SlideParser.parseElements (app/lib/services/parsing/SlideParser.ts:196:28)
      at SlideParser.parse (app/lib/services/parsing/SlideParser.ts:76:24)
      at PresentationParser.parse (app/lib/services/parsing/PresentationParser.ts:70:25)
      at InternalPPTXParser.parse (app/lib/parser/InternalPPTXParser.ts:124:35)
      at InternalPPTXParser.parseToJSON (app/lib/parser/InternalPPTXParser.ts:158:20)
      at parse (app/lib/pptxtojson.ts:11:18)
      at Object.<anonymous> (tests/dimension-analysis.test.ts:21:22)

  console.log
    [Slide 1] Processed as image

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 6", ID: 9, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 7", ID: 10, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 8", ID: 11, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 9", ID: 12, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 10", ID: 13, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 11", ID: 14, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 12", ID: 15, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 13", ID: 16, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 0", ID: 2, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 1", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    
    === å°ºå¯¸è½¬æ¢åˆ†ææŠ¥å‘Š ===

      at Object.<anonymous> (tests/dimension-analysis.test.ts:34:15)

  console.log
    å¹»ç¯ç‰‡ 1:

      at tests/dimension-analysis.test.ts:53:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  1 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 551.8 Ã— 182.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 529.7 Ã— 174.7

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -22.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -7.3px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  2 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 379.2 Ã— 53.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 364.0 Ã— 50.9

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -15.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.1px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  3 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 266.0 Ã— 50.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 255.4 Ã— 48.0

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -10.6px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.0px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  4 (shape):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 20.0 Ã— 20.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 19.2 Ã— 19.2

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -0.8px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -0.8px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  5 (shape):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 20.0 Ã— 20.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 19.2 Ã— 19.2

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -0.8px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -0.8px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  6 (shape):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 20.0 Ã— 20.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 19.2 Ã— 19.2

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -0.8px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -0.8px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  7 (image):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 231.4 Ã— 231.4

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 222.2 Ã— 222.2

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -9.3px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

PASS tests/__tests__/id-generator-pptist.test.ts
  IdGenerator PPTist Style
    PPTist-style ID format
      âœ“ should generate IDs in PPTist format when no original ID provided (1 ms)
      âœ“ should generate unique IDs across multiple calls (11 ms)
      âœ“ should generate 10-character IDs by default
      âœ“ should include mix of letters, numbers, and occasional special characters (2 ms)
    PPTist ID recognition
      âœ“ should recognize and preserve valid PPTist-like IDs for shapes
      âœ“ should reject invalid ID formats and generate new ones (1 ms)
      âœ“ should handle duplicate PPTist IDs by generating new ones
      âœ“ should only apply PPTist recognition to shape elements
    ID collision handling
      âœ“ should handle collisions in PPTist-style generation (42 ms)
      âœ“ should maintain used IDs state correctly
    Integration with actual PPTist examples
      âœ“ should generate IDs similar to PPTist examples (2 ms)
      âœ“ should be compatible with PPTist ID validation (1 ms)
    Reset functionality
      âœ“ should allow ID reuse after reset
      âœ“ should clear all used IDs on reset

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -9.3px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
    å¹»ç¯ç‰‡ 2:

      at tests/dimension-analysis.test.ts:53:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  1 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 471.7 Ã— 119.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 452.8 Ã— 114.2

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -18.9px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -4.8px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  2 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 183.3 Ã— 80.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 175.9 Ã— 76.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -7.3px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  3 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 354.0 Ã— 56.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 339.8 Ã— 53.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -14.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  4 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 78.0 Ã— 68.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 74.9 Ã— 65.3

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.7px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  5 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 354.0 Ã— 56.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 339.8 Ã— 53.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -14.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  6 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 78.0 Ã— 68.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 74.9 Ã— 65.3

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.7px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  7 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 354.0 Ã— 56.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 339.8 Ã— 53.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -14.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  8 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 78.0 Ã— 68.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 74.9 Ã— 65.3

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.7px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  9 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 354.0 Ã— 56.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 339.8 Ã— 53.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -14.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  10 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 78.0 Ã— 68.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 74.9 Ã— 65.3

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.7px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  11 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 354.0 Ã— 56.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 339.8 Ã— 53.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -14.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  12 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 78.0 Ã— 68.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 74.9 Ã— 65.3

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.7px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  13 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 354.0 Ã— 56.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 339.8 Ã— 53.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -14.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  14 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 78.0 Ã— 68.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 74.9 Ã— 65.3

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.7px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
    é«˜é¢‘ç‡å°å›¾ç‰‡æµ‹è¯•: 50ä¸ªè¯·æ±‚, 293ms

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:387:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    å¹»ç¯ç‰‡ 3:

      at tests/dimension-analysis.test.ts:53:19
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  1 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 81.1 Ã— 60.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 77.8 Ã— 57.6

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.2px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -2.4px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
      å…ƒç´  2 (text):

      at tests/dimension-analysis.test.ts:88:21
          at Array.forEach (<anonymous>)

  console.log
        æœŸæœ›å°ºå¯¸: 552.9 Ã— 80.0

      at tests/dimension-analysis.test.ts:89:21
          at Array.forEach (<anonymous>)

  console.log
        å®é™…å°ºå¯¸: 530.8 Ã— 76.8

      at tests/dimension-analysis.test.ts:94:21
          at Array.forEach (<anonymous>)

  console.log
        å®½åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -22.1px)

      at tests/dimension-analysis.test.ts:99:21
          at Array.forEach (<anonymous>)

  console.log
        é«˜åº¦æ¯”ä¾‹: 0.960 (å·®å¼‚: -3.2px)

      at tests/dimension-analysis.test.ts:104:21
          at Array.forEach (<anonymous>)

  console.log


      at tests/dimension-analysis.test.ts:109:21
          at Array.forEach (<anonymous>)

  console.log
    === ç»Ÿè®¡åˆ†æ ===

      at Object.<anonymous> (tests/dimension-analysis.test.ts:115:15)

  console.log
    å¹³å‡å®½åº¦æ¯”ä¾‹: 0.960

      at Object.<anonymous> (tests/dimension-analysis.test.ts:131:15)

  console.log
    å¹³å‡é«˜åº¦æ¯”ä¾‹: 0.960

      at Object.<anonymous> (tests/dimension-analysis.test.ts:132:15)

  console.log
    å®½åº¦æ¯”ä¾‹èŒƒå›´: 0.960 - 0.960

      at Object.<anonymous> (tests/dimension-analysis.test.ts:133:15)

  console.warn
    No relationship found for embedId: nonexistent

      39 |       if (!relationship) {
      40 |         DebugHelper.log(context, `No relationship found for embedId: ${embedId}`, "warn");
    > 41 |         console.warn(`No relationship found for embedId: ${embedId}`);
         |                 ^
      42 |         return null;
      43 |       }
      44 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:41:17)
      at Object.<anonymous> (tests/__tests__/services/ImageDataService.test.ts:102:41)

  console.log
    é«˜åº¦æ¯”ä¾‹èŒƒå›´: 0.960 - 0.960

      at Object.<anonymous> (tests/dimension-analysis.test.ts:138:15)

  console.log
    
    === æŒ‰å…ƒç´ ç±»å‹åˆ†æ ===

      at Object.<anonymous> (tests/dimension-analysis.test.ts:145:15)

  console.log
    text å…ƒç´  (19ä¸ª):

      at tests/dimension-analysis.test.ts:165:17
          at Array.forEach (<anonymous>)

  console.log
      å¹³å‡å®½åº¦æ¯”ä¾‹: 0.960

      at tests/dimension-analysis.test.ts:166:17
          at Array.forEach (<anonymous>)

  console.log
      å¹³å‡é«˜åº¦æ¯”ä¾‹: 0.960

      at tests/dimension-analysis.test.ts:167:17
          at Array.forEach (<anonymous>)

  console.log
    shape å…ƒç´  (3ä¸ª):

      at tests/dimension-analysis.test.ts:165:17
          at Array.forEach (<anonymous>)

  console.log
      å¹³å‡å®½åº¦æ¯”ä¾‹: 0.960

      at tests/dimension-analysis.test.ts:166:17
          at Array.forEach (<anonymous>)

  console.log
      å¹³å‡é«˜åº¦æ¯”ä¾‹: 0.960

      at tests/dimension-analysis.test.ts:167:17
          at Array.forEach (<anonymous>)

  console.log
    image å…ƒç´  (1ä¸ª):

      at tests/dimension-analysis.test.ts:165:17
          at Array.forEach (<anonymous>)

  console.log
      å¹³å‡å®½åº¦æ¯”ä¾‹: 0.960

      at tests/dimension-analysis.test.ts:166:17
          at Array.forEach (<anonymous>)

  console.log
      å¹³å‡é«˜åº¦æ¯”ä¾‹: 0.960

      at tests/dimension-analysis.test.ts:167:17
          at Array.forEach (<anonymous>)

  console.log
    
    === è½¬æ¢å¸¸æ•°åˆ†æ ===

      at Object.<anonymous> (tests/dimension-analysis.test.ts:171:15)

  console.log
    æ¨èçš„å®½åº¦è½¬æ¢å› å­: 0.96

      at Object.<anonymous> (tests/dimension-analysis.test.ts:177:15)

  console.log
    æ¨èçš„é«˜åº¦è½¬æ¢å› å­: 0.96

      at Object.<anonymous> (tests/dimension-analysis.test.ts:178:15)

  console.log
    å®½åº¦æ¯”ä¾‹æ–¹å·®: 0.000000

      at Object.<anonymous> (tests/dimension-analysis.test.ts:192:15)

  console.log
    é«˜åº¦æ¯”ä¾‹æ–¹å·®: 0.000000

      at Object.<anonymous> (tests/dimension-analysis.test.ts:193:15)

  console.log
    âœ… æ£€æµ‹åˆ°ä¸€è‡´çš„è½¬æ¢æ¯”ä¾‹ï¼Œå¯èƒ½éœ€è¦åº”ç”¨å›ºå®šçš„è½¬æ¢å› å­

      at Object.<anonymous> (tests/dimension-analysis.test.ts:196:17)

  console.log
    
    === EMU è½¬æ¢åˆ†æ ===

      at Object.<anonymous> (tests/dimension-analysis.test.ts:202:15)

  console.log
    EMU åˆ°ç‚¹çš„è½¬æ¢æ¯”ä¾‹: 0.00007874015748031496

      at Object.<anonymous> (tests/dimension-analysis.test.ts:209:15)

  console.log
    å¦‚æœå®é™…å°ºå¯¸æ˜¯ EMUï¼Œè½¬æ¢åˆ°ç‚¹åçš„æœŸæœ›æ¯”ä¾‹: 0.000079

      at Object.<anonymous> (tests/dimension-analysis.test.ts:210:15)

  console.log
    
    === ä¿®å¤å»ºè®® ===

      at Object.<anonymous> (tests/dimension-analysis.test.ts:247:15)

  console.log
    âœ… æ£€æµ‹åˆ°ä¸€è‡´çš„è½¬æ¢æ¯”ä¾‹ï¼Œå»ºè®®åº”ç”¨å…¨å±€è½¬æ¢å› å­:

      at Object.<anonymous> (tests/dimension-analysis.test.ts:253:17)

  console.log
       å®½åº¦: actualWidth *= 1.042

      at Object.<anonymous> (tests/dimension-analysis.test.ts:254:17)

  console.log
       é«˜åº¦: actualHeight *= 1.042

      at Object.<anonymous> (tests/dimension-analysis.test.ts:257:17)

  console.log


      at Object.<anonymous> (tests/dimension-analysis.test.ts:260:17)

  console.log
    å®æ–½æ–¹æ³•:

      at Object.<anonymous> (tests/dimension-analysis.test.ts:261:17)

  console.log
    1. åœ¨è§£æå™¨ä¸­æ‰¾åˆ°å°ºå¯¸è®¡ç®—é€»è¾‘

      at Object.<anonymous> (tests/dimension-analysis.test.ts:262:17)

  console.log
    2. åº”ç”¨è½¬æ¢å› å­åˆ° width å’Œ height

      at Object.<anonymous> (tests/dimension-analysis.test.ts:263:17)

  console.log
    3. ç¡®ä¿æ‰€æœ‰å…ƒç´ ç±»å‹éƒ½åº”ç”¨ç›¸åŒçš„è½¬æ¢

      at Object.<anonymous> (tests/dimension-analysis.test.ts:264:17)

  console.log
    
    å¯èƒ½çš„é—®é¢˜æ ¹æº:

      at Object.<anonymous> (tests/dimension-analysis.test.ts:288:15)

  console.log
    1. EMU (English Metric Units) è½¬æ¢ä¸æ­£ç¡®

      at Object.<anonymous> (tests/dimension-analysis.test.ts:289:15)

  console.log
    2. åæ ‡ç³»ç»Ÿçš„ç¼©æ”¾æ¯”ä¾‹é—®é¢˜

      at Object.<anonymous> (tests/dimension-analysis.test.ts:290:15)

  console.log
    3. å­—ä½“å¤§å°åˆ°å°ºå¯¸çš„è½¬æ¢é—®é¢˜

      at Object.<anonymous> (tests/dimension-analysis.test.ts:291:15)

  console.log
    4. ä¸åŒå…ƒç´ ç±»å‹ä½¿ç”¨ä¸åŒçš„æµ‹é‡å•ä½

      at Object.<anonymous> (tests/dimension-analysis.test.ts:292:15)

  console.error
    Error extracting image data for rId1: Error: Mock file not found: ppt/media/missing.png
        at MockFileService.extractBinaryFileAsBuffer (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/services/ImageDataService.test.ts:22:13)
        at ImageDataService.extractImageData (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:61:45)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/services/ImageDataService.test.ts:114:41)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |     } catch (error) {
       99 |       DebugHelper.log(context, `Error extracting image data for ${embedId}: ${error}`, "error");
    > 100 |       console.error(`Error extracting image data for ${embedId}:`, error);
          |               ^
      101 |       return null;
      102 |     }
      103 |   }

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:100:15)
      at Object.<anonymous> (tests/__tests__/services/ImageDataService.test.ts:114:22)

PASS tests/dimension-analysis.test.ts
  å°ºå¯¸è½¬æ¢é€»è¾‘åˆ†æ
    å°ºå¯¸è½¬æ¢é—®é¢˜è¯Šæ–­
      âœ“ åº”è¯¥åˆ†ææ‰€æœ‰å…ƒç´ çš„å°ºå¯¸è½¬æ¢æ¯”ä¾‹ (106 ms)
      âœ“ åº”è¯¥æä¾›è½¬æ¢å‡½æ•°ä¿®å¤å»ºè®® (4 ms)

  console.warn
    Invalid relationship format for embedId: rId1 { invalidProperty: 'value' }

      50 |         imagePath = relationship.target;
      51 |       } else {
    > 52 |         console.warn(`Invalid relationship format for embedId: ${embedId}`, relationship);
         |                 ^
      53 |         return null;
      54 |       }
      55 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:52:17)
      at Object.<anonymous> (tests/__tests__/services/ImageDataService.test.ts:142:41)

  console.error
    Error encoding image to base64: TypeError: Cannot read properties of null (reading 'toString')
        at ImageDataService.encodeToBase64 (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:160:43)
        at /Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/services/ImageDataService.test.ts:327:33
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/expect/build/index.js:1824:9)
        at Object.throwingMatcher [as toThrow] (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/expect/build/index.js:2231:93)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/services/ImageDataService.test.ts:327:60)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      161 |       return `data:${imageData.mimeType};base64,${base64Data}`;
      162 |     } catch (error) {
    > 163 |       console.error('Error encoding image to base64:', error);
          |               ^
      164 |       throw new Error('Failed to encode image to base64');
      165 |     }
      166 |   }

      at ImageDataService.encodeToBase64 (app/lib/services/images/ImageDataService.ts:163:15)
      at tests/__tests__/services/ImageDataService.test.ts:327:33
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2231:93)
      at Object.<anonymous> (tests/__tests__/services/ImageDataService.test.ts:327:60)

  console.error
    Error extracting image data for rId2: Error: Mock file not found: ppt/media/missing.png
        at MockFileService.extractBinaryFileAsBuffer (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/services/ImageDataService.test.ts:22:13)
        at ImageDataService.extractImageData (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:61:45)
        at /Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:182:42
        at tryAcquire (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:333:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:348:7
        at new Promise (<anonymous>)
        at Semaphore.acquire (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:329:12)
        at /Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:180:25
        at Array.map (<anonymous>)
        at ImageDataService.processBatch (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:179:16)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/services/ImageDataService.test.ts:370:42)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |     } catch (error) {
       99 |       DebugHelper.log(context, `Error extracting image data for ${embedId}: ${error}`, "error");
    > 100 |       console.error(`Error extracting image data for ${embedId}:`, error);
          |               ^
      101 |       return null;
      102 |     }
      103 |   }

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:100:15)
      at app/lib/services/images/ImageDataService.ts:182:31

PASS tests/__tests__/services/ImageDataService.test.ts
  ImageDataService Unit Tests
    Image Data Extraction
      âœ“ should extract image data successfully (1 ms)
      âœ“ should handle missing relationship (6 ms)
      âœ“ should handle missing file in ZIP (9 ms)
      âœ“ should handle relationship object format
      âœ“ should handle invalid relationship format (1 ms)
    Image Format Detection
      âœ“ should detect PNG format correctly
      âœ“ should detect JPEG format correctly (1 ms)
      âœ“ should detect GIF format correctly
      âœ“ should detect BMP format correctly
      âœ“ should detect WebP format correctly (1 ms)
      âœ“ should detect TIFF format correctly (3 ms)
      âœ“ should handle unknown format (1 ms)
      âœ“ should handle very small buffers
    Base64 Encoding
      âœ“ should encode image data to base64 correctly
      âœ“ should handle empty buffer
      âœ“ should handle large binary data (1 ms)
      âœ“ should throw error for invalid buffer (2 ms)
    Batch Processing
      âœ“ should process multiple images successfully (1 ms)
      âœ“ should handle mixed success and failure in batch (1 ms)
      âœ“ should handle empty batch
      âœ“ should handle concurrent processing efficiently (1 ms)
    Path Resolution
      âœ“ should resolve relative paths correctly
      âœ“ should handle complex relative paths
    Hash Generation
      âœ“ should generate consistent hashes for same content
      âœ“ should generate different hashes for different content
    Error Handling and Edge Cases
      âœ“ should handle FileService errors gracefully
      âœ“ should handle context without relationships
      âœ“ should handle very large image files (27 ms)
      âœ“ should handle zero-byte files
    Memory Management
      âœ“ should not leak memory during batch processing (3 ms)

  console.log
    å¤§å›¾ç‰‡å¤„ç†æµ‹è¯•: 3å¼ å¤§å›¾, 113ms, å†…å­˜: 0MB

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:436:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    æ··åˆå°ºå¯¸æ‰¹é‡æµ‹è¯•: 5å¼ å›¾ç‰‡, 10ms

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:492:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/edge-cases.test.ts
  Edge Cases Tests
    Color Value Edge Cases
      âœ“ should handle transparent colors correctly
      âœ“ should handle none and null color values
      âœ“ should handle invalid color formats gracefully (1 ms)
      âœ“ should handle extreme hex values
      âœ“ should handle malformed rgba strings (4 ms)
    TextElement Edge Cases
      âœ“ should handle empty text content
      âœ“ should handle null and undefined text
      âœ“ should handle extremely long text content
      âœ“ should handle special Unicode characters
      âœ“ should handle content with no style object (1 ms)
      âœ“ should handle mixed valid and invalid content
    Theme Processing Edge Cases
      âœ“ should handle missing theme colors
      âœ“ should handle corrupted theme data
      âœ“ should handle circular theme references
      âœ“ should handle empty theme
    Memory and Performance Edge Cases
      âœ“ should handle memory stress with many elements (5 ms)
      âœ“ should handle rapid successive color modifications (31 ms)
      âœ“ should handle concurrent element creation (16 ms)
    Data Integrity Edge Cases
      âœ“ should maintain data integrity with extreme values
      âœ“ should handle JSON serialization edge cases
      âœ“ should handle object mutation after creation (1 ms)
    Integration Edge Cases
      âœ“ should handle mixed element types in processing context
      âœ“ should handle partial processing failures gracefully

PASS tests/__tests__/shape-processor-fill-integration.test.ts
  ShapeProcessor Fill Integration Tests
    Fill color extraction
      âœ“ should extract solid fill colors from shapes (1 ms)
      âœ“ should set fill property on ShapeElement
      âœ“ should handle noFill correctly
      âœ“ should use actual fill in themeFill output
      âœ“ should extract theme colors from shapes (1 ms)
      âœ“ should extract accent4 color correctly
      âœ“ should apply transformations to shape fill colors
      âœ“ should handle preset colors in shapes (1 ms)
      âœ“ should handle HSL colors in shapes
    Shape fill inheritance
      âœ“ should fallback to default colors when no fill
      âœ“ should prefer actual fill over generated colors
      âœ“ should handle different shape types with fills (6 ms)
    Complex fill scenarios
      âœ“ should handle complex theme color transformations
      âœ“ should handle multiple transformation chains (1 ms)
      âœ“ should handle percentage RGB colors
      âœ“ should handle system colors
    Error handling and edge cases
      âœ“ should handle malformed fill data gracefully
      âœ“ should handle missing theme for theme colors (13 ms)
      âœ“ should handle unknown preset colors
      âœ“ should handle empty spPr node
    Performance and consistency
      âœ“ should process fill colors consistently
      âœ“ should handle large number of shapes efficiently (12 ms)
    Integration with shape geometry
      âœ“ should preserve geometry while adding fill
      âœ“ should handle all supported shape types with fills (1 ms)

  console.log
    [Slide 1] Processing p:sp - Name: "Test Shape", ID: 1, HasBlipFill: undefined

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as test

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Test Shape", ID: 1, HasBlipFill: undefined

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/slide-parser-advanced.test.ts
  SlideParser Advanced Coverage Tests
    Slide ID extraction
      âœ“ should extract slide ID from path correctly (1 ms)
      âœ“ should handle unknown slide ID when path format is invalid
    Background parsing - solid fill
      âœ“ should parse solid color background with srgbClr
      âœ“ should parse solid color background with schemeClr
      âœ“ should handle missing bg node (2 ms)
      âœ“ should handle missing bgPr node
    Background parsing - gradient fill
      âœ“ should parse gradient background with multiple color stops (4 ms)
      âœ“ should handle gradient with no color stops
      âœ“ should sort gradient color stops by position (1 ms)
    Background parsing - image fill
      âœ“ should parse image background with ImageDataService
      âœ“ should fallback to relationship URL when ImageDataService fails
      âœ“ should use embedId as fallback when no relationship found
      âœ“ should handle missing blip node in blipFill
    Element processing
      âœ“ should process elements with registered processors (3 ms)
      âœ“ should handle processor errors gracefully
      âœ“ should debug log element processing (1 ms)
      âœ“ should handle elements without cNvPr
    Group processing
      âœ“ should extract group transform information
      âœ“ should handle group without transform information
      âœ“ should handle nested groups (1 ms)
      âœ“ should handle empty groups
      âœ“ should handle incomplete group transform data
    Error handling
      âœ“ should handle file extraction errors (8 ms)
      âœ“ should handle XML parsing errors
      âœ“ should handle missing spTree gracefully (1 ms)
    Context creation
      âœ“ should create proper processing context with all parameters
      âœ“ should create context with default values when optional parameters are missing
    Processor array handling
      âœ“ should handle array of elements returned by processor
      âœ“ should handle group returning array of elements
    Debug logging
      âœ“ should log slide processing start (3 ms)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:pic - Name: "Image 0", ID: 9, HasBlipFill: true

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.warn
    FillRect would cause division by zero in ImageElement EB7Tvn1cSp: {
      left: 0.29807407407407405,
      top: 0.3317991769547326,
      right: 0.7019259259259258,
      bottom: 0.6682008230452674,
      widthDenominator: 1.1102230246251565e-16,
      heightDenominator: 0
    }

      126 |       
      127 |       if (widthDenominator <= 0.001 || heightDenominator <= 0.001) {
    > 128 |         console.warn(`FillRect would cause division by zero in ImageElement ${this.id}:`, {
          |                 ^
      129 |           left, top, right, bottom,
      130 |           widthDenominator, heightDenominator
      131 |         });

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:128:17)
      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:82:40)
      at ImageProcessor.process (app/lib/services/element/processors/ImageProcessor.ts:266:11)
      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:243:26)
      at SlideParser.parseElements (app/lib/services/parsing/SlideParser.ts:196:28)
      at SlideParser.parse (app/lib/services/parsing/SlideParser.ts:76:24)
      at PresentationParser.parse (app/lib/services/parsing/PresentationParser.ts:70:25)
      at InternalPPTXParser.parse (app/lib/parser/InternalPPTXParser.ts:124:35)
      at InternalPPTXParser.parseToJSON (app/lib/parser/InternalPPTXParser.ts:158:20)
      at parse (app/lib/pptxtojson.ts:11:18)
      at Object.<anonymous> (tests/pptx-parser-integration.test.ts:30:22)

  console.log
    [Slide 1] Processed as image

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 6", ID: 9, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 7", ID: 10, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 8", ID: 11, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 9", ID: 12, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 10", ID: 13, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 11", ID: 14, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 12", ID: 15, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 13", ID: 16, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 0", ID: 2, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 1", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    Slide 1 has 7 elements

      at tests/pptx-parser-integration.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    Slide 1: 0 elements with text content, 3 text type elements

      at tests/pptx-parser-integration.test.ts:143:17
          at Array.forEach (<anonymous>)

  console.log
    Slide 2 has 14 elements

      at tests/pptx-parser-integration.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    Slide 2: 0 elements with text content, 14 text type elements

      at tests/pptx-parser-integration.test.ts:143:17
          at Array.forEach (<anonymous>)

  console.log
    Slide 3 has 2 elements

      at tests/pptx-parser-integration.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    Slide 3: 0 elements with text content, 2 text type elements

      at tests/pptx-parser-integration.test.ts:143:17
          at Array.forEach (<anonymous>)

  console.log
    Total elements across all slides: 23

      at Object.<anonymous> (tests/pptx-parser-integration.test.ts:163:15)

  console.log
    Has text elements: false

      at Object.<anonymous> (tests/pptx-parser-integration.test.ts:164:15)

  console.warn
    âš ï¸ No text elements found but slides have other elements. This might indicate a text parsing issue.

      166 |       // å¦‚æœæœ‰å…ƒç´ ä½†æ²¡æœ‰æ–‡æœ¬å…ƒç´ ï¼Œç»™å‡ºè­¦å‘Šè€Œä¸æ˜¯å¤±è´¥
      167 |       if (totalElements > 0 && !hasTextElements) {
    > 168 |         console.warn('âš ï¸ No text elements found but slides have other elements. This might indicate a text parsing issue.');
          |                 ^
      169 |       }
      170 |       
      171 |       // åªæœ‰å½“å®Œå…¨æ²¡æœ‰å…ƒç´ æ—¶æ‰å¤±è´¥

      at Object.<anonymous> (tests/pptx-parser-integration.test.ts:168:17)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/pptx-parser-integration.test.ts
  PPTX è§£æå™¨é›†æˆæµ‹è¯•
    åŸºæœ¬ç»“æ„éªŒè¯
      âœ“ åº”è¯¥å…·æœ‰å¿…éœ€çš„é¡¶çº§å±æ€§ (3 ms)
      âœ“ åº”è¯¥å…·æœ‰ä¸æœŸæœ›ç›¸åŒæ•°é‡çš„å¹»ç¯ç‰‡
      âœ“ åº”è¯¥åŒ¹é…æœŸæœ›çš„å¹»ç¯ç‰‡æ•°é‡
    ä¸»é¢˜éªŒè¯
      âœ“ åº”è¯¥å…·æœ‰ä¸»é¢˜è‰²å½©
      âœ“ åº”è¯¥åŒ¹é…æœŸæœ›çš„ä¸»é¢˜ç»“æ„ (1 ms)
    å¹»ç¯ç‰‡å†…å®¹éªŒè¯
      âœ“ åº”è¯¥å…·æœ‰åŒ…å«å…ƒç´ çš„å¹»ç¯ç‰‡
      âœ“ åº”è¯¥å…·æœ‰å«å¿…éœ€å±æ€§çš„æ–‡æœ¬å…ƒç´  (5 ms)
      âœ“ åº”è¯¥å…·æœ‰å«å¿…éœ€å±æ€§çš„å½¢çŠ¶å…ƒç´  (1 ms)
      âœ“ åº”è¯¥å…·æœ‰å«å¿…éœ€å±æ€§çš„å›¾åƒå…ƒç´ 
    æ•°æ®ä¸€è‡´æ€§éªŒè¯
      âœ“ åº”è¯¥å…·æœ‰ä¸€è‡´çš„å¹»ç¯ç‰‡ ID
      âœ“ å¹»ç¯ç‰‡å†…åº”è¯¥å…·æœ‰ä¸€è‡´çš„å…ƒç´  ID (3 ms)
      âœ“ åº”è¯¥å…·æœ‰æœ‰æ•ˆçš„æ•°å€¼å±æ€§ (11 ms)
    æœŸæœ›è¾“å‡ºæ¯”è¾ƒ
      âœ“ åº”è¯¥åŒ¹é…æœŸæœ›çš„ç»“æ„é”®
      âœ“ åº”è¯¥åŒ¹é…æœŸæœ›çš„å¹»ç¯ç‰‡æ•°é‡å’ŒåŸºæœ¬ç»“æ„
      âœ“ åº”è¯¥å…·æœ‰ç›¸ä¼¼çš„å…ƒç´ ç±»å‹åˆ†å¸ƒ

  console.log
    [Slide 1] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:sp - Name: "Shape 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 1] Processed as shape

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 1] Processing p:pic - Name: "Image 0", ID: 9, HasBlipFill: true

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.warn
    FillRect would cause division by zero in ImageElement A-O2-YntBl: {
      left: 0.29807407407407405,
      top: 0.3317991769547326,
      right: 0.7019259259259258,
      bottom: 0.6682008230452674,
      widthDenominator: 1.1102230246251565e-16,
      heightDenominator: 0
    }

      126 |       
      127 |       if (widthDenominator <= 0.001 || heightDenominator <= 0.001) {
    > 128 |         console.warn(`FillRect would cause division by zero in ImageElement ${this.id}:`, {
          |                 ^
      129 |           left, top, right, bottom,
      130 |           widthDenominator, heightDenominator
      131 |         });

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:128:17)
      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:82:40)
      at ImageProcessor.process (app/lib/services/element/processors/ImageProcessor.ts:266:11)
      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:243:26)
      at SlideParser.parseElements (app/lib/services/parsing/SlideParser.ts:196:28)
      at SlideParser.parse (app/lib/services/parsing/SlideParser.ts:76:24)
      at PresentationParser.parse (app/lib/services/parsing/PresentationParser.ts:70:25)
      at InternalPPTXParser.parse (app/lib/parser/InternalPPTXParser.ts:124:35)
      at InternalPPTXParser.parseToJSON (app/lib/parser/InternalPPTXParser.ts:158:20)
      at parse (app/lib/pptxtojson.ts:11:18)
      at Object.<anonymous> (tests/pptxtojson.test.ts:51:24)

  console.log
    [Slide 1] Processed as image

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 0", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 1", ID: 4, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 2", ID: 5, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 3", ID: 6, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 4", ID: 7, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 5", ID: 8, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 6", ID: 9, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 7", ID: 10, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 8", ID: 11, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 9", ID: 12, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 10", ID: 13, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 11", ID: 14, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 12", ID: 15, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 2] Processing p:sp - Name: "Text 13", ID: 16, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 2] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 0", ID: 2, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

  console.log
    [Slide 3] Processing p:sp - Name: "Text 1", ID: 3, HasBlipFill: false

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:232:15)

  console.log
    [Slide 3] Processed as text

      at SlideParser.processNode (app/lib/services/parsing/SlideParser.ts:244:19)

PASS tests/pptxtojson.test.ts
  PPTX è§£æå™¨
    è§£æå‡½æ•°
      âœ“ åº”è¯¥è¢«å®šä¹‰ (1 ms)
      âœ“ åº”è¯¥ä¼˜é›…åœ°å¤„ç†æ— æ•ˆè¾“å…¥ (7 ms)
      âœ“ å¦‚æœç¤ºä¾‹æ–‡ä»¶å­˜åœ¨åˆ™åº”è¯¥è§£ææœ‰æ•ˆçš„ PPTX æ–‡ä»¶ (31 ms)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    ğŸ–¼ï¸ Processing image element test2

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:75:17)

  console.log
    ğŸ“ Original data: png, 367 bytes

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:76:17)

  console.log
    ğŸ”§ Applying stretch offset processing for test2

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:108:17)

  console.log
    ğŸ“ Stretch info: {
      fillRect: { left: 0.1, top: 0.1, right: 0.1, bottom: 0.1 },
      srcRect: { left: 0.05, top: 0.05, right: 0.05, bottom: 0.05 }
    }

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:111:17)

  console.log
    originalData.buffer <Buffer 89 50 4e 47 0d 0a 1a 0a 00 00 00 0d 49 48 44 52 00 00 00 64 00 00 00 64 08 06 00 00 00 70 e2 95 54 00 00 00 09 70 48 59 73 00 00 03 e8 00 00 03 e8 01 ... 317 more bytes>

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:122:15)

  console.log
    ğŸ”§ PPTXImageProcessor: Processing image 100x100

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:148:17)

  console.log
    ğŸ“ Container size: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:151:17)

  console.log
    ğŸ“ FillRect offsets: { left: 0.1, top: 0.1, right: 0.1, bottom: 0.1 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:152:17)

  console.log
    âœ‚ï¸ SrcRect crop: { left: 0.05, top: 0.05, right: 0.05, bottom: 0.05 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:153:30)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-1-original-2025-07-04T00-05-24-263Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-1-original-2025-07-04T00-05-24-263Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    âœ‚ï¸ Applied srcRect crop: 89x89

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:191:21)

  console.log
    ğŸ¯ Target rect: { x: 0, y: 0, width: 200, height: 150 }

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:205:17)

  console.log
    ğŸ”„ Applying fillRect transform on 100x100 image

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:310:15)

  console.log
    ğŸ“ Container: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:313:15)

  console.log
    ğŸ“ FillRect: L10.000% T10.000% R10.000% B10.000%

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:314:15)

  console.log
    ğŸ“ Display area: 160.0x120.0

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:339:15)

  console.log
    ğŸ“ Position offset: L20px T15px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:344:15)

  console.log
    ğŸ”„ Resized image to display area: 160x120

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:380:15)

  console.log
    ğŸ”§ Rounded values: offset(20, 15), display(160x120)

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:401:15)

  console.log
    ğŸ”² Composited image at position: L20px T15px

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:542:19)

  console.log
    ğŸ“‹ Final image size: 200x150

      at PPTXImageProcessor.applyFillRectTransform (app/lib/services/images/PPTXImageProcessor.ts:554:15)

  console.log
    âœ… Processing complete: 200x150

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:235:17)

  console.log
    ğŸ“‹ Applied effects: [
      'srcRect crop: 89x89 from (5,5)',
      'fillRect stretch: {"left":0.1,"top":0.1,"right":0.1,"bottom":0.1}',
      'transparent padding: Applied fillRect transform'
    ]

      at PPTXImageProcessor.applyStretchOffset (app/lib/services/images/PPTXImageProcessor.ts:238:17)

  console.log
    ğŸ’¾ Debug image saved: debug-images/image-2-processed-2025-07-04T00-05-24-275Z.png

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:659:15)

  console.log
    ğŸ“„ Metadata saved: debug-images/image-2-processed-2025-07-04T00-05-24-275Z.json

      at PPTXImageProcessor.saveDebugImage (app/lib/services/images/PPTXImageProcessor.ts:662:15)

  console.log
    processedResult {
      buffer: <Buffer 89 50 4e 47 0d 0a 1a 0a 00 00 00 0d 49 48 44 52 00 00 00 c8 00 00 00 96 08 06 00 00 00 9b dc c7 19 00 00 00 09 70 48 59 73 00 00 03 e8 00 00 03 e8 01 ... 702 more bytes>,
      width: 200,
      height: 150,
      format: 'png',
      processedAt: 2025-07-04T00:05:24.278Z,
      appliedEffects: [
        'srcRect crop: 89x89 from (5,5)',
        'fillRect stretch: {"left":0.1,"top":0.1,"right":0.1,"bottom":0.1}',
        'transparent padding: Applied fillRect transform'
      ]
    }

      at ImageProcessingService.createDataUrl (app/lib/services/images/ImageProcessingService.ts:316:13)

  console.log
    âœ… Stretch processing completed for test2

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:135:17)

  console.log
    ğŸ“Š Result: 200x150, 752 bytes

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:138:17)

  console.log
    â±ï¸ Processing time: 18ms

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:141:17)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.error
    âŒ Image processing failed for test4: Error: Failed to extract image data for rIdNotExist
        at ImageProcessingService.processImageElementWithEmbedId (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageProcessingService.ts:71:15)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/image-processing-service-integration.test.ts:233:22)

      155 |       };
      156 |     } catch (error) {
    > 157 |       console.error(
          |               ^
      158 |         `âŒ Image processing failed for ${imageElement.getId()}:`,
      159 |         error
      160 |       );

      at ImageProcessingService.processImageElementWithEmbedId (app/lib/services/images/ImageProcessingService.ts:157:15)
      at Object.<anonymous> (tests/__tests__/image-processing-service-integration.test.ts:233:22)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/image-processing-service-integration.test.ts
  ImageProcessingService é›†æˆæµ‹è¯•
    æœåŠ¡ç¼–æ’æµ‹è¯•
      âœ“ åº”è¯¥åœ¨Sharpä¸å¯ç”¨æ—¶æ­£ç¡®å›é€€åˆ°åŸå§‹æ•°æ® (2 ms)
      âœ“ åº”è¯¥æ­£ç¡®ä¼ é€’å¤„ç†é…ç½®å‚æ•°åˆ°ä¸‹æ¸¸ç»„ä»¶ (21 ms)
      âœ“ åº”è¯¥å¤„ç†ç¦ç”¨æ‹‰ä¼¸å¤„ç†çš„æƒ…å†µ (2 ms)
      âœ“ åº”è¯¥åœ¨å¹¶å‘é™åˆ¶ä¸‹æ­£ç¡®æ’é˜Ÿå¤„ç†è¯·æ±‚ (4 ms)
    é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæƒ…å†µ
      âœ“ åº”è¯¥å¤„ç†å›¾ç‰‡æå–å¤±è´¥çš„æƒ…å†µ (5 ms)
      âœ“ åº”è¯¥å¤„ç†æ²¡æœ‰æ‹‰ä¼¸ä¿¡æ¯çš„å›¾ç‰‡ (5 ms)
      âœ“ åº”è¯¥å¤„ç†æ²¡æœ‰embedIdçš„æƒ…å†µ
    å·¥å…·æ–¹æ³•æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®è¿”å›å¤„ç†ç»Ÿè®¡ä¿¡æ¯ (1 ms)

PASS tests/__tests__/shape-processor-advanced.test.ts
  ShapeProcessor Advanced Coverage Tests
    Shape text content processing
      âœ“ should extract and process text content with style inheritance (1 ms)
      âœ“ should handle vertical alignment from bodyPr
      âœ“ should handle paragraph alignment mapping (1 ms)
    Custom geometry analysis
      âœ“ should detect circular geometry from arc commands
      âœ“ should detect rectangular geometry from line commands
      âœ“ should detect circular geometry from cubic bezier pattern
    SVG path extraction from custom geometry
      âœ“ should extract complex SVG path with all command types (1 ms)
      âœ“ should handle path optimization
    Gradient fill processing
      âœ“ should extract linear gradient with color stops
      âœ“ should extract radial gradient (1 ms)
      âœ“ should handle gradient color modifiers
    Adjustment values and roundRect handling
      âœ“ should extract adjustment values for roundRect
      âœ“ should use default adjustment for roundRect without values
    FlowChart and ActionButton shapes
      âœ“ should handle flowChart shapes correctly (1 ms)
      âœ“ should handle actionButton shapes correctly (1 ms)
    Style reference extraction
      âœ“ should extract color from fillRef style (3 ms)
    Default gradient creation
      âœ“ should create default gradient for specific path patterns
    Group transform handling
      âœ“ should apply group transform to shape position
    Text box detection
      âœ“ should not process text boxes as shapes
    Rotation handling
      âœ“ should extract and convert rotation angle
    System color handling in gradients
      âœ“ should handle system colors with lastClr
    Color modifier combinations
      âœ“ should apply multiple color modifiers in sequence (1 ms)

  console.log
    èµ„æºç®¡ç†æµ‹è¯•: å‰©ä½™èµ„æº 8/20, 225ms

      at Object.<anonymous> (tests/__tests__/performance-reliability-comprehensive.test.ts:533:15)

PASS tests/__tests__/performance-reliability-comprehensive.test.ts
  æ€§èƒ½å’Œå¯é æ€§ç»¼åˆæµ‹è¯•
    æ€§èƒ½åŸºå‡†æµ‹è¯•
      âœ“ åº”è¯¥åœ¨2ç§’å†…å¤„ç†åŒ…å«10å¼ å›¾ç‰‡çš„æ ‡å‡†æµ‹è¯• (168 ms)
      âœ“ åº”è¯¥åœ¨åˆç†å†…å­˜é™åˆ¶å†…å¤„ç†å¤§å‹æ¼”ç¤ºæ–‡ç¨¿ (10 ms)
      âœ“ åº”è¯¥æµ‹è¯•å¹¶å‘å¤„ç†æ—¶çš„CPUå’Œå†…å­˜ä½¿ç”¨æ•ˆç‡ (125 ms)
    é•¿æœŸè¿è¡Œæµ‹è¯•
      âœ“ åº”è¯¥åœ¨è¿ç»­å¤„ç†100ä¸ªæ–‡ä»¶åæ— å†…å­˜æ³„æ¼ (1344 ms)
      âœ“ åº”è¯¥åœ¨æœåŠ¡é•¿æ—¶é—´è¿è¡Œåä¿æŒå¤„ç†æ€§èƒ½ (539 ms)
    è´Ÿè½½æµ‹è¯•
      âœ“ åº”è¯¥å¤„ç†é«˜é¢‘ç‡çš„å°å›¾ç‰‡è¯·æ±‚ (294 ms)
      âœ“ åº”è¯¥å¤„ç†å°‘é‡å¤§å›¾ç‰‡çš„å¤„ç†è¯·æ±‚ (115 ms)
      âœ“ åº”è¯¥å¤„ç†æ··åˆå°ºå¯¸å›¾ç‰‡çš„æ‰¹é‡è¯·æ±‚ (11 ms)
    èµ„æºç®¡ç†å’Œæ¸…ç†
      âœ“ åº”è¯¥æ­£ç¡®ç®¡ç†ä¸´æ—¶èµ„æºçš„ç”Ÿå‘½å‘¨æœŸ (228 ms)

  console.log
    Invalid XML case 0 correctly threw error: Failed to parse XML: Empty XML content

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 1 correctly threw error: Failed to parse XML: Empty XML content

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 2 correctly threw error: Failed to parse XML: No valid root node found

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 3 correctly threw error: Failed to parse XML: No valid root node found

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 4 correctly threw error: Failed to parse XML: No valid root node found

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 5 handled gracefully

      at tests/__tests__/xml-parsing-edge-cases.test.ts:39:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 6 correctly threw error: Failed to parse XML: No valid root node found

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 7 handled gracefully

      at tests/__tests__/xml-parsing-edge-cases.test.ts:39:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 8 correctly threw error: Failed to parse XML: Unexpected close tag
    Line: 0
    Column: 19
    Char: >

      at tests/__tests__/xml-parsing-edge-cases.test.ts:43:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 9 handled gracefully

      at tests/__tests__/xml-parsing-edge-cases.test.ts:39:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 10 handled gracefully

      at tests/__tests__/xml-parsing-edge-cases.test.ts:39:19
          at Array.forEach (<anonymous>)

  console.log
    Invalid XML case 11 handled gracefully

      at tests/__tests__/xml-parsing-edge-cases.test.ts:39:19
          at Array.forEach (<anonymous>)

  console.log
    Self-closing tags handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:74:15)

  console.log
    Mixed content handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:100:15)

  console.log
    XML entities and special characters handled

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:130:15)

  console.log
    Encoding case 0 handled correctly

      at tests/__tests__/xml-parsing-edge-cases.test.ts:147:17
          at Array.forEach (<anonymous>)

  console.log
    Encoding case 1 handled correctly

      at tests/__tests__/xml-parsing-edge-cases.test.ts:147:17
          at Array.forEach (<anonymous>)

  console.log
    Encoding case 2 handled correctly

      at tests/__tests__/xml-parsing-edge-cases.test.ts:147:17
          at Array.forEach (<anonymous>)

  console.log
    Encoding case 3 handled correctly

      at tests/__tests__/xml-parsing-edge-cases.test.ts:147:17
          at Array.forEach (<anonymous>)

  console.log
    Namespaced XML handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:188:15)

PASS tests/__tests__/id-generator-comprehensive.test.ts
  IdGenerator - Comprehensive Test Suite
    PPTist Style ID Generation
      âœ“ should generate PPTist-compatible IDs
      âœ“ should generate unique IDs across multiple calls (9 ms)
      âœ“ should include occasional special characters
      âœ“ should not start with special characters (6 ms)
    Original ID Preservation
      âœ“ should preserve valid PPTist-like original IDs for shapes
      âœ“ should reject invalid original IDs
      âœ“ should generate new IDs for non-shape elements even with valid original IDs (1 ms)
      âœ“ should handle undefined element types
    Duplicate Handling
      âœ“ should handle duplicate original IDs
      âœ“ should handle collision in generated IDs
      âœ“ should track used IDs correctly
    State Management
      âœ“ should reset state correctly (1 ms)
      âœ“ should maintain separate counters for different element types
      âœ“ should track all generated IDs (1 ms)
    PPTist Compatibility Validation
      âœ“ should validate PPTist-like IDs correctly (2 ms)
    Performance and Scalability
      âœ“ should handle large numbers of ID generations efficiently (4 ms)
      âœ“ should handle collision resolution efficiently
    Edge Cases and Error Handling
      âœ“ should handle null and undefined original IDs
      âœ“ should handle empty string original IDs
      âœ“ should handle whitespace-only original IDs
      âœ“ should handle special element types (1 ms)
    Real-world Usage Patterns
      âœ“ should handle typical PowerPoint element processing
      âœ“ should handle batch processing with mixed element types (1 ms)

  console.log
    Large XML parsing: 1000 elements in 11.38ms

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:229:15)

  console.log
    Theme color dk1: empty result (expected for missing theme)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:158:19
          at Array.forEach (<anonymous>)

  console.log
    Deep nesting parsing: 100 levels in 0.08ms

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:268:15)

  console.log
    Theme color lt1: empty result (expected for missing theme)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:158:19
          at Array.forEach (<anonymous>)

  console.log
    Theme color accent1: empty result (expected for missing theme)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:158:19
          at Array.forEach (<anonymous>)

  console.log
    Theme color accent2: empty result (expected for missing theme)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:158:19
          at Array.forEach (<anonymous>)

  console.log
    Theme color hlink: empty result (expected for missing theme)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:158:19
          at Array.forEach (<anonymous>)

  console.log
    Mapped color tx1 â†’ dk2: rgba(31,78,121,1)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:213:17
          at Array.forEach (<anonymous>)

  console.log
    Mapped color bg1 â†’ lt2: rgba(238,236,225,1)

      at tests/__tests__/theme-inheritance-mechanism.test.ts:213:17
          at Array.forEach (<anonymous>)

  console.log
    Complex inheritance result: rgba(255,87,51,1)

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:269:15)

  console.log
    Many attributes parsing: 500 attributes in 0.55ms

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:297:15)

  console.log
    Circular reference protection:

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:305:15)

  console.log
    Font scheme structure validation passed

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:331:15)

  console.log
    Font fallback data structure validated

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:348:15)

  console.log
    Effect scheme data structure validated

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:381:15)

  console.log
    Format scheme data structure validated

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:421:15)

  console.log
    Memory usage after 100 parses: 4.50MB

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:337:15)

  console.log
    Concurrent parsing: 10 operations in 0.06ms

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:368:15)

  console.log
    PowerPoint relationship XML handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:397:15)

  console.log
    Singleton service registration test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:185:15)

  console.log
    Complex PowerPoint slide XML handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:481:15)

  console.log
    Factory service registration test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:207:15)

  console.log
    PowerPoint theme XML handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:535:15)

  console.log
    Singleton factory service registration test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:228:15)

  console.log
    Partial corruption recovery test completed

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:558:15)

  console.log
    Large attribute parsing: 100KB attribute in 0.01ms

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:578:15)

  console.log
    Unusual but valid XML constructs handled correctly

      at Object.<anonymous> (tests/__tests__/xml-parsing-edge-cases.test.ts:609:17)

PASS tests/__tests__/xml-parsing-edge-cases.test.ts
  XML Parsing Edge Cases Tests
    Malformed XML Handling
      âœ“ should handle completely invalid XML gracefully (6 ms)
      âœ“ should handle self-closing tags correctly (1 ms)
      âœ“ should handle mixed content (text and elements) (1 ms)
    Special Characters and Encoding
      âœ“ should handle XML entities and special characters
      âœ“ should handle different XML encodings (2 ms)
      âœ“ should handle XML with namespaces correctly
    Large XML and Performance
      âœ“ should handle large XML documents efficiently (14 ms)
      âœ“ should handle deeply nested XML structures (11 ms)
      âœ“ should handle XML with many attributes efficiently (2 ms)
    Memory Management and Resource Handling
      âœ“ should not leak memory during repeated parsing (17 ms)
      âœ“ should handle concurrent parsing operations (1 ms)
    PowerPoint-Specific XML Edge Cases
      âœ“ should handle PowerPoint relationship XML correctly
      âœ“ should handle PowerPoint slide XML with complex structures (1 ms)
      âœ“ should handle PowerPoint theme XML with color schemes (1 ms)
    Error Recovery and Robustness
      âœ“ should recover from partial XML corruption
      âœ“ should handle extremely large attribute values
      âœ“ should handle XML with unusual but valid constructs (2 ms)

  console.log
    Dependency injection test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:264:15)

  console.log
    Complex dependency graph test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:307:15)

  console.log
    Lifecycle management: singleton created 1 times, non-singleton created 1 times

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:338:15)

  console.log
    Service disposal test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:357:15)

  console.log
    Null/undefined service handling test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:407:15)

  console.log
    Service override test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:426:15)

  console.log
    Service resolution performance: 0.11ms for 1000 resolutions

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:449:15)

  console.log
    Theme lookup performance: 33.11ms for 1000 lookups

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:462:15)

  console.log
    Malformed theme 0:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed theme 1:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed theme 2:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed theme 3:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed theme 4:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed theme 5:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed theme 6:

      at tests/__tests__/theme-inheritance-mechanism.test.ts:488:17
          at Array.forEach (<anonymous>)

  console.log
    Theme data integrity maintained

      at Object.<anonymous> (tests/__tests__/theme-inheritance-mechanism.test.ts:523:15)

PASS tests/__tests__/theme-inheritance-mechanism.test.ts
  Theme Inheritance Mechanism Tests
    Color Scheme Inheritance Chain
      âœ“ should properly inherit slide master theme colors (17 ms)
      âœ“ should handle color mapping overrides correctly (1 ms)
      âœ“ should resolve complex inheritance with multiple levels (1 ms)
      âœ“ should detect and prevent infinite recursion in color references
    Font Scheme Inheritance
      âœ“ should parse and inherit font schemes correctly (1 ms)
      âœ“ should handle font fallbacks and substitutions
    Effect Scheme and Format Scheme
      âœ“ should parse effect schemes for shape styling (1 ms)
      âœ“ should handle format schemes for background styles
    Theme Integration and Performance
      âœ“ should efficiently cache theme lookups (36 ms)
      âœ“ should handle malformed theme data gracefully (2 ms)
      âœ“ should maintain theme data integrity across multiple operations (1 ms)

  console.log
    Concurrent resolution test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:480:15)

  console.log
    Memory usage: -0.84MB for 500 services

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:507:15)

  console.log
    Core service types integration test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:532:15)

  console.log
    Service configuration test passed

      at Object.<anonymous> (tests/__tests__/service-container-dependency-injection.test.ts:553:15)

PASS tests/__tests__/service-container-dependency-injection.test.ts
  Service Container Dependency Injection Tests
    Basic Service Registration and Resolution
      âœ“ should register and resolve singleton services correctly (2 ms)
      âœ“ should register and resolve factory services correctly
      âœ“ should register and resolve singleton factory services correctly (1 ms)
      âœ“ should throw error for unregistered services (4 ms)
    Dependency Injection and Constructor Injection
      âœ“ should inject dependencies through manual factory registration (1 ms)
      âœ“ should handle complex dependency graphs (3 ms)
    Service Lifecycle Management
      âœ“ should properly manage singleton vs transient lifecycles (1 ms)
      âœ“ should handle service disposal and cleanup
    Error Handling and Edge Cases
      âœ“ should handle factory function errors gracefully
      âœ“ should detect and prevent circular dependencies (2 ms)
      âœ“ should handle null and undefined service registrations
      âœ“ should handle service overrides correctly (1 ms)
    Performance and Scalability
      âœ“ should resolve services efficiently at scale
      âœ“ should handle concurrent service resolutions (12 ms)
      âœ“ should maintain memory efficiency with large service graphs (7 ms)
    Integration with Real Service Types
      âœ“ should properly handle all core service types
      âœ“ should support service configuration and options

PASS tests/__tests__/fill-extractor-comprehensive.test.ts
  FillExtractor Comprehensive Tests
    Color Type Extraction
      srgbClr (Direct RGB)
        âœ“ should extract 6-digit hex values (1 ms)
        âœ“ should handle uppercase and lowercase hex
        âœ“ should apply transformations to srgbClr
        âœ“ should handle various RGB color values
      schemeClr (Theme Colors)
        âœ“ should resolve accent1-6 colors (1 ms)
        âœ“ should resolve dk1, dk2, lt1, lt2 colors
        âœ“ should resolve hyperlink colors
        âœ“ should handle missing theme gracefully
        âœ“ should apply transformations to theme colors
        âœ“ should handle placeholder colors (phClr)
      scrgbClr (Percentage RGB)
        âœ“ should convert percentage values correctly
        âœ“ should handle values with and without % symbols (3 ms)
        âœ“ should handle fractional percentages (1 ms)
      prstClr (Preset Colors)
        âœ“ should resolve all basic preset colors (2 ms)
        âœ“ should handle unknown preset colors
        âœ“ should apply transformations to preset colors
        âœ“ should match expected preset color values (1 ms)
      hslClr (HSL Colors)
        âœ“ should convert HSL to RGB correctly
        âœ“ should handle PowerPoint HSL format (0-100000 scale)
        âœ“ should apply transformations to HSL colors (1 ms)
        âœ“ should handle various HSL combinations
      sysClr (System Colors)
        âœ“ should use lastClr attribute when available
        âœ“ should handle missing lastClr attribute
        âœ“ should apply transformations to system colors
    Color Transformation Chain
      Single transformations
        âœ“ should apply alpha correctly
        âœ“ should apply each transformation type independently (1 ms)
      Multiple transformations
        âœ“ should apply transformations in correct order
        âœ“ should handle complex transformation chains
        âœ“ should maintain precision through multiple operations
        âœ“ should handle PowerPoint common combinations
      Transformation edge cases
        âœ“ should handle NaN values gracefully
        âœ“ should handle undefined transformation values
        âœ“ should clamp values to valid ranges (1 ms)
    getFillColor function
      Shape properties handling
        âœ“ should extract solid fill color from spPr
        âœ“ should return transparent for noFill
        âœ“ should return empty string for no fill specified
        âœ“ should handle complex fill with transformations (3 ms)
        âœ“ should pass through theme and placeholder colors
    Error handling and edge cases
      Invalid input handling
        âœ“ should handle null solidFill
        âœ“ should handle undefined solidFill
        âœ“ should handle empty solidFill object
        âœ“ should handle malformed color structures (1 ms)
      Theme handling edge cases
        âœ“ should handle missing theme content
        âœ“ should handle malformed theme structure
        âœ“ should handle unknown theme color references
    Performance and consistency
      âœ“ should process colors consistently for same inputs
      âœ“ should handle large numbers of transformations efficiently

  console.log
    Input: 72pt, Result: 96pt, Expected with factor: 95.9999976pt

      at tests/__tests__/unit-converter-precision.test.ts:112:17
          at Array.forEach (<anonymous>)

  console.log
    Input: 36pt, Result: 48pt, Expected with factor: 47.9999988pt

      at tests/__tests__/unit-converter-precision.test.ts:112:17
          at Array.forEach (<anonymous>)

  console.log
    Input: 144pt, Result: 192pt, Expected with factor: 191.9999952pt

      at tests/__tests__/unit-converter-precision.test.ts:112:17
          at Array.forEach (<anonymous>)

  console.log
    Input: 18pt, Result: 24pt, Expected with factor: 23.9999994pt

      at tests/__tests__/unit-converter-precision.test.ts:112:17
          at Array.forEach (<anonymous>)

  console.log
    Small text box: 63500 EMU â†’ 6.67 points

      at tests/__tests__/unit-converter-precision.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    Medium shape: 635000 EMU â†’ 66.67 points

      at tests/__tests__/unit-converter-precision.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    Large image: 3175000 EMU â†’ 333.33 points

      at tests/__tests__/unit-converter-precision.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    Slide width: 9144000 EMU â†’ 960 points

      at tests/__tests__/unit-converter-precision.test.ts:132:17
          at Array.forEach (<anonymous>)

  console.log
    just under 0.5 point: 6349.5 EMU â†’ 0.6666141565629922 points

      at tests/__tests__/unit-converter-precision.test.ts:224:17
          at Array.forEach (<anonymous>)

  console.log
    just over 0.5 point: 6350.5 EMU â†’ 0.6667191434370079 points

      at tests/__tests__/unit-converter-precision.test.ts:224:17
          at Array.forEach (<anonymous>)

  console.log
    just under 1 point: 12699.5 EMU â†’ 1.3332808065629922 points

      at tests/__tests__/unit-converter-precision.test.ts:224:17
          at Array.forEach (<anonymous>)

  console.log
    just over 1 point: 12700.5 EMU â†’ 1.333385793437008 points

      at tests/__tests__/unit-converter-precision.test.ts:224:17
          at Array.forEach (<anonymous>)

  console.log
    zero (0): 0 points

      at tests/__tests__/unit-converter-precision.test.ts:259:17
          at Array.forEach (<anonymous>)

  console.log
    minimal positive (1): 0.00010498687401574803 points

      at tests/__tests__/unit-converter-precision.test.ts:259:17
          at Array.forEach (<anonymous>)

  console.log
    minimal negative (-1): -0.00010498687401574803 points

      at tests/__tests__/unit-converter-precision.test.ts:259:17
          at Array.forEach (<anonymous>)

PASS tests/__tests__/debug-helper-comprehensive.test.ts
  DebugHelper - Comprehensive Test Suite
    Debug Mode Detection
      isDebugEnabled
        âœ“ should return false when debug mode is disabled
        âœ“ should return true when debug mode is enabled (1 ms)
        âœ“ should return false when options are undefined
        âœ“ should return false when context is empty
      isDebugEnabledFromOptions
        âœ“ should return false when debug mode is disabled
        âœ“ should return true when debug mode is enabled
        âœ“ should return false when options are undefined
        âœ“ should return false when options are null
    Debug Feature Detection
      shouldSaveDebugImages
        âœ“ should return false when debug images are disabled
        âœ“ should return true when debug images are enabled (1 ms)
        âœ“ should return false when debug mode is disabled even if saveDebugImages is true
        âœ“ should return false when debugOptions is undefined
      shouldLogProcessingDetails
        âœ“ should return false when logging is disabled
        âœ“ should return true when logging is enabled
        âœ“ should return false when debug mode is disabled
      shouldIncludeTimingInfo
        âœ“ should return false when timing info is disabled
        âœ“ should return true when timing info is enabled
    Debug Prefix Generation
      âœ“ should generate correct prefixes for different log types
      âœ“ should default to info prefix (1 ms)
    Debug Logging
      log method
        âœ“ should log messages when debug logging is enabled
        âœ“ should not log messages when debug logging is disabled
        âœ“ should log with different types
      logFromOptions method
        âœ“ should log messages when debug logging is enabled
        âœ“ should not log messages when debug logging is disabled
        âœ“ should handle undefined options
    Timing Wrapper
      âœ“ should execute function and log timing when timing is enabled (1 ms)
      âœ“ should execute function without timing when timing is disabled
      âœ“ should handle and log errors in timing wrapper (6 ms)
    Debug Summary Generation
      âœ“ should return disabled message when debug is off
      âœ“ should return enabled message with no features when debug is on but no features enabled
      âœ“ should list enabled features in summary
    Error Handling and Edge Cases
      âœ“ should handle malformed context objects (4 ms)
      âœ“ should handle very long log messages (1 ms)

  console.log
    fractional minimal (0.1): 0.000010498687401574804 points

      at tests/__tests__/unit-converter-precision.test.ts:259:17
          at Array.forEach (<anonymous>)

  console.log
    epsilon (2.220446049250313e-16): 2.3311768963140806e-20 points

      at tests/__tests__/unit-converter-precision.test.ts:259:17
          at Array.forEach (<anonymous>)

  console.log
    max safe integer (9007199254740991): 945637693392.232 points

      at tests/__tests__/unit-converter-precision.test.ts:275:17
          at Array.forEach (<anonymous>)

  console.log
    half max safe (4503599627370495.5): 472818846696.116 points

      at tests/__tests__/unit-converter-precision.test.ts:275:17
          at Array.forEach (<anonymous>)

  console.log
    large but safe (1000000000000000): 104986874015.74803 points

      at tests/__tests__/unit-converter-precision.test.ts:275:17
          at Array.forEach (<anonymous>)

  console.log
    NaN: NaN

      at tests/__tests__/unit-converter-precision.test.ts:295:17
          at Array.forEach (<anonymous>)

  console.log
    positive infinity: Infinity

      at tests/__tests__/unit-converter-precision.test.ts:295:17
          at Array.forEach (<anonymous>)

  console.log
    negative infinity: -Infinity

      at tests/__tests__/unit-converter-precision.test.ts:295:17
          at Array.forEach (<anonymous>)

  console.log
    Converted 100000 values in 1.58ms

      at Object.<anonymous> (tests/__tests__/unit-converter-precision.test.ts:317:15)

  console.log
    Average: 0.016Î¼s per conversion

      at Object.<anonymous> (tests/__tests__/unit-converter-precision.test.ts:318:15)

  console.log
    small range: 0.11ms for 1000 conversions

      at tests/__tests__/unit-converter-precision.test.ts:337:17
          at Array.forEach (<anonymous>)

  console.log
    medium range: 0.03ms for 1000 conversions

      at tests/__tests__/unit-converter-precision.test.ts:337:17
          at Array.forEach (<anonymous>)

  console.log
    large range: 0.04ms for 1000 conversions

      at tests/__tests__/unit-converter-precision.test.ts:337:17
          at Array.forEach (<anonymous>)

  console.log
    Memory increase after 50000 conversions: 0.50MB

      at Object.<anonymous> (tests/__tests__/unit-converter-precision.test.ts:359:15)

  console.log
    4:3 Standard: 960.0 x 720.0 points

      at tests/__tests__/unit-converter-precision.test.ts:382:17
          at Array.forEach (<anonymous>)

  console.log
    16:9 Widescreen: 960.0 x 540.0 points

      at tests/__tests__/unit-converter-precision.test.ts:382:17
          at Array.forEach (<anonymous>)

  console.log
    16:10 Widescreen: 960.0 x 600.0 points

      at tests/__tests__/unit-converter-precision.test.ts:382:17
          at Array.forEach (<anonymous>)

  console.log
    A4 Portrait: 816.0 x 1250.0 points

      at tests/__tests__/unit-converter-precision.test.ts:382:17
          at Array.forEach (<anonymous>)

  console.log
    Title position: (72.00, 48.00) points

      at tests/__tests__/unit-converter-precision.test.ts:402:17
          at Array.forEach (<anonymous>)

  console.log
    Content start: (96.00, 192.00) points

      at tests/__tests__/unit-converter-precision.test.ts:402:17
          at Array.forEach (<anonymous>)

  console.log
    Footer position: (480.00, 672.02) points

      at tests/__tests__/unit-converter-precision.test.ts:402:17
          at Array.forEach (<anonymous>)

  console.log
    Sidebar element: (768.00, 240.00) points

      at tests/__tests__/unit-converter-precision.test.ts:402:17
          at Array.forEach (<anonymous>)

PASS tests/__tests__/color-utils-enhanced.test.ts
  ColorUtils Enhanced Functions
    applyShade
      Basic functionality
        âœ“ should apply 50% shade to red color (1 ms)
        âœ“ should apply 25% shade to blue color (2 ms)
        âœ“ should apply 75% shade to green color
        âœ“ should preserve alpha when applying shade (1 ms)
      Boundary value tests
        âœ“ should handle 0% shade (no change)
        âœ“ should handle 100% shade (black)
        âœ“ should handle shade > 1 (clamped behavior)
        âœ“ should handle negative shade values gracefully
      Precision tests
        âœ“ should maintain precision for small shade values
        âœ“ should round properly for decimal results
      Test data validation
        âœ“ should correctly apply shade transformation: red_25 (1 ms)
        âœ“ should correctly apply shade transformation: red_50
        âœ“ should correctly apply shade transformation: red_75
        âœ“ should correctly apply shade transformation: blue_50
        âœ“ should correctly apply shade transformation: white_50
    applyTint
      Basic functionality
        âœ“ should apply 50% tint to red color
        âœ“ should apply tint to already light colors
        âœ“ should handle 100% tint (white)
        âœ“ should preserve alpha when applying tint (1 ms)
      Tint + Shade combination
        âœ“ should handle tint after shade application
      Test data validation
        âœ“ should correctly apply tint transformation: red_25
        âœ“ should correctly apply tint transformation: red_50
        âœ“ should correctly apply tint transformation: red_75
        âœ“ should correctly apply tint transformation: black_50
        âœ“ should correctly apply tint transformation: blue_25
    applySatMod
      HSL operations
        âœ“ should increase saturation correctly (1 ms)
        âœ“ should decrease saturation correctly
        âœ“ should handle grayscale colors (0 saturation)
        âœ“ should preserve hue and lightness
    applyHueMod
      Hue rotation
        âœ“ should rotate hue correctly
        âœ“ should handle full rotation (360Â°)
        âœ“ should handle negative rotation (2 ms)
        âœ“ should preserve saturation and lightness
    hslToRgb
      Standard color conversion
        âœ“ should convert pure red (0Â°, 100%, 50%)
        âœ“ should convert pure green (120Â°, 100%, 50%)
        âœ“ should convert pure blue (240Â°, 100%, 50%)
      Special cases
        âœ“ should handle grayscale (any hue, 0% saturation)
        âœ“ should handle white (any hue, any saturation, 100% lightness) (1 ms)
        âœ“ should handle black (any hue, any saturation, 0% lightness)
      Precision tests
        âœ“ should maintain RGB precision within tolerance (1 ms)
      Test data validation
        âœ“ should correctly convert red HSL to RGB
        âœ“ should correctly convert green HSL to RGB
        âœ“ should correctly convert blue HSL to RGB
        âœ“ should correctly convert white HSL to RGB (1 ms)
        âœ“ should correctly convert black HSL to RGB
        âœ“ should correctly convert gray HSL to RGB
    getPresetColor
      Basic color retrieval
        âœ“ should return correct hex for basic colors
        âœ“ should return correct hex for named colors (1 ms)
        âœ“ should handle case sensitivity
        âœ“ should return null for unknown colors
      Completeness tests
        âœ“ should have all basic CSS named colors (1 ms)
        âœ“ should return properly formatted hex values (1 ms)
    applyAlpha
      Alpha application
        âœ“ should apply alpha correctly
        âœ“ should handle zero alpha (transparent)
        âœ“ should handle full alpha (opaque)
        âœ“ should preserve RGB values
      Test data validation
        âœ“ should correctly apply alpha transformation: red_50 (1 ms)
        âœ“ should correctly apply alpha transformation: red_25
        âœ“ should correctly apply alpha transformation: red_75
        âœ“ should correctly apply alpha transformation: transparent
        âœ“ should correctly apply alpha transformation: opaque
    toHex utility
      âœ“ should convert numbers to hex correctly
      âœ“ should clamp values to valid range (1 ms)
      âœ“ should handle decimal values
    Integration with existing toRgba
      âœ“ should work seamlessly with color transformation chain

PASS tests/__tests__/unit-converter-precision.test.ts
  Unit Converter Precision Tests
    EMU to Points Conversion Accuracy
      âœ“ should perform precise EMU to Points conversion with known values (1 ms)
      âœ“ should handle decimal EMU values correctly
      âœ“ should handle large EMU values without overflow (1 ms)
      âœ“ should handle negative EMU values correctly
      âœ“ should maintain conversion factor mathematical accuracy (1 ms)
    PPTist Compatibility Correction
      âœ“ should apply PPTist correction factor consistently (6 ms)
      âœ“ should maintain layout accuracy for PPTist coordinates (2 ms)
    Angle Conversion Accuracy
      âœ“ should convert PowerPoint angles to degrees correctly
      âœ“ should handle negative and large angle values
      âœ“ should maintain precision for fractional degrees (1 ms)
    Floating Point Precision and Rounding
      âœ“ should handle floating point precision correctly
      âœ“ should handle rounding edge cases (5 ms)
      âœ“ should maintain precision across multiple operations
    Boundary Conditions
      âœ“ should handle zero and minimal values (4 ms)
      âœ“ should handle maximum safe values (2 ms)
      âœ“ should detect and handle invalid inputs gracefully (1 ms)
    Performance Benchmarks
      âœ“ should perform conversions efficiently in bulk (12 ms)
      âœ“ should maintain consistent performance across different value ranges (3 ms)
      âœ“ should not leak memory during repeated operations (2 ms)
    Real-world PowerPoint Scenarios
      âœ“ should handle typical slide dimensions accurately (2 ms)
      âœ“ should handle typical element positioning accurately (1 ms)

PASS tests/__tests__/text-processor-color-integration.test.ts
  TextProcessor Color Integration Tests
    Color extraction from text runs
      âœ“ should extract direct RGB colors from text
      âœ“ should extract theme colors from text (1 ms)
      âœ“ should apply transformations to text colors
      âœ“ should handle multiple text runs with different colors (4 ms)
      âœ“ should handle complex color transformations in text
    Theme integration
      âœ“ should create proper theme content structure (1 ms)
      âœ“ should handle missing theme gracefully
      âœ“ should map all theme colors correctly (2 ms)
      âœ“ should handle theme colors with transformations
    Text formatting integration
      âœ“ should preserve other text formatting when extracting colors (1 ms)
      âœ“ should handle mixed formatting in paragraph
    XML node conversion
      âœ“ should convert XML nodes to objects correctly
      âœ“ should handle nested color structures
      âœ“ should preserve attribute structure (1 ms)
    Error handling and edge cases
      âœ“ should handle text without color formatting
      âœ“ should handle malformed color XML gracefully
      âœ“ should handle empty text runs (1 ms)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:232:32)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Text-only element prioritization: Text processor selected

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:158:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Shape element prioritization: Shape processor selected

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:203:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Image element prioritization: Image processor selected

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:239:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Complex element prioritization: Multiple processors can handle, shape takes priority

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:302:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Shape processing result: rect

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:360:17)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Shape processor can handle ambiguous element

      at tests/__tests__/element-processor-coordination.test.ts:427:17
          at Array.forEach (<anonymous>)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Generated unique ID: EiaqTZkin-

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:513:19)

  console.log
    Generated unique ID: rpl-erQiS_

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:513:19)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Processor handled problematic element successfully

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:562:23)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Processing context integrity maintained during error handling

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:624:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Memory after failed processing: 0.01MB increase

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:673:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

PASS tests/__tests__/image-offset-adjuster-comprehensive.test.ts
  ImageOffsetAdjuster åç§»è°ƒæ•´ç»¼åˆæµ‹è¯•
    åŸºç¡€åç§»è°ƒæ•´æµ‹è¯•
      âœ“ åº”è¯¥åœ¨é»˜è®¤æƒ…å†µä¸‹ä¿æŒåŸå§‹åæ ‡ (1 ms)
      âœ“ åº”è¯¥å¤„ç†å„ç§è¾“å…¥å‚æ•°ç»„åˆ
    è¾¹ç•Œæƒ…å†µå’Œå¼‚å¸¸å¤„ç†
      âœ“ åº”è¯¥å¤„ç†é›¶å°ºå¯¸è¾“å…¥ (1 ms)
      âœ“ åº”è¯¥å¤„ç†é›¶å°ºå¯¸å¹»ç¯ç‰‡
      âœ“ åº”è¯¥å¤„ç†è´Ÿå°ºå¯¸è¾“å…¥
      âœ“ åº”è¯¥å¤„ç†æå¤§çš„æ•°å€¼
    æ•°å€¼ç²¾åº¦å’Œç±»å‹å®‰å…¨
      âœ“ åº”è¯¥å¤„ç†æµ®ç‚¹æ•°è¾“å…¥
      âœ“ åº”è¯¥ä¿æŒæ•°å€¼ç²¾åº¦
      âœ“ åº”è¯¥å¤„ç†NaNå’ŒInfinityè¾“å…¥
    æ€§èƒ½æµ‹è¯•
      âœ“ åº”è¯¥åœ¨åˆç†æ—¶é—´å†…å¤„ç†å¤§é‡è°ƒæ•´è¯·æ±‚ (3 ms)
      âœ“ åº”è¯¥æœ‰æ•ˆä½¿ç”¨å†…å­˜
    å®é™…ä½¿ç”¨åœºæ™¯
      âœ“ åº”è¯¥åœ¨å…¸å‹PPTè½¬æ¢åœºæ™¯ä¸­æ­£å¸¸å·¥ä½œ (1 ms)
      âœ“ åº”è¯¥å¤„ç†å¤šç§å¹»ç¯ç‰‡å°ºå¯¸

  console.log
    Processed 100/100 elements in 1.17ms

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:804:15)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    text average processing time: 0.00ms

      at tests/__tests__/element-processor-coordination.test.ts:861:19
          at Array.forEach (<anonymous>)

  console.log
    âœ… Sharp initialized successfully for image processing

      at PPTXImageProcessor.initializeSharp (app/lib/services/images/PPTXImageProcessor.ts:100:15)

  console.log
    Concurrent processing: 20 elements in 0.00ms

      at Object.<anonymous> (tests/__tests__/element-processor-coordination.test.ts:924:15)

PASS tests/__tests__/element-processor-coordination.test.ts
  Element Processor Coordination Tests
    Processor Selection and Prioritization
      âœ“ should correctly identify text-only elements (9 ms)
      âœ“ should correctly identify shape elements with background
      âœ“ should correctly identify image elements (1 ms)
      âœ“ should handle complex elements with multiple characteristics
    Processing Coordination and Workflow
      âœ“ should coordinate shape and text processing for complex elements (1 ms)
      âœ“ should handle processing conflicts and decisions (1 ms)
      âœ“ should maintain consistent ID generation across processors (1 ms)
    Error Handling and Recovery
      âœ“ should handle processor-specific errors gracefully
      âœ“ should maintain processing context integrity during errors (1 ms)
      âœ“ should handle resource cleanup after processing failures
    Performance and Scalability
      âœ“ should process multiple elements efficiently (2 ms)
      âœ“ should maintain consistent performance across different element types
      âœ“ should handle concurrent processing safely (1 ms)

  console.log
    Complex Bezier path: M0,100 C0,44 44,0 100,0 C156,0 200,44 200,100 C200,156 156,200 100,200 C44,200 0,156 0,100 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:231:17

  console.log
    Arc path: M100,0 A100,100 0 0 1 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:319:17

  console.log
    Quadratic Bezier path: M 0 0 L 0 0 L 0 0 L 0 0 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:402:17

  console.log
    Detected circle path: M100,0 C154,0 200,44 200,100 C200,154 154,200 100,200 C44,200 0,154 0,100 C0,44 44,0 100,0 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:499:17

  console.log
    Shape type: ellipse

      at tests/__tests__/shape-geometry-algorithms.test.ts:500:17

  console.log
    Path formula: undefined

      at tests/__tests__/shape-geometry-algorithms.test.ts:501:17

  console.log
    Irregular shape type: rect

      at tests/__tests__/shape-geometry-algorithms.test.ts:583:17

  console.log
    Irregular pathFormula: undefined

      at tests/__tests__/shape-geometry-algorithms.test.ts:584:17

  console.log
    Irregular path: M 0 0 L 0 0 L 0 0 L 0 0 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:585:17

  console.log
    2:1 ellipse: shape=ellipse, path=M200,100 A100,100 0 1 1 Z...

      at tests/__tests__/shape-geometry-algorithms.test.ts:673:19
          at Array.forEach (<anonymous>)

  console.log
    1:2 ellipse: shape=ellipse, path=M200,100 A100,100 0 1 1 Z...

      at tests/__tests__/shape-geometry-algorithms.test.ts:673:19
          at Array.forEach (<anonymous>)

  console.log
    4:3 ellipse: shape=ellipse, path=M200,98.67 A100,98.67 0 1 1 Z...

      at tests/__tests__/shape-geometry-algorithms.test.ts:673:19
          at Array.forEach (<anonymous>)

  console.log
    1:1 circle: shape=ellipse, path=M200,100 A100,100 0 1 1 Z...

      at tests/__tests__/shape-geometry-algorithms.test.ts:673:19
          at Array.forEach (<anonymous>)

  console.log
    Rectangle (rect): M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:747:19
          at Array.forEach (<anonymous>)

  console.log
    Ellipse (ellipse): M 100 0 A 50 50 0 1 1 100 200 A 50 50 0 1 1 100 0 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:747:19
          at Array.forEach (<anonymous>)

  console.log
    Triangle (triangle): M 0 0 L 0 0 L 0 0 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:747:19
          at Array.forEach (<anonymous>)

  console.log
    Small square: 133.33333000000002x133.33333000000002, viewBox: [200,200], path: M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:822:19
          at Array.forEach (<anonymous>)

  console.log
    Large rectangle: 1333.3333x666.66665, viewBox: [200,200], path: M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:822:19
          at Array.forEach (<anonymous>)

  console.log
    Tall rectangle: 66.66666500000001x266.66666000000004, viewBox: [200,200], path: M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:822:19
          at Array.forEach (<anonymous>)

  console.log
    Wide rectangle: 399.99999x99.9999975, viewBox: [200,200], path: M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:822:19
          at Array.forEach (<anonymous>)

  console.log
    45 degree rotation: rotate=45Â°, pos=(133.33333000000002, 133.33333000000002), path=M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:921:19
          at Array.forEach (<anonymous>)

  console.log
    90 degree rotation: rotate=90Â°, pos=(133.33333000000002, 133.33333000000002), path=M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:921:19
          at Array.forEach (<anonymous>)

  console.log
    -30 degree rotation: rotate=-30Â°, pos=(133.33333000000002, 133.33333000000002), path=M 0 0 L 200 0 L 200 200 L 0 200 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:921:19
          at Array.forEach (<anonymous>)

  console.log
    RoundRect keypoints: [ 0.25 ]

      at tests/__tests__/shape-geometry-algorithms.test.ts:981:17

  console.log
    Default RoundRect keypoints: [ 0.125 ]

      at tests/__tests__/shape-geometry-algorithms.test.ts:1027:17

  console.log
    Malformed geometry fallback: rect M 0 0 L 0 0 L 0 0 L 0 0 Z

      at tests/__tests__/shape-geometry-algorithms.test.ts:1101:17

  console.log
    Complex path processing time: 0.09ms

      at tests/__tests__/shape-geometry-algorithms.test.ts:1185:17

  console.log
    Path length: 25 characters

      at tests/__tests__/shape-geometry-algorithms.test.ts:1186:17

PASS tests/__tests__/shape-geometry-algorithms.test.ts
  Shape Geometry Algorithm Tests
    Custom Path Parsing Algorithms
      âœ“ should parse complex Bezier curve paths correctly (4 ms)
      âœ“ should handle arcTo commands with proper arc calculations (1 ms)
      âœ“ should handle quadratic Bezier curves (quadBezTo) (1 ms)
    Circle Detection Algorithm
      âœ“ should detect perfect circle from 4 cubic Bezier curves
      âœ“ should distinguish between circle and irregular shapes
      âœ“ should handle ellipse detection with aspect ratio variations (1 ms)
    SVG Path Generation Mathematical Accuracy
      âœ“ should generate mathematically correct SVG paths for basic shapes (1 ms)
      âœ“ should handle coordinate scaling and viewBox transformations (1 ms)
      âœ“ should maintain path precision for complex transformations (1 ms)
    Adjustment Values and Parameters
      âœ“ should handle roundRect adjustment values correctly (1 ms)
      âœ“ should apply default adjustment values when none specified (1 ms)
    Performance and Edge Cases
      âœ“ should handle malformed geometry gracefully
      âœ“ should perform efficiently with complex paths (1 ms)

  console.log
    PNG format signature detected correctly

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:119:15)

  console.log
    JPEG format signature detected correctly

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:126:15)

  console.log
    Unknown format handled gracefully

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:133:15)

  console.log
    Extracted image: image1.png, format: png

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:146:17)

  console.warn
    No relationship found for embedId: invalidId

      39 |       if (!relationship) {
      40 |         DebugHelper.log(context, `No relationship found for embedId: ${embedId}`, "warn");
    > 41 |         console.warn(`No relationship found for embedId: ${embedId}`);
         |                 ^
      42 |         return null;
      43 |       }
      44 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:41:17)
      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:154:41)

  console.log
    Invalid embed ID handled correctly

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:158:15)

  console.warn
    No relationship found for embedId: rId1

      39 |       if (!relationship) {
      40 |         DebugHelper.log(context, `No relationship found for embedId: ${embedId}`, "warn");
    > 41 |         console.warn(`No relationship found for embedId: ${embedId}`);
         |                 ^
      42 |         return null;
      43 |       }
      44 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:41:17)
      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:168:41)

  console.log
    Missing relationship handled correctly

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:170:15)

  console.log
    Context relationships verified

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:183:15)

  console.log
    Path resolution working correctly

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:192:15)

  console.log
    Context integrity maintained

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:207:15)

  console.error
    Error extracting image data for rId1: Error: File not found: ppt/nonexistent/image.png
        at MockFileService.extractBinaryFileAsBuffer (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/image-processing-simplified.test.ts:28:13)
        at ImageDataService.extractImageData (/Users/tanghehui/ExploreProject/pptxtojson/app/lib/services/images/ImageDataService.ts:61:45)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/image-processing-simplified.test.ts:221:41)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |     } catch (error) {
       99 |       DebugHelper.log(context, `Error extracting image data for ${embedId}: ${error}`, "error");
    > 100 |       console.error(`Error extracting image data for ${embedId}:`, error);
          |               ^
      101 |       return null;
      102 |     }
      103 |   }

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:100:15)
      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:221:22)

  console.log
    File service errors handled gracefully

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:225:15)

  console.warn
    No relationship found for embedId: rId1

      39 |       if (!relationship) {
      40 |         DebugHelper.log(context, `No relationship found for embedId: ${embedId}`, "warn");
    > 41 |         console.warn(`No relationship found for embedId: ${embedId}`);
         |                 ^
      42 |         return null;
      43 |       }
      44 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:41:17)
      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:239:22)

  console.warn
    No relationship found for embedId: rId2

      39 |       if (!relationship) {
      40 |         DebugHelper.log(context, `No relationship found for embedId: ${embedId}`, "warn");
    > 41 |         console.warn(`No relationship found for embedId: ${embedId}`);
         |                 ^
      42 |         return null;
      43 |       }
      44 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:41:17)
      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:240:22)

PASS tests/__tests__/advanced-color-processing.test.ts
  Advanced Color Processing Tests
    PowerPoint Color Modifiers
      âœ“ should apply lumMod (brightness modification) (1 ms)
      âœ“ should apply lumOff (brightness offset) (1 ms)
      âœ“ should combine multiple color modifiers
      âœ“ should handle edge cases in color modification (2 ms)
    Scheme Color Resolution
      âœ“ should resolve scheme colors from theme
      âœ“ should handle scheme color with modifiers (1 ms)
      âœ“ should handle missing scheme colors gracefully
    Color Inheritance and Cascading
      âœ“ should handle color inheritance from parent elements
      âœ“ should handle color override in inheritance chain
    Complex Color Calculations
      âœ“ should handle color temperature adjustments
      âœ“ should handle saturation-like adjustments
      âœ“ should handle alpha channel preservation in modifications
    Color Space Conversions
      âœ“ should handle integer color values
      âœ“ should handle integer colors with alpha
      âœ“ should handle edge case integer values (1 ms)
    Theme Color Processing Integration
      âœ“ should process theme colors with modifications in TextElement
      âœ“ should handle multiple color modifications in single element
    Performance and Accuracy
      âœ“ should maintain color accuracy through multiple modifications
      âœ“ should perform color modifications efficiently (5 ms)

  console.warn
    Invalid relationship format for embedId: rId3 { id: 'rId3', type: 'image', target: '' }

      50 |         imagePath = relationship.target;
      51 |       } else {
    > 52 |         console.warn(`Invalid relationship format for embedId: ${embedId}`, relationship);
         |                 ^
      53 |         return null;
      54 |       }
      55 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:52:17)
      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:241:22)

  console.log
    Malformed relationship 1 handled correctly

      at tests/__tests__/image-processing-simplified.test.ts:246:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed relationship 2 handled correctly

      at tests/__tests__/image-processing-simplified.test.ts:246:17
          at Array.forEach (<anonymous>)

  console.log
    Malformed relationship 3 handled correctly

      at tests/__tests__/image-processing-simplified.test.ts:246:17
          at Array.forEach (<anonymous>)

  console.log
    Concurrent processing handled safely

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:267:15)

  console.log
    Processed 4 images in 0.08ms

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:287:15)

  console.log
    Memory increase after 50 operations: 0.50MB

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:307:15)

  console.log
    Data consistency verified

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:321:17)

  console.log
    Image data integrity: image1.png, 16 bytes, hash: 7cddabe5...

      at Object.<anonymous> (tests/__tests__/image-processing-simplified.test.ts:340:17)

PASS tests/__tests__/image-processing-simplified.test.ts
  Image Processing Simplified Tests
    Image Format Detection
      âœ“ should detect PNG format correctly (2 ms)
      âœ“ should detect JPEG format correctly
      âœ“ should handle unknown formats gracefully (1 ms)
    Image Data Extraction
      âœ“ should extract image data with valid embed ID
      âœ“ should handle invalid embed ID gracefully (1 ms)
      âœ“ should handle missing relationship gracefully
    Image Processing Context
      âœ“ should use context relationships correctly (1 ms)
      âœ“ should handle context path resolution
      âœ“ should maintain context integrity during processing
    Error Handling
      âœ“ should handle file service errors gracefully (5 ms)
      âœ“ should handle malformed relationship data (6 ms)
      âœ“ should handle concurrent processing safely (1 ms)
    Performance and Memory
      âœ“ should process multiple images efficiently (1 ms)
      âœ“ should not leak memory during repeated operations
    Data Integrity
      âœ“ should maintain data consistency across operations (1 ms)
      âœ“ should validate image data integrity

PASS tests/__tests__/default-values.test.ts
  Default Values Tests
    Default Color Settings
      âœ“ should set correct defaultColor structure
      âœ“ should maintain defaultColor consistency across different content
      âœ“ should use defaultColor when no explicit color is provided (1 ms)
      âœ“ should handle theme-based default color resolution
    Default Font Settings
      âœ“ should set correct defaultFontName
      âœ“ should extract defaultFontName from content when available
      âœ“ should use fallback font when content has no font
      âœ“ should handle multiple content with different fonts
      âœ“ should match expected output.json font format
    Standard Element Properties
      âœ“ should set standard boolean properties
      âœ“ should set correct rotate default
      âœ“ should handle position and size defaults (1 ms)
      âœ“ should preserve set position and size values
    Missing Properties Handling
      âœ“ should handle missing optional properties gracefully
      âœ“ should handle empty style object
      âœ“ should handle partial style properties (4 ms)
    Backward Compatibility
      âœ“ should maintain compatibility with legacy format (1 ms)
      âœ“ should provide name property for legacy compatibility
    Theme Integration Defaults
      âœ“ should use theme defaults when available
      âœ“ should fallback gracefully when theme is missing
    Performance and Memory
      âœ“ should handle large numbers of default value requests efficiently (8 ms)

  console.log
    Performance: 10000 parses in 13.35ms

      at Object.<anonymous> (tests/__tests__/services/XmlParseService.test.ts:404:15)

  console.log
    Memory increase: -1.50MB

      at Object.<anonymous> (tests/__tests__/services/XmlParseService.test.ts:405:15)

PASS tests/__tests__/services/XmlParseService.test.ts
  XmlParseService Unit Tests
    Basic XML Parsing
      âœ“ should parse simple XML correctly
      âœ“ should parse XML with attributes (1 ms)
      âœ“ should parse nested XML structures
      âœ“ should handle XML declaration correctly
    Node Finding and Traversal
      âœ“ should find single node correctly
      âœ“ should find multiple nodes correctly
      âœ“ should get child nodes by tag name (1 ms)
      âœ“ should return empty array for non-existent child nodes
      âœ“ should return undefined for non-existent node
    Attribute Handling
      âœ“ should get attributes correctly
      âœ“ should return undefined for non-existent attributes
      âœ“ should handle attributes with special characters
    Text Content Extraction
      âœ“ should extract simple text content
      âœ“ should handle empty text content
      âœ“ should extract text from nested elements
    XML Stringification
      âœ“ should stringify simple nodes correctly (1 ms)
      âœ“ should stringify nodes with attributes
      âœ“ should stringify self-closing tags
      âœ“ should stringify nested structures with proper indentation
      âœ“ should escape special characters in content (1 ms)
    Error Handling
      âœ“ should throw error for empty XML (4 ms)
      âœ“ should throw error for null/undefined input (3 ms)
      âœ“ should handle malformed XML gracefully (1 ms)
      âœ“ should handle XML with only whitespace
    Special Cases and Edge Cases
      âœ“ should handle CDATA sections
      âœ“ should handle comments in XML
      âœ“ should handle namespaces
      âœ“ should handle large XML documents (2 ms)
      âœ“ should handle deeply nested structures
      âœ“ should handle mixed whitespace correctly
    Performance and Memory Tests
      âœ“ should handle repeated parsing efficiently (16 ms)

PASS tests/__tests__/services/FileService.test.ts
  FileService Unit Tests
    ZIP Loading
      âœ“ should load ZIP from ArrayBuffer successfully (3 ms)
      âœ“ should load ZIP from Blob successfully (5 ms)
      âœ“ should handle corrupted ZIP files (6 ms)
      âœ“ should handle empty ArrayBuffer
      âœ“ should handle null/undefined input
    Text File Extraction
      âœ“ should extract text file successfully (1 ms)
      âœ“ should extract nested file successfully
      âœ“ should extract empty file successfully
      âœ“ should extract large file successfully (2 ms)
      âœ“ should extract Unicode content correctly
      âœ“ should throw error for non-existent file (1 ms)
      âœ“ should handle file extraction errors
    Binary File Extraction
      âœ“ should extract binary file as ArrayBuffer (1 ms)
      âœ“ should extract binary file as Buffer
      âœ“ should handle empty binary files (1 ms)
      âœ“ should handle large binary files
      âœ“ should throw error for non-existent binary file (1 ms)
      âœ“ should handle binary file extraction errors
    File Existence Check
      âœ“ should return true for existing files
      âœ“ should return false for non-existent files
      âœ“ should return false for directories
      âœ“ should handle empty path
      âœ“ should handle null ZIP (1 ms)
    File Listing
      âœ“ should list all files without pattern (1 ms)
      âœ“ should filter files by pattern
      âœ“ should filter files by complex pattern
      âœ“ should handle empty ZIP
      âœ“ should handle pattern that matches nothing
      âœ“ should handle null ZIP (1 ms)
    File Information
      âœ“ should get file information successfully
      âœ“ should handle file without size data
      âœ“ should throw error for non-existent file info
      âœ“ should handle files with no date
    Error Handling and Edge Cases
      âœ“ should handle concurrent file operations (1 ms)
      âœ“ should handle file path with special characters
      âœ“ should handle very long file paths
      âœ“ should handle files with unusual extensions (4 ms)
      âœ“ should handle ZIP files with unusual structure (1 ms)
      âœ“ should handle memory pressure during large file operations (2 ms)
    Performance Tests
      âœ“ should handle large numbers of files efficiently (3 ms)
      âœ“ should handle file existence checks efficiently (2 ms)
      âœ“ should handle pattern matching efficiently (3 ms)

  console.warn
    Failed to process background image data for rId1: Error: Image not found
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/background-image.test.ts:140:89)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      154 |               }
      155 |             } catch (error) {
    > 156 |               console.warn(
          |                       ^
      157 |                 `Failed to process background image data for ${embedId}:`,
      158 |                 error
      159 |               );

      at SlideParser.parseBackground (app/lib/services/parsing/SlideParser.ts:156:23)
      at Object.<anonymous> (tests/background-image.test.ts:158:26)

  console.warn
    No relationship found for embedId: unknownRId

      39 |       if (!relationship) {
      40 |         DebugHelper.log(context, `No relationship found for embedId: ${embedId}`, "warn");
    > 41 |         console.warn(`No relationship found for embedId: ${embedId}`);
         |                 ^
      42 |         return null;
      43 |       }
      44 |

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:41:17)
      at SlideParser.parseBackground (app/lib/services/parsing/SlideParser.ts:143:61)
      at Object.<anonymous> (tests/background-image.test.ts:198:53)

  console.warn
    Failed to process background image data for rId1: Error: Corrupted image
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/background-image.test.ts:375:89)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      154 |               }
      155 |             } catch (error) {
    > 156 |               console.warn(
          |                       ^
      157 |                 `Failed to process background image data for ${embedId}:`,
      158 |                 error
      159 |               );

      at SlideParser.parseBackground (app/lib/services/parsing/SlideParser.ts:156:23)
      at Object.<anonymous> (tests/background-image.test.ts:393:26)

PASS tests/background-image.test.ts
  Background Image Processing
    SlideParser.parseBackground()
      âœ“ should parse solid color background (1 ms)
      âœ“ should parse gradient background
      âœ“ should parse image background with base64 encoding (1 ms)
      âœ“ should fallback to relationship URL when image extraction fails (5 ms)
      âœ“ should handle missing background element (1 ms)
      âœ“ should handle unknown relationship ID (1 ms)
    Background Image Format Support
      âœ“ should process JPEG background images
      âœ“ should process PNG background images (3 ms)
      âœ“ should process GIF background images
      âœ“ should process BMP background images
      âœ“ should process WEBP background images
    Slide.convertBackground()
      âœ“ should convert solid background to JSON (1 ms)
      âœ“ should convert gradient background to JSON
      âœ“ should convert image background with base64 to JSON
      âœ“ should convert image background with URL to JSON
      âœ“ should handle missing background gracefully
    Error Handling
      âœ“ should handle XML parsing errors gracefully (2 ms)
      âœ“ should handle image service initialization without crash
      âœ“ should handle corrupted image data gracefully
    Integration Tests
      âœ“ should integrate with ImageDataService for concurrent processing (1 ms)

PASS tests/__tests__/shape-custom-geometry.test.ts
  ShapeProcessor Custom Geometry Analysis
    analyzeCustomGeometry
      âœ“ should detect circular custom geometry with 4 cubic bezier curves (1 ms)
      âœ“ should return custom for non-square geometry
      âœ“ should return custom for geometry with incorrect number of bezier curves
      âœ“ should return custom for geometry not starting from center-top
      âœ“ should return custom when pathLst is missing
      âœ“ should return custom when path is missing
    Shape processing with custom geometry
      âœ“ should process shape with custom circular geometry correctly

PASS tests/__tests__/text-style-extractor-advanced.test.ts
  TextStyleExtractor Advanced Coverage Tests
    Text content extraction by paragraphs
      âœ“ should extract multiple paragraphs with different styles (3 ms)
      âœ“ should handle paragraphs with multiple runs
      âœ“ should handle empty paragraphs (1 ms)
      âœ“ should handle paragraphs with line breaks
    Style inheritance from shape style
      âœ“ should apply shape style color to text without explicit color
      âœ“ should prioritize explicit text color over shape style
    Font handling
      âœ“ should extract font family from latin typeface
      âœ“ should extract font family from ea typeface for Asian languages
      âœ“ should extract font family from cs typeface for complex scripts (1 ms)
      âœ“ should prioritize latin over ea and cs typefaces
    Text formatting attributes
      âœ“ should extract all text formatting attributes
      âœ“ should handle false values for boolean attributes
      âœ“ should handle missing rPr node
    Color extraction
      âœ“ should extract srgbClr colors
      âœ“ should extract schemeClr colors with theme resolution
      âœ“ should handle color transformations
    Theme requirements validation
      âœ“ should throw error when theme colors are used without theme (1 ms)
      âœ“ should throw error when shape style uses theme colors without theme
    Edge cases and error handling
      âœ“ should handle missing txBody
      âœ“ should handle paragraphs without runs
      âœ“ should handle runs without text nodes
      âœ“ should handle empty text nodes
      âœ“ should handle invalid font size values (6 ms)
      âœ“ should handle missing shape style fontRef
    Mixed content handling
      âœ“ should handle paragraph with mixed content types

PASS tests/__tests__/core-errors.test.ts
  æ ¸å¿ƒé”™è¯¯å¤„ç†
    PPTXParseError - åŸºç¡€é”™è¯¯ç±»
      âœ“ åº”è¯¥åˆ›å»ºåŸºç¡€é”™è¯¯å®ä¾‹ (1 ms)
      âœ“ åº”è¯¥æ”¯æŒä¸Šä¸‹æ–‡ä¿¡æ¯
      âœ“ åº”è¯¥æ”¯æŒåµŒå¥—é”™è¯¯ä¿¡æ¯
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†ç©ºä¸Šä¸‹æ–‡
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†å¤æ‚ä¸Šä¸‹æ–‡å¯¹è±¡
    XMLParseError - XMLè§£æé”™è¯¯
      âœ“ åº”è¯¥åˆ›å»ºXMLè§£æé”™è¯¯å®ä¾‹ (1 ms)
      âœ“ åº”è¯¥æ”¯æŒXMLç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
      âœ“ åº”è¯¥å¤„ç†XMLå‘½åç©ºé—´é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†XMLå­—ç¬¦ç¼–ç é”™è¯¯
    FileOperationError - æ–‡ä»¶æ“ä½œé”™è¯¯
      âœ“ åº”è¯¥åˆ›å»ºæ–‡ä»¶æ“ä½œé”™è¯¯å®ä¾‹
      âœ“ åº”è¯¥æ”¯æŒæ–‡ä»¶ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
      âœ“ åº”è¯¥å¤„ç†ZIPæ–‡ä»¶ç›¸å…³é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†ç½‘ç»œç›¸å…³çš„æ–‡ä»¶é”™è¯¯
    ElementProcessingError - å…ƒç´ å¤„ç†é”™è¯¯
      âœ“ åº”è¯¥åˆ›å»ºå…ƒç´ å¤„ç†é”™è¯¯å®ä¾‹
      âœ“ åº”è¯¥æ”¯æŒå…ƒç´ ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯ (2 ms)
      âœ“ åº”è¯¥å¤„ç†æ–‡æœ¬å…ƒç´ é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†å›¾åƒå…ƒç´ é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†è¡¨æ ¼å…ƒç´ é”™è¯¯
    ValidationError - éªŒè¯é”™è¯¯
      âœ“ åº”è¯¥åˆ›å»ºéªŒè¯é”™è¯¯å®ä¾‹
      âœ“ åº”è¯¥æ”¯æŒéªŒè¯ç‰¹å®šçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
      âœ“ åº”è¯¥å¤„ç†å­—ç¬¦ä¸²éªŒè¯é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†å¤æ‚å¯¹è±¡éªŒè¯é”™è¯¯
      âœ“ åº”è¯¥å¤„ç†æ•°ç»„éªŒè¯é”™è¯¯
    é”™è¯¯ç»§æ‰¿å’Œå¤šæ€æ€§
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†é”™è¯¯ç»§æ‰¿é“¾
      âœ“ åº”è¯¥æ”¯æŒé”™è¯¯ç±»å‹æ£€æŸ¥
      âœ“ åº”è¯¥æ”¯æŒé”™è¯¯èšåˆ (1 ms)
    é”™è¯¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–
      âœ“ åº”è¯¥æ”¯æŒé”™è¯¯çš„JSONåºåˆ—åŒ–
      âœ“ åº”è¯¥å¤„ç†å¾ªç¯å¼•ç”¨çš„ä¸Šä¸‹æ–‡
    é”™è¯¯å †æ ˆè·Ÿè¸ª
      âœ“ åº”è¯¥ä¿ç•™å®Œæ•´çš„å †æ ˆè·Ÿè¸ªä¿¡æ¯ (5 ms)
      âœ“ åº”è¯¥åœ¨ç»§æ‰¿çš„é”™è¯¯ç±»ä¸­ä¿ç•™å †æ ˆä¿¡æ¯ (1 ms)

  console.warn
    âš ï¸ Stretch sample file not found: /Users/tanghehui/ExploreProject/pptxtojson/sample/stratch/input.pptx, skipping test

      126 |       // æ£€æŸ¥æ‹‰ä¼¸ç¤ºä¾‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨
      127 |       if (!fs.existsSync(stretchInputPath)) {
    > 128 |         console.warn(`âš ï¸ Stretch sample file not found: ${stretchInputPath}, skipping test`);
          |                 ^
      129 |         return;
      130 |       }
      131 |

      at Object.<anonymous> (tests/__tests__/end-to-end-conversion-flow.test.ts:128:17)

PASS tests/__tests__/end-to-end-conversion-flow.test.ts
  å®Œæ•´è½¬æ¢æµç¨‹ç«¯åˆ°ç«¯æµ‹è¯•
    PPTX â†’ JSON ç«¯åˆ°ç«¯æµ‹è¯•
      âœ“ åº”è¯¥æˆåŠŸè½¬æ¢åŸºç¡€ç¤ºä¾‹æ–‡ä»¶ (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†åŒ…å«æ‹‰ä¼¸å›¾ç‰‡çš„å¤æ‚ç¤ºä¾‹ (3 ms)
      âœ“ åº”è¯¥æ­£ç¡®éªŒè¯PPTistæ ¼å¼å…¼å®¹æ€§ (1 ms)
      âœ“ åº”è¯¥æµ‹è¯•å¤šé¡µé¢PPTXæ–‡ä»¶çš„å®Œæ•´è½¬æ¢ (3 ms)
    å›å½’æµ‹è¯•
      âœ“ åº”è¯¥ç¡®ä¿æ–°åŠŸèƒ½ä¸å½±å“ç°æœ‰å›¾ç‰‡å¤„ç†é€»è¾‘
      âœ“ åº”è¯¥éªŒè¯é¢œè‰²å¤„ç†ç®¡é“ä»ç„¶æ­£ç¡®å·¥ä½œ
      âœ“ åº”è¯¥ç¡®ä¿æ–‡æœ¬å’Œå½¢çŠ¶å¤„ç†ä¸å—å›¾ç‰‡å¢å¼ºå½±å“
    æ€§èƒ½å’Œç¨³å®šæ€§æµ‹è¯•
      âœ“ åº”è¯¥åœ¨åˆç†æ—¶é—´å†…å¤„ç†å¤æ‚PPTXæ–‡ä»¶ (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†é”™è¯¯å’Œå¼‚å¸¸æƒ…å†µ (4 ms)

  console.error
    Error extracting image data for rId1: Error: File not found
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/image-base64.test.ts:81:64)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at processTicksAndRejections (node:internal/process/task_queues:95:5)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

       98 |     } catch (error) {
       99 |       DebugHelper.log(context, `Error extracting image data for ${embedId}: ${error}`, "error");
    > 100 |       console.error(`Error extracting image data for ${embedId}:`, error);
          |               ^
      101 |       return null;
      102 |     }
      103 |   }

      at ImageDataService.extractImageData (app/lib/services/images/ImageDataService.ts:100:15)
      at Object.<anonymous> (tests/__tests__/image-base64.test.ts:92:22)

PASS tests/__tests__/image-base64.test.ts
  Image Base64 Processing
    ImageDataService
      âœ“ should detect JPEG format correctly
      âœ“ should detect PNG format correctly
      âœ“ should detect GIF format correctly
      âœ“ should return unknown for invalid format (1 ms)
      âœ“ should generate correct MIME types
      âœ“ should encode image to base64 correctly
      âœ“ should handle extraction errors gracefully (8 ms)
    ImageElement
      âœ“ should output base64 format when image data is available
      âœ“ should output URL format when no image data available (4 ms)
      âœ“ should handle crop information correctly
    Base64StorageStrategy
      âœ“ should upload image data successfully
      âœ“ should always be available
      âœ“ should have healthy status
      âœ“ should handle buffer encoding errors
    Integration Tests
      âœ“ should process image from PPTX to base64 end-to-end (1 ms)
      âœ“ should handle memory management with multiple images (1 ms)

PASS tests/__tests__/line-height-extraction.test.ts
  TextStyleExtractor - Line Height Extraction
    âœ“ should extract line height from spcPct (percentage-based) (1 ms)
    âœ“ should extract line height from spcPts (points-based) (2 ms)
    âœ“ should handle paragraph without line height
    âœ“ should handle multiple paragraphs with different line heights (1 ms)
    âœ“ should apply line height to all runs in the same paragraph
    âœ“ should include line height in TextElement JSON output
    âœ“ should not include line height in JSON output when it's default value
    âœ“ should handle edge cases with invalid line height values
    âœ“ should extract line height method directly (1 ms)
    âœ“ should handle real PowerPoint XML line spacing values (2 ms)
    âœ“ should handle PowerPoint default line spacing correctly
    âœ“ should include non-default line heights in JSON output (1 ms)

PASS tests/__tests__/connection-shape-processor-advanced.test.ts
  ConnectionShapeProcessor Advanced Coverage Tests
    Connection shape detection
      âœ“ should not detect straightConnector1 as connection shape (handled by LineProcessor)
      âœ“ should detect bentConnector3 as connection shape
      âœ“ should detect curvedConnector2 as connection shape
      âœ“ should not process non-connection shapes
      âœ“ should process cxnSp without preset geometry (1 ms)
      âœ“ should process cxnSp with non-connector geometry
    Connection shape processing
      âœ“ should process bentConnector3 with basic properties
      âœ“ should process bentConnector3 as bentConnector type (1 ms)
      âœ“ should process curvedConnector2 as curvedConnector type
      âœ“ should extract connection information
      âœ“ should handle missing connection information
      âœ“ should handle partial connection information
      âœ“ should extract stroke properties from line properties (1 ms)
      âœ“ should handle missing stroke properties
      âœ“ should handle missing transform information
      âœ“ should use unique ID generation
    Element type identification
      âœ“ should return correct element type
    Stroke color extraction with theme support
      âœ“ should extract theme colors from stroke (1 ms)
      âœ“ should handle stroke without fill
    Arrow properties extraction
      âœ“ should handle missing arrow attributes
    Error handling
      âœ“ should handle missing nvCxnSpPr node
      âœ“ should handle missing spPr node

PASS tests/__tests__/text-processor-advanced.test.ts
  TextProcessor Advanced Coverage Tests
    Text box detection
      âœ“ should detect text boxes with txBox="1" (1 ms)
      âœ“ should not process shapes without txBox
      âœ“ should not process shapes with txBox="0"
      âœ“ should not process shapes without txBody
      âœ“ should handle missing nvSpPr
      âœ“ should handle missing cNvSpPr (1 ms)
    Text processing
      âœ“ should process basic text box with content (1 ms)
      âœ“ should handle text with multiple paragraphs and styles
      âœ“ should handle text with theme colors (1 ms)
      âœ“ should handle text with direct RGB colors
      âœ“ should handle text with font families
      âœ“ should handle vertical alignment from bodyPr
      âœ“ should use default vertical alignment when not specified
      âœ“ should generate unique IDs for text elements (1 ms)
      âœ“ should handle missing transform information
      âœ“ should handle missing spPr node
      âœ“ should handle rotation from transform
    Element type identification
      âœ“ should return correct element type
    Error handling
      âœ“ should handle empty text content gracefully
      âœ“ should throw error when using theme colors without theme
      âœ“ should handle malformed XML structure gracefully
    Style inheritance
      âœ“ should apply shape style to text elements (1 ms)
    Complex text formatting
      âœ“ should handle line breaks within paragraphs
      âœ“ should handle mixed formatting within a paragraph (3 ms)

PASS tests/__tests__/stretch-offset-parsing.test.ts
  æ‹‰ä¼¸åç§»è§£ææµ‹è¯•
    extractStretchInfo
      âœ“ åº”è¯¥èƒ½å¤Ÿè§£æåŸºæœ¬çš„fillRectä¿¡æ¯ (1 ms)
      âœ“ åº”è¯¥åœ¨æ²¡æœ‰stretchå…ƒç´ æ—¶è¿”å›undefined
      âœ“ åº”è¯¥åœ¨æ²¡æœ‰fillRectå…ƒç´ æ—¶è¿”å›undefined
      âœ“ åº”è¯¥æ­£ç¡®å¤„ç†é›¶å€¼å’Œè´Ÿå€¼
    å®Œæ•´çš„shapeå¤„ç†
      âœ“ åº”è¯¥åœ¨å¤„ç†å¸¦æœ‰æ‹‰ä¼¸åç§»çš„shapeæ—¶è®¾ç½®stretchInfo (1 ms)

PASS tests/__tests__/connection-shape-processor.test.ts
  ConnectionShapeProcessor
    canProcess
      âœ“ should return true for p:cxnSp nodes without line geometry
      âœ“ should return false for p:cxnSp nodes with line geometry
      âœ“ should return false for p:cxnSp nodes with straightConnector1 geometry
      âœ“ should return true for p:cxnSp nodes with bent connectors
      âœ“ should return false for non-connection shape nodes
    getElementType
      âœ“ should return connection-shape
    process
      âœ“ should process basic connection shape with straight line (1 ms)
      âœ“ should process bent connector
      âœ“ should process arrow connector with head and tail
      âœ“ should process connection with rotation and flip (1 ms)
      âœ“ should process connection with start and end connections (1 ms)
      âœ“ should handle missing nvCxnSpPr gracefully
      âœ“ should handle custom geometry connections
    geometry mapping
      âœ“ should map various connection geometries correctly (4 ms)

PASS tests/__tests__/precision.test.ts
  Position and Size Precision Tests
    EMU to Points Conversion
      âœ“ should maintain high precision in EMU to points conversion (1 ms)
      âœ“ should handle edge cases in EMU conversion (2 ms)
      âœ“ should provide consistent conversion across different scales
    Position Precision
      âœ“ should maintain sub-pixel precision for positions
      âœ“ should handle position tolerance correctly
      âœ“ should detect precision loss beyond acceptable limits
    Size Precision
      âœ“ should maintain precision for element dimensions (1 ms)
      âœ“ should handle aspect ratio preservation
    Coordinate System Consistency
      âœ“ should use consistent coordinate origin
      âœ“ should handle coordinate transformations consistently
    Rounding Strategy
      âœ“ should use appropriate rounding for display vs calculation
      âœ“ should handle half-pixel rounding consistently

PASS tests/__tests__/shape-element-advanced.test.ts
  ShapeElement Advanced Coverage Tests
    Constructor and basic properties
      âœ“ should create shape element with correct type and shape type
      âœ“ should handle all shape types (1 ms)
    Path handling
      âœ“ should set and get custom path
      âœ“ should generate internal path when no custom path is set
      âœ“ should generate ellipse path correctly
      âœ“ should generate rounded rectangle path with adjustment values
      âœ“ should generate triangle path
      âœ“ should generate diamond path
      âœ“ should fallback to rectangle for unknown shape types
    PathFormula handling
      âœ“ should set and get path formula (1 ms)
      âœ“ should return undefined when no path formula is set
    Adjustment values
      âœ“ should set and get adjustment values
      âœ“ should return empty object when no adjustment values are set
      âœ“ should use adjustment values in roundRect path generation
      âœ“ should use default adjustment value when not provided
    ViewBox handling
      âœ“ should set and get viewBox
      âœ“ should return undefined when no viewBox is set
    Special flag
      âœ“ should set and get special flag
      âœ“ should return undefined when special flag is not set
    Text content
      âœ“ should set and get text content
      âœ“ should set simple text content (1 ms)
      âœ“ should set shape text content
    Fill and gradient
      âœ“ should set and get fill
      âœ“ should set and get gradient
    Stroke properties
      âœ“ should set and get stroke properties
    Flip properties
      âœ“ should set and get flip properties
    Connection info
      âœ“ should set and get connection info
    JSON serialization
      âœ“ should serialize basic shape with default values
      âœ“ should serialize shape with dimensions and position
      âœ“ should serialize shape with gradient instead of fill (1 ms)
      âœ“ should serialize shape with custom fill color
      âœ“ should serialize custom shape as rect shape type
      âœ“ should include pathFormula when set
      âœ“ should not include pathFormula when undefined
      âœ“ should include outline only when stroke has meaningful data
      âœ“ should include flip properties only when true
      âœ“ should include keypoints for roundRect shapes
      âœ“ should include text content when present (1 ms)
      âœ“ should use viewBox from setViewBox when available
      âœ“ should use actual dimensions for viewBox when size is set and no custom viewBox
      âœ“ should use default viewBox when no size or custom viewBox (2 ms)
    Theme fill generation
      âœ“ should generate consistent fallback colors based on ID
      âœ“ should generate different colors for different IDs
      âœ“ should include debug information in fallback color
      âœ“ should prioritize actual fill over fallback
    Edge cases and error handling
      âœ“ should handle zero or negative dimensions in path generation
      âœ“ should handle undefined adjustment values in roundRect
      âœ“ should handle empty ID in fallback color generation

PASS tests/__tests__/text-style-multi-paragraph.test.ts
  TextStyleExtractor - Multi-paragraph handling
    âœ“ should extract paragraphs separately for proper p tag generation (1 ms)
    âœ“ should handle single paragraph without adding extra line breaks
    âœ“ should handle three paragraphs with proper line breaks (1 ms)
    âœ“ should handle empty paragraphs correctly
    âœ“ should preserve styles when adding line breaks between paragraphs
    âœ“ should generate correct HTML with multiple p tags in TextElement (1 ms)

PASS tests/__tests__/shape-style-reference.test.ts
  ShapeProcessor Style Reference Support
    âœ“ should process shape with style reference (fillRef) (2 ms)
    âœ“ should fall back to direct fill when no style reference
    âœ“ should handle missing theme gracefully (1 ms)

PASS tests/__tests__/output-structure.test.ts
  Output Structure Alignment Tests
    Top-level Structure
      âœ“ should include all expected top-level fields (1 ms)
      âœ“ should have slides as an array
      âœ“ should have theme as an object with color scheme
      âœ“ should have title as a string
    Slide Structure
      âœ“ should have consistent slide structure
      âœ“ should have elements with consistent structure (1 ms)
    Backward Compatibility
      âœ“ should support legacy position properties (2 ms)
    Theme Structure
      âœ“ should have consistent theme color structure
      âœ“ should have font scheme structure if present
    Error Handling Structure
      âœ“ should have consistent error response structure (1 ms)
    Version Compatibility
      âœ“ should include version information
    Optional Fields Handling
      âœ“ should handle missing optional fields gracefully
      âœ“ should handle slideSize and metadata fields

PASS tests/__tests__/debug-helper.test.ts
  DebugHelper
    isDebugEnabled
      âœ“ should return false when debug mode is not enabled (1 ms)
      âœ“ should return true when debug mode is enabled
    shouldSaveDebugImages
      âœ“ should return false when debug mode is disabled
      âœ“ should return false when debug mode is enabled but saveDebugImages is false
      âœ“ should return true when debug mode is enabled and saveDebugImages is true
    shouldLogProcessingDetails
      âœ“ should return true when debug mode and logging are enabled
    fromOptions methods
      âœ“ should work with ParseOptions directly
    getDebugSummary
      âœ“ should return disabled message when debug is off
      âœ“ should return enabled features when debug is on (1 ms)
    withTiming
      âœ“ should execute function normally when timing is disabled
      âœ“ should execute function and log timing when enabled

PASS tests/utils.test.ts
  é¢†åŸŸæ¨¡å‹
    æ¼”ç¤ºæ–‡ç¨¿
      âœ“ åº”è¯¥åˆ›å»ºæ¼”ç¤ºæ–‡ç¨¿å®ä¾‹
      âœ“ åº”è¯¥æ·»åŠ å’Œè·å–å¹»ç¯ç‰‡
    å¹»ç¯ç‰‡
      âœ“ åº”è¯¥åˆ›å»ºå¹»ç¯ç‰‡å®ä¾‹
    ä¸»é¢˜
      âœ“ åº”è¯¥åˆ›å»ºä¸»é¢˜å®ä¾‹
      âœ“ åº”è¯¥è®¾ç½®å’Œè·å–é…è‰²æ–¹æ¡ˆ

PASS tests/__tests__/preset-shape-paths.test.ts
  Preset Shape Path Generation
    Basic shapes
      âœ“ should generate correct rectangle path (1 ms)
      âœ“ should generate correct ellipse path
      âœ“ should generate correct triangle path
      âœ“ should generate correct diamond path
    Arrow shapes
      âœ“ should generate correct right arrow path
      âœ“ should generate correct left arrow path
    Polygon shapes
      âœ“ should generate correct pentagon path (1 ms)
      âœ“ should generate correct hexagon path (2 ms)
      âœ“ should generate correct octagon path
    Star shapes
      âœ“ should generate correct 5-point star path (1 ms)
    Special shapes
      âœ“ should generate correct parallelogram path
      âœ“ should generate correct trapezoid path
      âœ“ should generate correct rounded rectangle path
    Unknown shapes
      âœ“ should default to rectangle for unknown shape types
    Different dimensions
      âœ“ should scale paths correctly for different dimensions
      âœ“ should handle ellipse with different width and height

PASS tests/__tests__/debug-functionality.test.ts
  Debug Functionality Integration
    Debug options propagation
      âœ“ should correctly detect debug options from ParseOptions
      âœ“ should handle disabled debug mode (1 ms)
      âœ“ should handle partial debug options
    Debug logging
      âœ“ should log when debug logging is enabled
      âœ“ should not log when debug logging is disabled
      âœ“ should provide correct debug summary
    Debug timing functionality
      âœ“ should execute and time operations when timing is enabled (1 ms)
      âœ“ should handle timing errors correctly (2 ms)

  console.log
    Attempt 3/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

PASS tests/__tests__/color-transformation-chain.test.ts
  Color Transformation Chain Tests
    PowerPoint Transformation Order
      âœ“ should apply transformations in PowerPoint-compatible order (1 ms)
      âœ“ should handle lumMod + lumOff combination correctly
      âœ“ should handle shade + tint combination
      âœ“ should handle saturation + hue modifications (1 ms)
    Transformation Accuracy
      âœ“ should maintain mathematical precision through transformation chains
      âœ“ should handle cumulative precision errors gracefully
      âœ“ should clamp intermediate values to valid ranges
    Common PowerPoint Patterns
      âœ“ should handle accent color with subtle modifications
      âœ“ should handle dark color with lightening (1 ms)
      âœ“ should handle text color with transparency
      âœ“ should handle gradient stop colors
    ColorUtils Integration
      âœ“ should produce consistent results between FillExtractor and direct ColorUtils calls
      âœ“ should handle HSL-based transformations consistently
    Performance with Transformation Chains
      âœ“ should handle complex transformation chains efficiently
      âœ“ should be efficient with repeated theme color lookups
    Edge Cases in Transformation Chains
      âœ“ should handle chains with missing transformation values (1 ms)
      âœ“ should handle chains with invalid transformation values
      âœ“ should handle empty transformation chain gracefully

PASS tests/__tests__/theme-color-mapping.test.ts
  Theme Color Mapping Tests
    Basic Theme Color Type Detection
      âœ“ should identify accent1 color in HTML output (1 ms)
      âœ“ should identify dk1 color for default text
      âœ“ should handle light theme colors (lt1, lt2)
      âœ“ should handle dark theme colors (dk1, dk2) (1 ms)
    Accent Color Detection
      âœ“ should identify all accent colors (accent1-accent6) (1 ms)
      âœ“ should handle case-insensitive color matching (1 ms)
    Dynamic Theme Color Resolution
      âœ“ should resolve theme colors from presentation theme
      âœ“ should handle theme color inheritance chain
      âœ“ should fallback to default theme when custom theme missing
    Color Type Attribute Generation
      âœ“ should generate --colortype attribute correctly
      âœ“ should handle multiple spans with different color types
      âœ“ should omit --colortype for non-theme colors
    Default Color Handling
      âœ“ should set defaultColor based on theme
      âœ“ should maintain defaultColor consistency
    Theme Color Edge Cases
      âœ“ should handle missing color information (1 ms)
      âœ“ should handle undefined and null colors
      âœ“ should handle empty color strings
    Color Type Mapping Extension
      âœ“ should be extensible for new theme colors

PASS tests/__tests__/shape-line-fill-distinction.test.ts
  ShapeProcessor Line vs Fill Distinction
    âœ“ should ignore noFill inside a:ln (line properties) and use shape solidFill (1 ms)
    âœ“ should use noFill from shape properties (direct child of spPr)
    âœ“ should ignore both solidFill and noFill inside a:ln when shape has no fill (1 ms)
    âœ“ should prioritize shape solidFill over line solidFill

PASS tests/__tests__/color-format-extended.test.ts
  Color Format Extended Tests
    Hex Color Format
      âœ“ should preserve hex format with alpha in ColorUtils (1 ms)
      âœ“ should handle 3-digit hex colors
      âœ“ should handle 8-digit hex colors with various alpha values
      âœ“ should handle hex colors in TextElement HTML output
    RGBA Color Format
      âœ“ should convert rgba to standardized format
      âœ“ should handle rgba with transparency
      âœ“ should normalize rgba spacing and format
    RGB Color Format
      âœ“ should convert rgb to rgba format (1 ms)
      âœ“ should handle rgb with various spacing
      âœ“ should convert rgb to hex format in TextElement HTML (3 ms)
    Color Format Edge Cases
      âœ“ should handle transparent and none colors
      âœ“ should handle undefined and empty colors (1 ms)
      âœ“ should handle invalid color formats
    Color Format Consistency
      âœ“ should maintain consistent alpha formatting
      âœ“ should handle edge alpha values
      âœ“ should format alpha as 1 when alpha is exactly 1
    Integration with TextElement
      âœ“ should handle multiple color formats in single text element
      âœ“ should preserve color format in HTML output

PASS tests/__tests__/html-output-integrity.test.ts
  HTML Output Integrity Tests
    HTML Structure Validation
      âœ“ should generate correct basic HTML structure (1 ms)
      âœ“ should generate correct HTML for expected output format
      âœ“ should handle empty text content
    Multiple Text Runs Handling
      âœ“ should handle multiple text runs in single element (1 ms)
      âœ“ should preserve text run order
      âœ“ should handle mixed formatting in multiple runs
    Style Attribute Combination
      âœ“ should combine all style attributes correctly
      âœ“ should handle partial style attributes (4 ms)
      âœ“ should maintain consistent style attribute order (1 ms)
    Text Formatting Hierarchy
      âœ“ should preserve paragraph level formatting
      âœ“ should handle complex nested formatting
    Special Characters and Encoding
      âœ“ should handle Chinese characters
      âœ“ should handle special HTML characters
      âœ“ should handle empty and whitespace text
    Output Format Consistency
      âœ“ should match expected output.json format exactly (1 ms)
      âœ“ should generate consistent output across multiple instances
    Integration with Element Properties
      âœ“ should integrate HTML content with element properties (1 ms)

PASS tests/__tests__/integration.test.ts
  Integration Tests
    Parser Integration
      âœ“ should parse a simple PPTX file structure (2 ms)
      âœ“ should handle multiple slides with different element types (1 ms)
    Data Quality Validation
      âœ“ should ensure all element IDs are unique across slides
      âœ“ should validate color format consistency (1 ms)
      âœ“ should validate position and size precision (1 ms)
    Utility Integration
      âœ“ should integrate UnitConverter correctly (1 ms)
      âœ“ should integrate ColorUtils correctly
      âœ“ should integrate IdGenerator correctly
    Error Handling Integration
      âœ“ should handle malformed data gracefully
      âœ“ should handle empty presentations (1 ms)
    Performance Integration
      âœ“ should handle large presentations efficiently (13 ms)
    Regression Tests
      âœ“ should maintain compatibility with existing format (1 ms)

PASS tests/__tests__/roundrect-keypoints.test.ts
  RoundRect Keypoints
    âœ“ should use default keypoints value of 0.5 when no adjustment values are set (1 ms)
    âœ“ should use custom adjustment value for keypoints
    âœ“ should handle different adjustment values correctly (1 ms)
    âœ“ should generate proper rounded rectangle path with adjustment values
    âœ“ should only add keypoints property for roundRect shapes

  console.warn
    Fetch attempt 3 failed: Error [AbortError]: Request timeout
        at /Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:126:27
        at Timeout.task [as _onTimeout] (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/browser/Window.js:579:19)
        at listOnTimeout (node:internal/timers:573:17)
        at processTimers (node:internal/timers:514:7)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.error
    Failed to load JSON: Request timeout after 120s. This may be due to:
                        â€¢ Large file size (consider using smaller chunks)
                        â€¢ Slow network connection
                        â€¢ CDN server overload
                        â€¢ Network connectivity issues
                        
                        Try refreshing or using a smaller file.

      166 |       } catch (err) {
      167 |         const errorMessage = err instanceof Error ? err.message : String(err);
    > 168 |         console.error("Failed to load JSON:", errorMessage);
          |                 ^
      169 |         setError(`Failed to load JSON: ${errorMessage}`);
      170 |         setLoadedSource(source); // ä¿å­˜sourceä»¥ä¾¿æ˜¾ç¤ºé‡è¯•æŒ‰é’®
      171 |       } finally {

      at loadJson (components/MonacoJsonLoader.tsx:168:17)

  console.warn
    Invalid offset percentages in ImageElement img6: { left: NaN, top: Infinity, right: 15, bottom: 8 }

      106 |       if (!isFinite(leftPercent) || !isFinite(topPercent) || 
      107 |           !isFinite(rightPercent) || !isFinite(bottomPercent)) {
    > 108 |         console.warn(`Invalid offset percentages in ImageElement ${this.id}:`, {
          |                 ^
      109 |           left: leftPercent, top: topPercent, right: rightPercent, bottom: bottomPercent
      110 |         });
      111 |         return undefined;

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:108:17)
      at Object.<anonymous> (tests/__tests__/image-element-model-enhancements.test.ts:100:40)

  console.warn
    FillRect would cause division by zero in ImageElement img7: {
      left: 0.6,
      top: 0.3,
      right: 0.6,
      bottom: 0.3,
      widthDenominator: -0.19999999999999996,
      heightDenominator: 0.39999999999999997
    }

      126 |       
      127 |       if (widthDenominator <= 0.001 || heightDenominator <= 0.001) {
    > 128 |         console.warn(`FillRect would cause division by zero in ImageElement ${this.id}:`, {
          |                 ^
      129 |           left, top, right, bottom,
      130 |           widthDenominator, heightDenominator
      131 |         });

      at ImageElement.getStretchInfo (app/lib/models/domain/elements/ImageElement.ts:128:17)
      at Object.<anonymous> (tests/__tests__/image-element-model-enhancements.test.ts:123:40)

PASS tests/__tests__/image-element-model-enhancements.test.ts
  ImageElement æ•°æ®æ¨¡å‹å¢å¼ºæµ‹è¯•
    åŸºç¡€åŠŸèƒ½æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®åˆ›å»ºImageElementå®ä¾‹ (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–embedId
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–Altæ–‡æœ¬
    stretchInfo åŠŸèƒ½æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–stretchInfo
      âœ“ åº”è¯¥ä»offsetInfoè½¬æ¢ä¸ºstretchInfo
      âœ“ åº”è¯¥å¤„ç†æ— æ•ˆçš„offsetInfoå€¼ (2 ms)
      âœ“ åº”è¯¥å¤„ç†ä¼šå¯¼è‡´é™¤é›¶çš„fillRectå€¼ (1 ms)
    offsetInfo åŠŸèƒ½æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–offsetInfo
    å›¾ç‰‡æ•°æ®åŠŸèƒ½æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–å›¾ç‰‡æ•°æ®
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–é•¿å®½æ¯”
    è£å‰ªåŠŸèƒ½æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®è®¾ç½®å’Œè·å–è£å‰ªä¿¡æ¯
    åºåˆ—åŒ–åŠŸèƒ½æµ‹è¯•
      âœ“ åº”è¯¥æ­£ç¡®åºåˆ—åŒ–åŒ…å«å®Œæ•´ä¿¡æ¯çš„ImageElement (1 ms)
      âœ“ åº”è¯¥æ­£ç¡®åºåˆ—åŒ–æœ€å°é…ç½®çš„ImageElement
    è¾¹ç•Œæƒ…å†µå’Œé”™è¯¯å¤„ç†
      âœ“ åº”è¯¥å¤„ç†ç©ºçš„srcå‚æ•°
      âœ“ åº”è¯¥å¤„ç†undefinedçš„embedId
      âœ“ åº”è¯¥å¤„ç†stretchInfoä¼˜å…ˆçº§

PASS tests/__tests__/font-size-calculator.test.ts
  FontSizeCalculator
    convertPowerPointToWebSize
      âœ“ should convert PowerPoint font sizes to web sizes with correct precision (3 ms)
      âœ“ should handle numeric inputs
      âœ“ should handle decimal inputs correctly
      âœ“ should round to 2 decimal places using half-up rounding (2 ms)
      âœ“ should maintain consistency with old calculation method
    isValidSize
      âœ“ should validate correct sizes (1 ms)
      âœ“ should reject invalid sizes
    batchConvert
      âœ“ should convert multiple sizes (1 ms)
      âœ“ should handle mixed string and number inputs
    getScalingFactor
      âœ“ should return the correct scaling factor
    precision and edge cases
      âœ“ should handle very small values
      âœ“ should handle very large values
      âœ“ should handle values that result in many decimal places

  console.log
    Loading JSON from URL: https://example.com/timeout.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:153:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

PASS tests/__tests__/color-format.test.ts
  Color Format Standardization Tests
    Color Format Conversion
      âœ“ should convert hex colors to rgba format
      âœ“ should handle rgb format and convert to rgba
      âœ“ should maintain rgba format without changes
    Theme Color Processing
      âœ“ should correctly map theme color names to rgba values (1 ms)
      âœ“ should handle theme color variations (lumMod, lumOff)
    Color Output Consistency
      âœ“ should ensure all colors in output use the same format
      âœ“ should handle transparent colors
    Color Scheme Inheritance
      âœ“ should properly inherit colors from theme to elements

PASS tests/__tests__/shape-element-enhancements.test.ts
  ShapeElement Enhancements
    enableShrink property
      âœ“ should include enableShrink: true in JSON output for all shape types
      âœ“ should include enableShrink in complete JSON structure
    Circle path generation
      âœ“ should generate correct circular SVG path for ellipse type
      âœ“ should generate circular path that matches PPTist format exactly
      âœ“ should generate different paths for different shape types
    Theme fill handling
      âœ“ should use actual fill color when provided
      âœ“ should generate fallback colors when no fill is provided (1 ms)
      âœ“ should generate consistent fallback colors based on ID
    Shape element structure validation
      âœ“ should maintain all required properties for PPTist compatibility (2 ms)

PASS tests/__tests__/image-offset-adjuster.test.ts
  ImageOffsetAdjuster
    applyOffsetAdjustment
      âœ“ should return original position when no strategy is provided (1 ms)
      âœ“ should center align image when strategy is center
      âœ“ should apply margin when strategy is margin
      âœ“ should apply percentage offset when strategy is percentage
      âœ“ should apply absolute offset when strategy is absolute
    autoAdjust
      âœ“ should not adjust position when image is within bounds
      âœ“ should adjust X position when image exceeds right boundary
      âœ“ should adjust Y position when image exceeds bottom boundary (1 ms)
      âœ“ should adjust both X and Y when image exceeds both boundaries
      âœ“ should ensure position is not negative
      âœ“ should handle edge case where image is larger than slide

PASS tests/slide-background-format.test.ts
  Slide Background Format
    Legacy Background Format
      âœ“ should return legacy format for image background
      âœ“ should return legacy format for solid background
    PPTist Background Format
      âœ“ should return PPTist format for image background (1 ms)
      âœ“ should return PPTist format for solid background (same as legacy)
      âœ“ should return PPTist format for default background when no background is set
    Default Parameter Behavior
      âœ“ should default to legacy format when no format is specified
    Format Consistency
      âœ“ should produce different output formats for the same background

PASS tests/__tests__/fill-extractor.test.ts
  FillExtractor
    getSolidFill
      âœ“ should extract direct RGB color (1 ms)
      âœ“ should extract preset color
      âœ“ should extract HSL color
      âœ“ should apply alpha transformation
      âœ“ should apply tint transformation
      âœ“ should apply shade transformation
      âœ“ should return empty string for missing solidFill
      âœ“ should handle empty solidFill object (1 ms)
    getFillColor
      âœ“ should extract solid fill color from spPr
      âœ“ should return transparent for noFill
      âœ“ should return empty string for no fill specified
  ColorUtils
    New transformation functions
      âœ“ should apply shade transformation
      âœ“ should apply tint transformation
      âœ“ should apply alpha transformation
      âœ“ should get preset color
      âœ“ should return null for unknown preset color
      âœ“ should convert HSL to RGB

PASS tests/models/slide-advanced-background.test.ts
  Slide Model - Advanced Background Format
    Complex Background Scenarios
      Base64 Image Backgrounds
        âœ“ should handle valid base64 images in legacy format
        âœ“ should handle valid base64 images in pptist format (1 ms)
        âœ“ should handle malformed base64 gracefully
      URL-based Image Backgrounds
        âœ“ should handle HTTPS URLs in legacy format (2 ms)
        âœ“ should handle relative URLs in pptist format (1 ms)
        âœ“ should handle empty imageUrl gracefully
      Gradient Backgrounds
        âœ“ should handle complex gradient definitions
        âœ“ should handle gradient with single color
        âœ“ should handle gradient with empty colors array
      Solid Color Backgrounds
        âœ“ should handle various color formats in solid backgrounds (1 ms)
        âœ“ should handle missing color in solid background
    Cloud Storage Integration Points
      âœ“ should use imageData when cloud storage is enabled
      âœ“ should fallback when cloud upload fails
    Edge Cases and Error Handling
      âœ“ should handle unknown background types gracefully (1 ms)
      âœ“ should handle null background values
      âœ“ should handle background with both imageUrl and imageData
    Performance and Memory
      âœ“ should handle large background objects efficiently
      âœ“ should not modify original background object

PASS tests/__tests__/id-uniqueness.test.ts
  Element ID Uniqueness Tests
    ID Generation
      âœ“ should generate unique IDs for all elements
      âœ“ should handle PowerPoint duplicate ID conflicts (1 ms)
      âœ“ should maintain ID format consistency
      âœ“ should generate IDs for elements without original IDs
      âœ“ should handle grouped elements with nested IDs
    ID Collision Detection
      âœ“ should detect and report ID collisions
    ID Persistence
      âœ“ should maintain stable IDs across parsing sessions

PASS tests/__tests__/html-converter-paragraph.test.ts
  HtmlConverter - Paragraph structure
    âœ“ should generate multiple p tags for multiple paragraphs
    âœ“ should handle single paragraph correctly (1 ms)
    âœ“ should support text alignment in paragraphs
    âœ“ should not wrap in div when wrapInDiv is false
    âœ“ should escape HTML special characters
    âœ“ should handle empty paragraphs
    âœ“ should get default font and color correctly
    âœ“ should use fallback values when no styles are found

  console.error
    Failed to copy JSON: Error: Clipboard access denied
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:246:9)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      69 |       onCopy?.(true);
      70 |     } catch (error) {
    > 71 |       console.error("Failed to copy JSON:", error);
         |               ^
      72 |       onCopy?.(false);
      73 |     } finally {
      74 |       setCopying(false);

      at handleCopyJson (components/MonacoJsonEditor.tsx:71:15)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:233:32)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 2 failed: Error [AbortError]: timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:256:28)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 2000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 2 failed: Error: Network timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:153:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 2000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.error
    Failed to format JSON: TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)
        at formatJson (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:54:19)
        at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:364:18)
        at renderWithHooks (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
        at updateFunctionComponent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
        at beginWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:21640:16)
        at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27465:14)
        at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      54 |       return JSON.stringify(jsonData, null, 2);
      55 |     } catch (error) {
    > 56 |       console.error('Failed to format JSON:', error);
         |               ^
      57 |       return 'Error: Invalid JSON data';
      58 |     }
      59 |   };

      at formatJson (components/MonacoJsonEditor.tsx:56:15)
      at MonacoJsonEditor (components/MonacoJsonEditor.tsx:364:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.error
    Failed to format JSON: TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)
        at formatJson (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:54:19)
        at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:364:18)
        at renderWithHooks (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
        at updateFunctionComponent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
        at beginWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:21640:16)
        at HTMLUnknownElement.callCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
        at invokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      54 |       return JSON.stringify(jsonData, null, 2);
      55 |     } catch (error) {
    > 56 |       console.error('Failed to format JSON:', error);
         |               ^
      57 |       return 'Error: Invalid JSON data';
      58 |     }
      59 |   };

      at formatJson (components/MonacoJsonEditor.tsx:56:15)
      at MonacoJsonEditor (components/MonacoJsonEditor.tsx:364:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.error
    Error: Uncaught [TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle]
        at reportException (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12) {
      detail: TypeError: Converting circular structure to JSON
          --> starting at object with constructor 'Object'
          --- property 'self' closes the circle
          at JSON.stringify (<anonymous>)
          at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:391:26)
          at renderWithHooks (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
          at updateFunctionComponent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
          at beginWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:21640:16)
          at HTMLUnknownElement.callCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25777:74)
          at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
          at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12),
      type: 'unhandled exception'
    }

      322 |       circularData.self = circularData;
      323 |       
    > 324 |       render(<MonacoJsonEditor data={circularData} />);
          |             ^
      325 |       
      326 |       await waitFor(() => {
      327 |         const editor = screen.getByTestId('monaco-editor');

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25777:74)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.error
    Failed to format JSON: TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)
        at formatJson (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:54:19)
        at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:364:18)
        at renderWithHooks (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
        at updateFunctionComponent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
        at beginWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:21640:16)
        at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27465:14)
        at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      54 |       return JSON.stringify(jsonData, null, 2);
      55 |     } catch (error) {
    > 56 |       console.error('Failed to format JSON:', error);
         |               ^
      57 |       return 'Error: Invalid JSON data';
      58 |     }
      59 |   };

      at formatJson (components/MonacoJsonEditor.tsx:56:15)
      at MonacoJsonEditor (components/MonacoJsonEditor.tsx:364:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.error
    Failed to format JSON: TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)
        at formatJson (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:54:19)
        at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:364:18)
        at renderWithHooks (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
        at updateFunctionComponent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
        at beginWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:21640:16)
        at HTMLUnknownElement.callCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
        at HTMLUnknownElement.callTheUserObjectsOperation (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
        at innerInvokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
        at invokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      54 |       return JSON.stringify(jsonData, null, 2);
      55 |     } catch (error) {
    > 56 |       console.error('Failed to format JSON:', error);
         |               ^
      57 |       return 'Error: Invalid JSON data';
      58 |     }
      59 |   };

      at formatJson (components/MonacoJsonEditor.tsx:56:15)
      at MonacoJsonEditor (components/MonacoJsonEditor.tsx:364:18)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at HTMLUnknownElement.callCallback (node_modules/react-dom/cjs/react-dom.development.js:4164:14)
      at HTMLUnknownElement.callTheUserObjectsOperation (node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.error
    Error: Uncaught [TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle]
        at reportException (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:66:24)
        at innerInvokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
        at invokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
        at HTMLUnknownElementImpl._dispatch (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
        at HTMLUnknownElementImpl.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
        at HTMLUnknownElement.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
        at Object.invokeGuardedCallbackDev (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
        at invokeGuardedCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
        at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
        at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
        at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
        at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
        at recoverFromConcurrentError (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
        at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12) {
      detail: TypeError: Converting circular structure to JSON
          --> starting at object with constructor 'Object'
          --- property 'self' closes the circle
          at JSON.stringify (<anonymous>)
          at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:391:26)
          at renderWithHooks (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:15486:18)
          at updateFunctionComponent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:19617:20)
          at beginWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:21640:16)
          at HTMLUnknownElement.callCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4164:14)
          at HTMLUnknownElement.callTheUserObjectsOperation (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventListener.js:26:30)
          at innerInvokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:350:25)
          at invokeEventListeners (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
          at HTMLUnknownElementImpl._dispatch (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
          at HTMLUnknownElementImpl.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
          at HTMLUnknownElement.dispatchEvent (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
          at Object.invokeGuardedCallbackDev (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4213:16)
          at invokeGuardedCallback (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:4277:31)
          at beginWork$1 (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27490:7)
          at performUnitOfWork (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26599:12)
          at workLoopSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26505:5)
          at renderRootSync (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26473:7)
          at recoverFromConcurrentError (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25889:20)
          at performConcurrentWorkOnRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:25789:22)
          at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
          at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
          at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-editor.test.tsx:324:13)
          at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
          at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
          at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12),
      type: 'unhandled exception'
    }

      322 |       circularData.self = circularData;
      323 |       
    > 324 |       render(<MonacoJsonEditor data={circularData} />);
          |             ^
      325 |       
      326 |       await waitFor(() => {
      327 |         const editor = screen.getByTestId('monaco-editor');

      at VirtualConsole.<anonymous> (node_modules/@jest/environment-jsdom-abstract/build/index.js:78:23)
      at reportException (node_modules/jsdom/lib/jsdom/living/helpers/runtime-script-errors.js:70:28)
      at innerInvokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:353:9)
      at invokeEventListeners (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:286:3)
      at HTMLUnknownElementImpl._dispatch (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:233:9)
      at HTMLUnknownElementImpl.dispatchEvent (node_modules/jsdom/lib/jsdom/living/events/EventTarget-impl.js:104:17)
      at HTMLUnknownElement.dispatchEvent (node_modules/jsdom/lib/jsdom/living/generated/EventTarget.js:241:34)
      at Object.invokeGuardedCallbackDev (node_modules/react-dom/cjs/react-dom.development.js:4213:16)
      at invokeGuardedCallback (node_modules/react-dom/cjs/react-dom.development.js:4277:31)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27490:7)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.error
    The above error occurred in the <MonacoJsonEditor> component:
    
        at MonacoJsonEditor (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonEditor.tsx:36:3)
    
    Consider adding an error boundary to your tree to customize error handling behavior.
    Visit https://reactjs.org/link/error-boundaries to learn more about error boundaries.

      322 |       circularData.self = circularData;
      323 |       
    > 324 |       render(<MonacoJsonEditor data={circularData} />);
          |             ^
      325 |       
      326 |       await waitFor(() => {
      327 |         const editor = screen.getByTestId('monaco-editor');

      at logCapturedError (node_modules/react-dom/cjs/react-dom.development.js:18704:23)
      at update.callback (node_modules/react-dom/cjs/react-dom.development.js:18737:5)
      at callCallback (node_modules/react-dom/cjs/react-dom.development.js:15036:12)
      at commitUpdateQueue (node_modules/react-dom/cjs/react-dom.development.js:15057:9)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom.development.js:23430:13)
      at commitLayoutMountEffects_complete (node_modules/react-dom/cjs/react-dom.development.js:24727:9)
      at commitLayoutEffects_begin (node_modules/react-dom/cjs/react-dom.development.js:24713:7)
      at commitLayoutEffects (node_modules/react-dom/cjs/react-dom.development.js:24651:3)
      at commitRootImpl (node_modules/react-dom/cjs/react-dom.development.js:26862:5)
      at commitRoot (node_modules/react-dom/cjs/react-dom.development.js:26721:5)
      at finishConcurrentRender (node_modules/react-dom/cjs/react-dom.development.js:25931:9)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25848:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:274:39)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 2 failed: Error [AbortError]: timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:256:28)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 2000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 3/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 3 failed: Error [AbortError]: timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:256:28)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.error
    Failed to load JSON: Request timeout after 120s. This may be due to:
                        â€¢ Large file size (consider using smaller chunks)
                        â€¢ Slow network connection
                        â€¢ CDN server overload
                        â€¢ Network connectivity issues
                        
                        Try refreshing or using a smaller file.

      166 |       } catch (err) {
      167 |         const errorMessage = err instanceof Error ? err.message : String(err);
    > 168 |         console.error("Failed to load JSON:", errorMessage);
          |                 ^
      169 |         setError(`Failed to load JSON: ${errorMessage}`);
      170 |         setLoadedSource(source); // ä¿å­˜sourceä»¥ä¾¿æ˜¾ç¤ºé‡è¯•æŒ‰é’®
      171 |       } finally {

      at loadJson (components/MonacoJsonLoader.tsx:168:17)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    ğŸ”„ Manual refresh triggered for CDN URL

      at refreshFromUrl (components/MonacoJsonLoader.tsx:212:15)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.error
    Failed to copy JSON: Error: Clipboard error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader.test.tsx:412:39)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      203 |       alert("JSON copied to clipboard!");
      204 |     } catch (err) {
    > 205 |       console.error("Failed to copy JSON:", err);
          |               ^
      206 |       alert("Failed to copy JSON to clipboard");
      207 |     }
      208 |   };

      at copyToClipboard (components/MonacoJsonLoader.tsx:205:15)

FAIL tests/__tests__/monaco-json-loader.test.tsx (6.956 s)
  MonacoJsonLoader Component
    Basic Rendering
      âœ“ renders without source (216 ms)
      âœ“ renders with default props (15 ms)
    Data Source Handling
      âœ“ loads direct data source (27 ms)
      âœ“ handles URL source loading (72 ms)
      âœ• shows loading state during fetch (18 ms)
      âœ• handles fetch errors (1016 ms)
    Large File Handling
      âœ• handles large files with optimized loading (1006 ms)
      âœ• shows progress for large file downloads (1007 ms)
    Retry Mechanism
      âœ• implements retry logic for failed requests (1005 ms)
      âœ• handles timeout errors with detailed message (1005 ms)
      âœ• allows manual retry from error state (1004 ms)
    Header Actions
      âœ“ displays source information correctly (10 ms)
      âœ“ allows copying URL to clipboard (10 ms)
      âœ“ opens URL in new tab (8 ms)
      âœ“ handles refresh action (12 ms)
    Copy and Download Actions
      âœ“ copies JSON to clipboard (3 ms)
      âœ“ handles copy failure gracefully (3 ms)
      âœ• downloads JSON file
    JSON Parsing
      âœ• handles invalid JSON gracefully
      âœ• handles malformed JSON in editor
    Component Updates
      âœ• reloads when source changes
      âœ• handles readonly prop changes
    Error Boundary
      âœ• handles component errors gracefully (3 ms)
      âœ• handles missing clipboard API
    Accessibility
      âœ• disables buttons during loading
      âœ• provides proper button states

  â— MonacoJsonLoader Component â€º Data Source Handling â€º shows loading state during fetch

    TestingLibraryElementError: Unable to find an element with the text: Loading JSON.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      144 |       render(<MonacoJsonLoader source={source} />);
      145 |       
    > 146 |       expect(screen.getByText('Loading JSON...')).toBeInTheDocument();
          |                     ^
      147 |       
      148 |       // Resolve the promise
      149 |       resolvePromise!({

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:146:21)

  â— MonacoJsonLoader Component â€º Data Source Handling â€º handles fetch errors

    Unable to find an element with the text: âŒ Loading Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      168 |       render(<MonacoJsonLoader source={source} />);
      169 |       
    > 170 |       await waitFor(() => {
          |                    ^
      171 |         expect(screen.getByText('âŒ Loading Error')).toBeInTheDocument();
      172 |         expect(screen.getByText(/Network error/)).toBeInTheDocument();
      173 |         expect(screen.getByText('ğŸ”„ Retry Loading')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:170:20)

  â— MonacoJsonLoader Component â€º Large File Handling â€º handles large files with optimized loading

    Unable to find an element with the text: /Processing.*MB file/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 14px; color: rgb(102, 102, 102);"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<strong>[39m
                    [0mSource:[0m
                  [36m</strong>[39m
                  [0m [0m
                  [0mCDN URL[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mstyle[39m=[32m"font-size: 12px; margin-top: 4px; display: flex; align-items: center; gap: 8px;"[39m
                [36m>[39m
                  [36m<strong>[39m
                    [0mURL:[0m
                  [36m</strong>[39m
                  [36m<div[39m
                    [33mstyle[39m=[32m"flex: 1 1 0%; font-family: monospace; font-size: 11px; background-color: rgb(248, 249, 250); border: 1px solid rgb(233, 236, 239); border-radius: 3px; padding: 2px 6px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 300px; cursor: pointer;"[39m
                    [33mtitle[39m=[32m"https://example.com/large-file.json"[39m
                  [36m>[39m
                    [0mhttps://example.com/large-file.json[0m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mstyle[39m=[32m"padding: 2px 6px; background-color: rgb(0, 123, 255); color: white; border-radius: 3px; font-size: 10px; cursor: pointer;"[39m
                  [36m>[39m
                    [0mğŸ”—[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(33, 150, 243); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ”„ Refresh[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-height[39m=[32m"600px"[39m
            [33mdata-readonly[39m=[32m"false"[39m
            [33mdata-testid[39m=[32m"monaco-json-editor"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMonaco JSON Editor[0m
            [36m</div>[39m
            [36m<button>[39m
              [0mCopy[0m
            [36m</button>[39m
            [36m<pre>[39m
              [0m{
      "slides": [
        {
          "id": 1,
          "content": "Test slide"
        }
      ],
      "themeColors": [
        "#FF0000"
      ],
      "size": {
        "width": 1920,
        "height": 1080
      }
    }[0m
            [36m</pre>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      192 |       render(<MonacoJsonLoader source={source} />);
      193 |       
    > 194 |       await waitFor(() => {
          |                    ^
      195 |         expect(screen.getByText(/Processing.*MB file/)).toBeInTheDocument();
      196 |       });
      197 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:194:20)

  â— MonacoJsonLoader Component â€º Large File Handling â€º shows progress for large file downloads

    Unable to find an element with the text: /Processing.*MB file/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 14px; color: rgb(102, 102, 102);"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<strong>[39m
                    [0mSource:[0m
                  [36m</strong>[39m
                  [0m [0m
                  [0mCDN URL[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mstyle[39m=[32m"font-size: 12px; margin-top: 4px; display: flex; align-items: center; gap: 8px;"[39m
                [36m>[39m
                  [36m<strong>[39m
                    [0mURL:[0m
                  [36m</strong>[39m
                  [36m<div[39m
                    [33mstyle[39m=[32m"flex: 1 1 0%; font-family: monospace; font-size: 11px; background-color: rgb(248, 249, 250); border: 1px solid rgb(233, 236, 239); border-radius: 3px; padding: 2px 6px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 300px; cursor: pointer;"[39m
                    [33mtitle[39m=[32m"https://example.com/large-file.json"[39m
                  [36m>[39m
                    [0mhttps://example.com/large-file.json[0m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mstyle[39m=[32m"padding: 2px 6px; background-color: rgb(0, 123, 255); color: white; border-radius: 3px; font-size: 10px; cursor: pointer;"[39m
                  [36m>[39m
                    [0mğŸ”—[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(33, 150, 243); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ”„ Refresh[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-height[39m=[32m"600px"[39m
            [33mdata-readonly[39m=[32m"false"[39m
            [33mdata-testid[39m=[32m"monaco-json-editor"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMonaco JSON Editor[0m
            [36m</div>[39m
            [36m<button>[39m
              [0mCopy[0m
            [36m</button>[39m
            [36m<pre>[39m
              [0m{
      "slides": [
        {
          "id": 1,
          "content": "Test slide"
        }
      ],
      "themeColors": [
        "#FF0000"
      ],
      "size": {
        "width": 1920,
        "height": 1080
      }
    }[0m
            [36m</pre>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      216 |       render(<MonacoJsonLoader source={source} />);
      217 |       
    > 218 |       await waitFor(() => {
          |                    ^
      219 |         expect(screen.getByText(/Processing.*MB file/)).toBeInTheDocument();
      220 |       });
      221 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:218:20)

  â— MonacoJsonLoader Component â€º Retry Mechanism â€º implements retry logic for failed requests

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      240 |       render(<MonacoJsonLoader source={source} />);
      241 |       
    > 242 |       await waitFor(() => {
          |                    ^
      243 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      244 |       });
      245 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:242:20)

  â— MonacoJsonLoader Component â€º Retry Mechanism â€º handles timeout errors with detailed message

    Unable to find an element with the text: /Request timeout/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      260 |       render(<MonacoJsonLoader source={source} />);
      261 |       
    > 262 |       await waitFor(() => {
          |                    ^
      263 |         expect(screen.getByText(/Request timeout/)).toBeInTheDocument();
      264 |         expect(screen.getByText(/Large file size/)).toBeInTheDocument();
      265 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:262:20)

  â— MonacoJsonLoader Component â€º Retry Mechanism â€º allows manual retry from error state

    Unable to find an element with the text: ğŸ”„ Retry Loading. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ“‹ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mğŸ’¾ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      276 |       render(<MonacoJsonLoader source={source} />);
      277 |       
    > 278 |       await waitFor(() => {
          |                    ^
      279 |         expect(screen.getByText('ğŸ”„ Retry Loading')).toBeInTheDocument();
      280 |       });
      281 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:278:20)

  â— MonacoJsonLoader Component â€º Copy and Download Actions â€º downloads JSON file

    createRoot(...): Target container is not a DOM element.

      451 |       });
      452 |
    > 453 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      454 |       
      455 |       await waitFor(() => {
      456 |         const downloadButton = screen.getByText('ğŸ’¾ Download');

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:453:13)

  â— MonacoJsonLoader Component â€º JSON Parsing â€º handles invalid JSON gracefully

    createRoot(...): Target container is not a DOM element.

      478 |       } as Response);
      479 |
    > 480 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      481 |       
      482 |       await waitFor(() => {
      483 |         expect(screen.getByText(/Invalid JSON/)).toBeInTheDocument();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:480:13)

  â— MonacoJsonLoader Component â€º JSON Parsing â€º handles malformed JSON in editor

    createRoot(...): Target container is not a DOM element.

      497 |       } as Response);
      498 |
    > 499 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      500 |       
      501 |       await waitFor(() => {
      502 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:499:13)

  â— MonacoJsonLoader Component â€º Component Updates â€º reloads when source changes

    createRoot(...): Target container is not a DOM element.

      517 |       };
      518 |
    > 519 |       const { rerender } = render(<MonacoJsonLoader source={source1} />);
          |                                  ^
      520 |       
      521 |       await waitFor(() => {
      522 |         expect(screen.getByText(/"slides"/)).toBeInTheDocument();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:519:34)

  â— MonacoJsonLoader Component â€º Component Updates â€º handles readonly prop changes

    createRoot(...): Target container is not a DOM element.

      536 |       };
      537 |
    > 538 |       const { rerender } = render(<MonacoJsonLoader source={source} readonly={true} />);
          |                                  ^
      539 |       
      540 |       await waitFor(() => {
      541 |         const editor = screen.getByTestId('monaco-json-editor');

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:538:34)

  â— MonacoJsonLoader Component â€º Error Boundary â€º handles component errors gracefully

    expect(received).not.toThrow()

    Error name:    "Error"
    Error message: "createRoot(...): Target container is not a DOM element."

          560 |
          561 |       expect(() => {
        > 562 |         render(<MonacoJsonLoader source={source} />);
              |               ^
          563 |       }).not.toThrow();
          564 |     });
          565 |

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at tests/__tests__/monaco-json-loader.test.tsx:562:15
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2231:93)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:563:14)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:563:14)

  â— MonacoJsonLoader Component â€º Error Boundary â€º handles missing clipboard API

    createRoot(...): Target container is not a DOM element.

      573 |       };
      574 |
    > 575 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      576 |       
      577 |       await waitFor(() => {
      578 |         const copyButton = screen.getByText('ğŸ“‹ Copy');

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:575:13)

  â— MonacoJsonLoader Component â€º Accessibility â€º disables buttons during loading

    createRoot(...): Target container is not a DOM element.

      604 |       mockFetch.mockReturnValue(fetchPromise as Promise<Response>);
      605 |
    > 606 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      607 |       
      608 |       expect(screen.getByText('ğŸ“‹ Copy')).toBeDisabled();
      609 |       expect(screen.getByText('ğŸ’¾ Download')).toBeDisabled();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:606:13)

  â— MonacoJsonLoader Component â€º Accessibility â€º provides proper button states

    createRoot(...): Target container is not a DOM element.

      617 |       };
      618 |
    > 619 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      620 |       
      621 |       await waitFor(() => {
      622 |         expect(screen.getByText('ğŸ“‹ Copy')).not.toBeDisabled();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:619:13)

  console.log
    Attempt 3/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 3 failed: Error: Network timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:153:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.error
    Failed to load JSON: Request timeout after 120s. This may be due to:
                        â€¢ Large file size (consider using smaller chunks)
                        â€¢ Slow network connection
                        â€¢ CDN server overload
                        â€¢ Network connectivity issues
                        
                        Try refreshing or using a smaller file.

      166 |       } catch (err) {
      167 |         const errorMessage = err instanceof Error ? err.message : String(err);
    > 168 |         console.error("Failed to load JSON:", errorMessage);
          |                 ^
      169 |         setError(`Failed to load JSON: ${errorMessage}`);
      170 |         setLoadedSource(source); // ä¿å­˜sourceä»¥ä¾¿æ˜¾ç¤ºé‡è¯•æŒ‰é’®
      171 |       } finally {

      at loadJson (components/MonacoJsonLoader.tsx:168:17)

  console.log
    Loading JSON from URL: https://example.com/test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network timeout
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:153:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Loading JSON from URL: https://example.com/progress-test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 5.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    Loading JSON from URL: https://example.com/retry-test.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Network error
        at /Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:300:33
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-mock/build/index.js:305:39
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-mock/build/index.js:312:13
        at mockConstructor (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-mock/build/index.js:102:19)
        at fetchWithTimeout (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:59:40)
        at loadJson (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:100:34)
        at /Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:177:5
        at commitHookEffectListMount (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:23189:26)
        at commitPassiveMountOnFiber (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:24970:11)
        at commitPassiveMountEffects_complete (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:24930:9)
        at commitPassiveMountEffects_begin (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:24917:7)
        at commitPassiveMountEffects (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:24905:3)
        at flushPassiveEffectsImpl (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27078:3)
        at flushPassiveEffects (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:27023:14)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/react-dom/cjs/react-dom.development.js:26808:9
        at flushActQueue (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2667:24)
        at act (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/react/cjs/react.development.js:2582:11)
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/act-compat.js:47:25
        at renderRoot (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:190:26)
        at render (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/@testing-library/react/dist/pure.js:292:10)
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:315:13)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 2 failed: Error: Network error
        at /Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:300:33
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-mock/build/index.js:305:39
        at /Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-mock/build/index.js:312:13
        at mockConstructor (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-mock/build/index.js:102:19)
        at fetchWithTimeout (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:59:40)
        at loadJson (/Users/tanghehui/ExploreProject/pptxtojson/components/MonacoJsonLoader.tsx:100:28)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 2000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.log
    Loading JSON file: 0.00MB

      at loadJson (components/MonacoJsonLoader.tsx:107:19)

  console.log
    Loading JSON from URL: https://example.com/always-fail.json

      at loadJson (components/MonacoJsonLoader.tsx:47:19)

  console.log
    Attempt 1/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 1 failed: Error: Persistent network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:326:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 1000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 2/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 2 failed: Error: Persistent network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:326:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.log
    Retrying in 2000ms...

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:93:25)

  console.log
    Attempt 3/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 3 failed: Error: Persistent network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:326:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.error
    Failed to load JSON: Persistent network error

      166 |       } catch (err) {
      167 |         const errorMessage = err instanceof Error ? err.message : String(err);
    > 168 |         console.error("Failed to load JSON:", errorMessage);
          |                 ^
      169 |         setError(`Failed to load JSON: ${errorMessage}`);
      170 |         setLoadedSource(source); // ä¿å­˜sourceä»¥ä¾¿æ˜¾ç¤ºé‡è¯•æŒ‰é’®
      171 |       } finally {

      at loadJson (components/MonacoJsonLoader.tsx:168:17)

FAIL tests/__tests__/monaco-json-editor.test.tsx (10.922 s)
  MonacoJsonEditor Component
    Basic Rendering
      âœ“ renders empty state when no data is provided (81 ms)
      âœ• renders editor with data (1131 ms)
      âœ“ shows loading state during client-side initialization (3 ms)
      âœ• renders with default props (1007 ms)
    Props Handling
      âœ“ applies custom height prop (7 ms)
      âœ• applies readOnly prop correctly (1011 ms)
      âœ• applies theme prop correctly (1005 ms)
      âœ“ handles onCopy callback (6 ms)
    Toolbar Functionality
      âœ“ renders all toolbar buttons (6 ms)
      âœ“ handles format button click (6 ms)
      âœ“ handles search button click (5 ms)
      âœ“ handles fold/unfold button clicks (4 ms)
      âœ“ shows button hover effects (17 ms)
    Copy Functionality
      âœ“ copies JSON to clipboard successfully (6 ms)
      âœ“ handles copy failure gracefully (18 ms)
      âœ“ shows copying state during copy operation (8 ms)
      âœ“ disables copy button during copying (3 ms)
      âœ“ does not copy when no data is provided (1 ms)
    JSON Formatting
      âœ• formats JSON data correctly (1003 ms)
      âœ• handles invalid JSON data gracefully (36 ms)
      âœ• formats complex nested data (1005 ms)
    Statistics Footer
      âœ“ displays correct statistics (10 ms)
      âœ“ handles missing statistics gracefully (6 ms)
      âœ“ displays file size information (5 ms)
    Keyboard Shortcuts
      âœ• sets up keyboard shortcuts on mount (1006 ms)
      âœ“ includes keyboard shortcut hints in tooltips (12 ms)
    Component Lifecycle
      âœ• updates editor content when data changes (1005 ms)
      âœ• maintains editor configuration across re-renders (1005 ms)
    Error Handling
      âœ• handles editor mount errors gracefully (1005 ms)
      âœ“ handles missing editor actions gracefully (5 ms)
    Accessibility
      âœ“ has proper heading structure (9 ms)
      âœ“ has accessible button labels (4 ms)
      âœ• provides loading feedback for screen readers (3 ms)

  â— MonacoJsonEditor Component â€º Basic Rendering â€º renders editor with data

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

       96 |       render(<MonacoJsonEditor data={sampleData} />);
       97 |       
    >  98 |       await waitFor(() => {
          |                    ^
       99 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      100 |       });
      101 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:98:20)

  â— MonacoJsonEditor Component â€º Basic Rendering â€º renders with default props

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      116 |       render(<MonacoJsonEditor data={sampleData} />);
      117 |       
    > 118 |       await waitFor(() => {
          |                    ^
      119 |         const editor = screen.getByTestId('monaco-editor');
      120 |         expect(editor).toHaveAttribute('data-readonly', 'true');
      121 |         expect(editor).toHaveAttribute('data-theme', 'vs');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:118:20)

  â— MonacoJsonEditor Component â€º Props Handling â€º applies readOnly prop correctly

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      139 |       render(<MonacoJsonEditor data={sampleData} readOnly={false} />);
      140 |       
    > 141 |       await waitFor(() => {
          |                    ^
      142 |         const editor = screen.getByTestId('monaco-editor');
      143 |         expect(editor).toHaveAttribute('data-readonly', 'false');
      144 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:141:20)

  â— MonacoJsonEditor Component â€º Props Handling â€º applies theme prop correctly

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      148 |       render(<MonacoJsonEditor data={sampleData} theme="dark" />);
      149 |       
    > 150 |       await waitFor(() => {
          |                    ^
      151 |         const editor = screen.getByTestId('monaco-editor');
      152 |         expect(editor).toHaveAttribute('data-theme', 'vs-dark');
      153 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:150:20)

  â— MonacoJsonEditor Component â€º JSON Formatting â€º formats JSON data correctly

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      311 |       render(<MonacoJsonEditor data={sampleData} />);
      312 |       
    > 313 |       await waitFor(() => {
          |                    ^
      314 |         const editor = screen.getByTestId('monaco-editor');
      315 |         const expectedJson = JSON.stringify(sampleData, null, 2);
      316 |         expect(editor).toHaveAttribute('data-value', expectedJson);

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:313:20)

  â— MonacoJsonEditor Component â€º JSON Formatting â€º handles invalid JSON data gracefully

    TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)

      389 |           å°ºå¯¸: {data?.size ? `${data.size.width} Ã— ${data.size.height}` : 'æœªçŸ¥'}
      390 |         </span>
    > 391 |         <span>å­—ç¬¦æ•°: {JSON.stringify(data).length.toLocaleString()}</span>
          |                          ^
      392 |         <span>å¤§å°: {(JSON.stringify(data).length / 1024).toFixed(1)} KB</span>
      393 |       </div>
      394 |     </div>

      at MonacoJsonEditor (components/MonacoJsonEditor.tsx:391:26)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  â— MonacoJsonEditor Component â€º JSON Formatting â€º formats complex nested data

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m0[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m0[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0mæœªçŸ¥[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m80[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      343 |       render(<MonacoJsonEditor data={complexData} />);
      344 |       
    > 345 |       await waitFor(() => {
          |                    ^
      346 |         const editor = screen.getByTestId('monaco-editor');
      347 |         const expectedJson = JSON.stringify(complexData, null, 2);
      348 |         expect(editor).toHaveAttribute('data-value', expectedJson);

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:345:20)

  â— MonacoJsonEditor Component â€º Keyboard Shortcuts â€º sets up keyboard shortcuts on mount

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      392 |       render(<MonacoJsonEditor data={sampleData} />);
      393 |       
    > 394 |       await waitFor(() => {
          |                    ^
      395 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      396 |         // The Monaco editor mock should have received addCommand calls
      397 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:394:20)

  â— MonacoJsonEditor Component â€º Component Lifecycle â€º updates editor content when data changes

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      415 |       const { rerender } = render(<MonacoJsonEditor data={sampleData} />);
      416 |       
    > 417 |       await waitFor(() => {
          |                    ^
      418 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      419 |       });
      420 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:417:20)

  â— MonacoJsonEditor Component â€º Component Lifecycle â€º maintains editor configuration across re-renders

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      431 |       const { rerender } = render(<MonacoJsonEditor data={sampleData} readOnly={true} />);
      432 |       
    > 433 |       await waitFor(() => {
          |                    ^
      434 |         const editor = screen.getByTestId('monaco-editor');
      435 |         expect(editor).toHaveAttribute('data-readonly', 'true');
      436 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:433:20)

  â— MonacoJsonEditor Component â€º Error Handling â€º handles editor mount errors gracefully

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      451 |       render(<MonacoJsonEditor data={sampleData} />);
      452 |       
    > 453 |       await waitFor(() => {
          |                    ^
      454 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      455 |       });
      456 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:453:20)

  â— MonacoJsonEditor Component â€º Accessibility â€º provides loading feedback for screen readers

    TestingLibraryElementError: Unable to find an element with the text: æ­£åœ¨åˆå§‹åŒ– Monaco Editor.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mğŸ” æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mğŸ“‚ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mğŸ“‹ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mğŸ“Š æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      491 |       render(<MonacoJsonEditor data={sampleData} />);
      492 |       
    > 493 |       const loadingText = screen.getByText('æ­£åœ¨åˆå§‹åŒ– Monaco Editor...');
          |                                  ^
      494 |       expect(loadingText).toBeInTheDocument();
      495 |     });
      496 |   });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:493:34)

  console.log
    Attempt 3/3 to fetch JSON from CDN

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:53:25)

  console.warn
    Fetch attempt 3 failed: Error: Persistent network error
        at Object.<anonymous> (/Users/tanghehui/ExploreProject/pptxtojson/tests/__tests__/monaco-json-loader-large-files.test.tsx:326:46)
        at Promise.finally.completed (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
        at new Promise (<anonymous>)
        at callAsyncCircusFn (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
        at _callCircusTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
        at runNextTicks (node:internal/process/task_queues:60:5)
        at listOnTimeout (node:internal/timers:540:9)
        at processTimers (node:internal/timers:514:7)
        at _runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at _runTestsForDescribeBlock (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
        at run (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
        at runAndTransformResultsToJestFormat (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
        at jestAdapter (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-circus/build/runner.js:101:19)
        at runTestInternal (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:272:16)
        at runTest (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:340:7)
        at Object.worker (/Users/tanghehui/ExploreProject/pptxtojson/node_modules/jest-runner/build/testWorker.js:494:12)

      73 |                 return response;
      74 |               } catch (error) {
    > 75 |                 console.warn(`Fetch attempt ${attempt} failed:`, error);
         |                         ^
      76 |                 
      77 |                 if (attempt === retries) {
      78 |                   // ä¸ºè¶…æ—¶é”™è¯¯æä¾›æ›´è¯¦ç»†çš„ä¿¡æ¯

      at fetchWithTimeout (components/MonacoJsonLoader.tsx:75:25)
      at loadJson (components/MonacoJsonLoader.tsx:100:28)

  console.error
    Failed to load JSON: Persistent network error

      166 |       } catch (err) {
      167 |         const errorMessage = err instanceof Error ? err.message : String(err);
    > 168 |         console.error("Failed to load JSON:", errorMessage);
          |                 ^
      169 |         setError(`Failed to load JSON: ${errorMessage}`);
      170 |         setLoadedSource(source); // ä¿å­˜sourceä»¥ä¾¿æ˜¾ç¤ºé‡è¯•æŒ‰é’®
      171 |       } finally {

      at loadJson (components/MonacoJsonLoader.tsx:168:17)

PASS tests/__tests__/monaco-json-loader-large-files.test.tsx (10.869 s)
  MonacoJsonLoader Large File Handling
    Large File Optimizations
      âœ“ detects large files and uses optimized loading (167 ms)
      âœ“ shows detailed progress for large files (22 ms)
      âœ“ uses minimized format for large files (43 ms)
    Timeout Handling
      âœ“ handles timeouts with detailed error messages (3366 ms)
      âœ“ shows retry button for timeout errors (3044 ms)
      âœ“ uses 120-second timeout for large files (5 ms)
    Progress Indicators
      âœ“ shows different progress messages during loading (32 ms)
      âœ“ displays file size information (7 ms)
    Performance Warnings
      âœ“ logs performance suggestions for large files (7 ms)
    Retry Mechanism
      âœ“ retries failed requests with exponential backoff (1024 ms)
      âœ“ fails after maximum retry attempts (3023 ms)

FAIL tests/__tests__/json-viewer.test.tsx (12.719 s)
  JsonViewer Component
    Empty State
      âœ“ renders empty state when no data is provided (101 ms)
      âœ“ displays correct empty state icon and styling (21 ms)
      âœ“ renders header even in empty state (17 ms)
    Data Display
      âœ• renders Monaco Editor when data is provided (1029 ms)
      âœ• passes correct props to Monaco Editor (1005 ms)
      âœ• displays the JSON data in the editor (1004 ms)
    Client-Side Rendering
      âœ“ shows initialization message before client-side hydration (2 ms)
      âœ• transitions from loading to loaded state (1004 ms)
    Copy Functionality
      âœ• calls onCopy callback when copy button is clicked (1005 ms)
      âœ• handles missing onCopy callback gracefully (1006 ms)
    Layout and Styling
      âœ“ renders with correct container structure (6 ms)
      âœ“ renders header with correct styling (5 ms)
      âœ“ centers header title (4 ms)
    Dynamic Import Loading
      âœ“ shows loading component during dynamic import (2 ms)
    Edge Cases
      âœ“ handles undefined data same as null (2 ms)
      âœ• handles empty object data (1002 ms)
      âœ• handles complex nested data (1003 ms)
      âœ• handles data with special characters (1004 ms)
    Component Updates
      âœ• updates when data prop changes (1004 ms)
      âœ• transitions from data to empty state (1003 ms)
      âœ• updates onCopy callback (1010 ms)
    Accessibility
      âœ“ has proper heading structure (13 ms)
      âœ“ provides descriptive text for empty state (2 ms)

  â— JsonViewer Component â€º Data Display â€º renders Monaco Editor when data is provided

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      81 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      82 |       
    > 83 |       await waitFor(() => {
         |                    ^
      84 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      85 |       });
      86 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:83:20)

  â— JsonViewer Component â€º Data Display â€º passes correct props to Monaco Editor

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      89 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      90 |       
    > 91 |       await waitFor(() => {
         |                    ^
      92 |         const editor = screen.getByTestId('monaco-json-editor');
      93 |         expect(editor).toHaveAttribute('data-height', '100%');
      94 |         expect(editor).toHaveAttribute('data-readonly', 'true');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:91:20)

  â— JsonViewer Component â€º Data Display â€º displays the JSON data in the editor

    Unable to find an element with the text: /"slides":/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      100 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      101 |       
    > 102 |       await waitFor(() => {
          |                    ^
      103 |         const jsonContent = screen.getByText(/"slides":/);
      104 |         expect(jsonContent).toBeInTheDocument();
      105 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:102:20)

  â— JsonViewer Component â€º Client-Side Rendering â€º transitions from loading to loaded state

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |       
      119 |       // Should show the editor
    > 120 |       await waitFor(() => {
          |                    ^
      121 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      122 |       });
      123 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:120:20)

  â— JsonViewer Component â€º Copy Functionality â€º calls onCopy callback when copy button is clicked

    Unable to find an element with the text: Copy. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      128 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      129 |       
    > 130 |       await waitFor(() => {
          |                    ^
      131 |         const copyButton = screen.getByText('Copy');
      132 |         copyButton.click();
      133 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:130:20)

  â— JsonViewer Component â€º Copy Functionality â€º handles missing onCopy callback gracefully

    Unable to find an element with the text: Copy. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      139 |       render(<JsonViewer data={sampleData} />);
      140 |       
    > 141 |       await waitFor(() => {
          |                    ^
      142 |         const copyButton = screen.getByText('Copy');
      143 |         expect(() => copyButton.click()).not.toThrow();
      144 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:141:20)

  â— JsonViewer Component â€º Edge Cases â€º handles empty object data

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      204 |       render(<JsonViewer data={{}} onCopy={mockOnCopy} />);
      205 |       
    > 206 |       await waitFor(() => {
          |                    ^
      207 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      208 |         expect(screen.getByText('{}')).toBeInTheDocument();
      209 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:206:20)

  â— JsonViewer Component â€º Edge Cases â€º handles complex nested data

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      224 |       render(<JsonViewer data={complexData} />);
      225 |       
    > 226 |       await waitFor(() => {
          |                    ^
      227 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      228 |         expect(screen.getByText(/"deepValue":/)).toBeInTheDocument();
      229 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:226:20)

  â— JsonViewer Component â€º Edge Cases â€º handles data with special characters

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      239 |       render(<JsonViewer data={specialData} />);
      240 |       
    > 241 |       await waitFor(() => {
          |                    ^
      242 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      243 |       });
      244 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:241:20)

  â— JsonViewer Component â€º Component Updates â€º updates when data prop changes

    Unable to find an element with the text: /"slides":/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      249 |       const { rerender } = render(<JsonViewer data={sampleData} />);
      250 |       
    > 251 |       await waitFor(() => {
          |                    ^
      252 |         expect(screen.getByText(/"slides":/)).toBeInTheDocument();
      253 |       });
      254 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:251:20)

  â— JsonViewer Component â€º Component Updates â€º transitions from data to empty state

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      264 |       const { rerender } = render(<JsonViewer data={sampleData} />);
      265 |       
    > 266 |       await waitFor(() => {
          |                    ^
      267 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      268 |       });
      269 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:266:20)

  â— JsonViewer Component â€º Component Updates â€º updates onCopy callback

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mğŸ–¥ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      277 |       const { rerender } = render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      278 |       
    > 279 |       await waitFor(() => {
          |                    ^
      280 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      281 |       });
      282 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:279:20)

Summary of all failing tests
FAIL tests/__tests__/line-processor-comprehensive.test.ts
  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®æå–å°ºå¯¸ä¿¡æ¯

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "height": 7.2,
    -   "width": 14.4,
    +   "height": 96,
    +   "width": 192,
      }

      360 |         
      361 |         // éªŒè¯å°ºå¯¸è®¾ç½®
    > 362 |         expect(result.getSize()).toEqual({
          |                                  ^
      363 |           width: 14.4, // 1828800 EMU è½¬ä¸ºç‚¹
      364 |           height: 7.2, // 914400 EMU è½¬ä¸ºç‚¹
      365 |         });

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:362:34)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®æå–çº¿æ¡å®½åº¦

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: 2.67

      384 |         const result = await processor.process(spNode, mockProcessingContext);
      385 |         
    > 386 |         expect(result.toJSON().width).toBe(2);
          |                                       ^
      387 |       });
      388 |
      389 |       it("åº”è¯¥æ­£ç¡®æå–çº¿æ¡é¢œè‰²", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:386:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®æå–çº¿æ¡é¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255, 0, 0, 1)"
    Received: "rgba(255,0,0,1)"

      393 |         const result = await processor.process(spNode, mockProcessingContext);
      394 |         
    > 395 |         expect(result.toJSON().color).toBe("rgba(255, 0, 0, 1)");
          |                                       ^
      396 |       });
      397 |
      398 |       it("åº”è¯¥æ­£ç¡®å¤„ç†è™šçº¿æ ·å¼", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:395:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®å¤„ç†ç®­å¤´

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
        "arrow",
    -   "diamond",
    +   "arrow",
      ]

      423 |         const result = await processor.process(spNode, mockProcessingContext);
      424 |         
    > 425 |         expect(result.toJSON().points).toEqual(["arrow", "diamond"]);
          |                                        ^
      426 |       });
      427 |
      428 |       it("åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - é»˜è®¤æ–¹å‘", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:425:40)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - é»˜è®¤æ–¹å‘

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Array [
    -   14.4,
    -   7.2,
    +   192,
    +   96,
      ]

      435 |         // é»˜è®¤ä»å·¦ä¸Šåˆ°å³ä¸‹
      436 |         expect(json.start).toEqual([0, 0]); // ç›¸å¯¹äºä½ç½®
    > 437 |         expect(json.end).toEqual([14.4, 7.2]); // ç›¸å¯¹äºä½ç½®ï¼Œä½¿ç”¨å°ºå¯¸
          |                          ^
      438 |       });
      439 |
      440 |       it("åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - æ°´å¹³ç¿»è½¬", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:437:26)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - æ°´å¹³ç¿»è½¬

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
    -   14.4,
    +   192,
        0,
      ]

      446 |         
      447 |         // æ°´å¹³ç¿»è½¬ï¼šä»å³ä¸Šåˆ°å·¦ä¸‹
    > 448 |         expect(json.start).toEqual([14.4, 0]); // ç›¸å¯¹äºä½ç½®
          |                            ^
      449 |         expect(json.end).toEqual([0, 7.2]); // ç›¸å¯¹äºä½ç½®
      450 |       });
      451 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:448:28)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - å‚ç›´ç¿»è½¬

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Array [
        0,
    -   7.2,
    +   96,
      ]

      458 |         
      459 |         // å‚ç›´ç¿»è½¬ï¼šä»å·¦ä¸‹åˆ°å³ä¸Š
    > 460 |         expect(json.start).toEqual([0, 7.2]); // ç›¸å¯¹äºä½ç½®
          |                            ^
      461 |         expect(json.end).toEqual([14.4, 0]); // ç›¸å¯¹äºä½ç½®
      462 |       });
      463 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:460:28)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥æ­£ç¡®è®¡ç®—çº¿æ¡ç«¯ç‚¹ - åŒé‡ç¿»è½¬

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Array [
    -   14.4,
    -   7.2,
    +   192,
    +   96,
      ]

      470 |         
      471 |         // åŒé‡ç¿»è½¬ï¼šä»å³ä¸‹åˆ°å·¦ä¸Š
    > 472 |         expect(json.start).toEqual([14.4, 7.2]); // ç›¸å¯¹äºä½ç½®
          |                            ^
      473 |         expect(json.end).toEqual([0, 0]); // ç›¸å¯¹äºä½ç½®
      474 |       });
      475 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:472:28)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255, 87, 51, 1)"
    Received: "rgba(0,0,0,1)"

      497 |         const result = await processor.process(spNode, mockProcessingContext);
      498 |         
    > 499 |         expect(result.toJSON().color).toBe("rgba(255, 87, 51, 1)");
          |                                       ^
      500 |       });
      501 |
      502 |       it("åº”è¯¥å¤„ç†ç¼ºå°‘ä½ç½®ä¿¡æ¯çš„æƒ…å†µ", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:499:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†æ— æ•ˆçš„é¢œè‰²å€¼

    expect(received).toBe(expected) // Object.is equality

    Expected: "#000000"
    Received: "rgba(0,0,0,1)"

      559 |         
      560 |         // åº”è¯¥å›é€€åˆ°é»˜è®¤é¢œè‰²
    > 561 |         expect(result.toJSON().color).toBe("#000000");
          |                                       ^
      562 |       });
      563 |
      564 |       it("åº”è¯¥å¤„ç†æ— æ•ˆçš„çº¿å®½å€¼", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:561:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º process æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†æ— æ•ˆçš„çº¿å®½å€¼

    expect(received).toBe(expected) // Object.is equality

    Expected: 1
    Received: NaN

      569 |         
      570 |         // åº”è¯¥ä½¿ç”¨é»˜è®¤çº¿å®½
    > 571 |         expect(result.toJSON().width).toBe(1);
          |                                       ^
      572 |       });
      573 |     });
      574 |

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:571:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º extractColor ç§æœ‰æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†RGBé¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255, 0, 0, 1)"
    Received: "rgba(255,0,0,1)"

      586 |         const result = await processor.process(spNode, mockProcessingContext);
      587 |         
    > 588 |         expect(result.toJSON().color).toBe("rgba(255, 0, 0, 1)");
          |                                       ^
      589 |       });
      590 |
      591 |       it("åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:588:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º extractColor ç§æœ‰æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†ä¸»é¢˜é¢œè‰²

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(0, 255, 0, 1)"
    Received: "rgba(0,0,0,1)"

      611 |         const result = await processor.process(spNode, mockProcessingContext);
      612 |         
    > 613 |         expect(result.toJSON().color).toBe("rgba(0, 255, 0, 1)");
          |                                       ^
      614 |       });
      615 |
      616 |       it("åº”è¯¥å¤„ç†ç¼ºå°‘ä¸»é¢˜çš„æƒ…å†µ", async () => {

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:613:39)

  â— LineProcessor ç»¼åˆæµ‹è¯• â€º LineProcessor ç±»æµ‹è¯• â€º extractColor ç§æœ‰æ–¹æ³•æµ‹è¯• â€º åº”è¯¥å¤„ç†ç¼ºå°‘ä¸»é¢˜çš„æƒ…å†µ

    expect(received).toBe(expected) // Object.is equality

    Expected: "#000000"
    Received: "rgba(0,0,0,1)"

      627 |         
      628 |         // åº”è¯¥å›é€€åˆ°é»˜è®¤é»‘è‰²
    > 629 |         expect(result.toJSON().color).toBe("#000000");
          |                                       ^
      630 |       });
      631 |     });
      632 |   });

      at Object.<anonymous> (tests/__tests__/line-processor-comprehensive.test.ts:629:39)

FAIL tests/__tests__/api-route-parse-pptx.test.ts
  â— API Route - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç† â€º åº”è¯¥å¤„ç†legacyæ ¼å¼å‚æ•°

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      272 |
      273 |       const response = await POST(request);
    > 274 |       expect(response.status).toBe(200);
          |                               ^
      275 |
      276 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      277 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:274:31)

  â— API Route - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç† â€º åº”è¯¥å¤„ç†pptistæ ¼å¼å‚æ•°

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      291 |
      292 |       const response = await POST(request);
    > 293 |       expect(response.status).toBe(200);
          |                               ^
      294 |
      295 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      296 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:293:31)

  â— API Route - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼å‚æ•°å¤„ç† â€º åº”è¯¥é»˜è®¤ä½¿ç”¨legacyæ ¼å¼

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      308 |
      309 |       const response = await POST(request);
    > 310 |       expect(response.status).toBe(200);
          |                               ^
      311 |
      312 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      313 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:310:31)

  â— API Route - /api/parse-pptx â€º è°ƒè¯•æ¨¡å¼åŠŸèƒ½ â€º åº”è¯¥å¤„ç†è°ƒè¯•æ¨¡å¼å¯ç”¨

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      340 |
      341 |       const response = await POST(request);
    > 342 |       expect(response.status).toBe(200);
          |                               ^
      343 |
      344 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      345 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:342:31)

  â— API Route - /api/parse-pptx â€º è°ƒè¯•æ¨¡å¼åŠŸèƒ½ â€º åº”è¯¥å¤„ç†æ— æ•ˆçš„è°ƒè¯•é€‰é¡¹JSON

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      364 |
      365 |       const response = await POST(request);
    > 366 |       expect(response.status).toBe(200);
          |                               ^
      367 |
      368 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      369 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:366:31)

  â— API Route - /api/parse-pptx â€º CDNå­˜å‚¨åŠŸèƒ½ â€º åº”è¯¥æˆåŠŸä¸Šä¼ åˆ°CDN

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      411 |
      412 |       const response = await POST(request);
    > 413 |       expect(response.status).toBe(200);
          |                               ^
      414 |
      415 |       const responseData = await response.json();
      416 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:413:31)

  â— API Route - /api/parse-pptx â€º CDNå­˜å‚¨åŠŸèƒ½ â€º åº”è¯¥å¤„ç†CDNä¸å¯ç”¨çš„æƒ…å†µ

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      434 |
      435 |       const response = await POST(request);
    > 436 |       expect(response.status).toBe(200);
          |                               ^
      437 |
      438 |       const responseData = await response.json();
      439 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:436:31)

  â— API Route - /api/parse-pptx â€º CDNå­˜å‚¨åŠŸèƒ½ â€º åº”è¯¥å¤„ç†CDNä¸Šä¼ å¤±è´¥

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      458 |
      459 |       const response = await POST(request);
    > 460 |       expect(response.status).toBe(200);
          |                               ^
      461 |
      462 |       const responseData = await response.json();
      463 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:460:31)

  â— API Route - /api/parse-pptx â€º é”™è¯¯å¤„ç† â€º åº”è¯¥å¤„ç†è§£æå™¨é”™è¯¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      479 |
      480 |       const response = await POST(request);
    > 481 |       expect(response.status).toBe(500);
          |                               ^
      482 |
      483 |       const responseData = await response.json();
      484 |       expect(responseData.error).toBe("Failed to parse PPTX file");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:481:31)

  â— API Route - /api/parse-pptx â€º å“åº”æ ¼å¼éªŒè¯ â€º åº”è¯¥è¿”å›æ­£ç¡®çš„å“åº”ç»“æ„

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      524 |
      525 |       const response = await POST(request);
    > 526 |       expect(response.status).toBe(200);
          |                               ^
      527 |
      528 |       const responseData = await response.json();
      529 |       

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:526:31)

  â— API Route - /api/parse-pptx â€º å“åº”æ ¼å¼éªŒè¯ â€º åº”è¯¥åŒ…å«è°ƒè¯•ä¿¡æ¯

    TypeError: Cannot read properties of undefined (reading 'fileSize')

      552 |       const responseData = await response.json();
      553 |
    > 554 |       expect(responseData.debug.fileSize).toBe(12); // "test content".length
          |                                 ^
      555 |       expect(responseData.debug.resultKeys).toContain("width");
      556 |       expect(responseData.debug.resultKeys).toContain("height");
      557 |       expect(responseData.debug.resultKeys).toContain("slides");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:554:33)

  â— API Route - /api/parse-pptx â€º å‚æ•°ç»„åˆæµ‹è¯• â€º åº”è¯¥å¤„ç†æ‰€æœ‰å‚æ•°çš„ç»„åˆ

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      593 |
      594 |       const response = await POST(request);
    > 595 |       expect(response.status).toBe(200);
          |                               ^
      596 |
      597 |       // éªŒè¯æ‰€æœ‰å‚æ•°éƒ½è¢«æ­£ç¡®ä¼ é€’
      598 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:595:31)

  â— API Route - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µæµ‹è¯• â€º åº”è¯¥å¤„ç†ç©ºæ–‡ä»¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      621 |
      622 |       const response = await POST(request);
    > 623 |       expect(response.status).toBe(200);
          |                               ^
      624 |
      625 |       const responseData = await response.json();
      626 |       expect(responseData.debug.fileSize).toBe(0);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:623:31)

  â— API Route - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µæµ‹è¯• â€º åº”è¯¥å¤„ç†éå¸¸å¤§çš„æ–‡ä»¶å

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      638 |
      639 |       const response = await POST(request);
    > 640 |       expect(response.status).toBe(200);
          |                               ^
      641 |
      642 |       const responseData = await response.json();
      643 |       expect(responseData.filename).toBe(longName);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:640:31)

  â— API Route - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç† â€º åº”è¯¥æˆåŠŸå¤„ç†å¤§æ–‡ä»¶ï¼ˆ100MBï¼‰

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      675 |
      676 |       const response = await POST(request);
    > 677 |       expect(response.status).toBe(200);
          |                               ^
      678 |
      679 |       const responseData = await response.json();
      680 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:677:31)

  â— API Route - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç† â€º åº”è¯¥å¤„ç†è§£æå¤§æ–‡ä»¶æ—¶çš„å†…å­˜é”™è¯¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      701 |
      702 |       const response = await POST(request);
    > 703 |       expect(response.status).toBe(500);
          |                               ^
      704 |
      705 |       const responseData = await response.json();
      706 |       expect(responseData.error).toBe("Failed to parse PPTX file");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:703:31)

  â— API Route - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç† â€º åº”è¯¥å¤„ç†CDNä¸Šä¼ å¤§æ–‡ä»¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      740 |
      741 |       const response = await POST(request);
    > 742 |       expect(response.status).toBe(200);
          |                               ^
      743 |
      744 |       const responseData = await response.json();
      745 |       expect(responseData.success).toBe(true);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:742:31)

  â— API Route - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç† â€º åº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      778 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      779 |       responses.forEach((response) => {
    > 780 |         expect(response.status).toBe(200);
          |                                 ^
      781 |       });
      782 |
      783 |       // éªŒè¯æ¯ä¸ªè¯·æ±‚è¿”å›ä¸åŒçš„æ•°æ®

      at tests/__tests__/api-route-parse-pptx.test.ts:780:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:779:17)

  â— API Route - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç† â€º åº”è¯¥å¤„ç†å¹¶å‘CDNè¯·æ±‚

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      831 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      832 |       responses.forEach((response) => {
    > 833 |         expect(response.status).toBe(200);
          |                                 ^
      834 |       });
      835 |
      836 |       // éªŒè¯CDNä¸Šä¼ è¢«è°ƒç”¨äº†æ­£ç¡®çš„æ¬¡æ•°

      at tests/__tests__/api-route-parse-pptx.test.ts:833:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:832:17)

  â— API Route - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç† â€º åº”è¯¥å¤„ç†å¹¶å‘è¯·æ±‚ä¸­çš„éƒ¨åˆ†å¤±è´¥

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      867 |
      868 |       // éªŒè¯ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªè¯·æ±‚æˆåŠŸ
    > 869 |       expect(responses[0].status).toBe(200);
          |                                   ^
      870 |       expect(responses[2].status).toBe(200);
      871 |
      872 |       // éªŒè¯ç¬¬äºŒä¸ªè¯·æ±‚å¤±è´¥

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:869:35)

  â— API Route - /api/parse-pptx â€º å†…å­˜å’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥æ¸…ç†è§£æåçš„ä¸´æ—¶æ•°æ®

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      970 |
      971 |       const response = await POST(request);
    > 972 |       expect(response.status).toBe(200);
          |                               ^
      973 |
      974 |       // éªŒè¯è§£æå™¨åªè¢«è°ƒç”¨ä¸€æ¬¡
      975 |       expect(pptxParser.parseToJSON).toHaveBeenCalledTimes(1);

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:972:31)

  â— API Route - /api/parse-pptx â€º å†…å­˜å’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†è§£æè¶…æ—¶æƒ…å†µ

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

       996 |
       997 |       const response = await POST(request);
    >  998 |       expect(response.status).toBe(500);
           |                               ^
       999 |
      1000 |       const responseData = await response.json();
      1001 |       expect(responseData.error).toBe("Failed to parse PPTX file");

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx.test.ts:998:31)

FAIL tests/__tests__/html-converter-comprehensive.test.ts
  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should convert simple text content to HTML

    expect(received).toBe(expected) // Object.is equality

    Expected: "<div style=\"\"><p style=\"\"><span style=\"\">Hello World</span></p></div>"
    Received: "<div  style=\"\"><p  style=\"\"><span  style=\"\">Hello World</span></p></div>"

      15 |       
      16 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 17 |       expect(html).toBe('<div style=""><p style=""><span style="">Hello World</span></p></div>');
         |                    ^
      18 |     });
      19 |
      20 |     it('should handle text with basic styling', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:17:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should handle multiple text runs in a paragraph

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\">Normal </span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">Normal </span><span  style=\"font-weight:bold\">Bold </span><span  style=\"font-style:italic\">Italic</span></p></div>"

      78 |       
      79 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 80 |       expect(html).toContain('<span style="">Normal </span>');
         |                    ^
      81 |       expect(html).toContain('<span style="font-weight:bold">Bold </span>');
      82 |       expect(html).toContain('<span style="font-style:italic">Italic</span>');
      83 |     });

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:80:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should handle options without wrapping div

    expect(received).toBe(expected) // Object.is equality

    Expected: "<p style=\"\"><span style=\"\">No Wrapper</span></p>"
    Received: "<p  style=\"\"><span  style=\"\">No Wrapper</span></p>"

      90 |       const options: HtmlConversionOptions = { wrapInDiv: false };
      91 |       const html = HtmlConverter.convertSingleParagraphToHtml(content, options);
    > 92 |       expect(html).toBe('<p style=""><span style="">No Wrapper</span></p>');
         |                    ^
      93 |     });
      94 |
      95 |     it('should handle custom div style', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:92:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Single Paragraph Conversion â€º should handle custom paragraph style

    expect(received).toContain(expected) // indexOf

    Expected substring: "<p style=\"line-height: 1.5\">"
    Received string:    "<div  style=\"\"><p  style=\"line-height: 1.5\"><span  style=\"\">Custom Paragraph</span></p></div>"

      110 |       const options: HtmlConversionOptions = { paragraphStyle: 'line-height: 1.5' };
      111 |       const html = HtmlConverter.convertSingleParagraphToHtml(content, options);
    > 112 |       expect(html).toContain('<p style="line-height: 1.5">');
          |                    ^
      113 |     });
      114 |
      115 |     it('should handle text alignment', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:112:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Multiple Paragraphs Conversion â€º should convert multiple paragraphs to HTML

    expect(received).toContain(expected) // indexOf

    Expected substring: "<p style=\"\"><span style=\"\">First paragraph</span></p>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">First paragraph</span></p><p  style=\"\"><span  style=\"\">Second paragraph</span></p><p  style=\"\"><span  style=\"\">Third paragraph</span></p></div>"

      142 |       
      143 |       const html = HtmlConverter.convertParagraphsToHtml(paragraphs);
    > 144 |       expect(html).toContain('<p style=""><span style="">First paragraph</span></p>');
          |                    ^
      145 |       expect(html).toContain('<p style=""><span style="">Second paragraph</span></p>');
      146 |       expect(html).toContain('<p style=""><span style="">Third paragraph</span></p>');
      147 |     });

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:144:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Multiple Paragraphs Conversion â€º should handle mixed paragraph styles

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\">Normal</span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">Normal</span></p><p  style=\"\"><span  style=\"font-weight:bold\">Bold</span></p><p  style=\"\"><span  style=\"font-style:italic\">Italic</span></p></div>"

      155 |       
      156 |       const html = HtmlConverter.convertParagraphsToHtml(paragraphs);
    > 157 |       expect(html).toContain('<span style="">Normal</span>');
          |                    ^
      158 |       expect(html).toContain('<span style="font-weight:bold">Bold</span>');
      159 |       expect(html).toContain('<span style="font-style:italic">Italic</span>');
      160 |     });

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:157:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Multiple Paragraphs Conversion â€º should handle options without wrapping div for multiple paragraphs

    expect(received).toBe(expected) // Object.is equality

    Expected: "<p style=\"\"><span style=\"\">Para 1</span></p><p style=\"\"><span style=\"\">Para 2</span></p>"
    Received: "<p  style=\"\"><span  style=\"\">Para 1</span></p><p  style=\"\"><span  style=\"\">Para 2</span></p>"

      194 |       const options: HtmlConversionOptions = { wrapInDiv: false };
      195 |       const html = HtmlConverter.convertParagraphsToHtml(paragraphs, options);
    > 196 |       expect(html).toBe('<p style=""><span style="">Para 1</span></p><p style=""><span style="">Para 2</span></p>');
          |                    ^
      197 |     });
      198 |   });
      199 |

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:196:20)

  â— HtmlConverter - Comprehensive Test Suite â€º HTML Escaping â€º should handle null and undefined text gracefully

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\"></span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\"></span></p></div>"

      308 |       const options: HtmlConversionOptions = { escapeHtml: true };
      309 |       const html = HtmlConverter.convertSingleParagraphToHtml(content, options);
    > 310 |       expect(html).toContain('<span style=""></span>');
          |                    ^
      311 |     });
      312 |   });
      313 |

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:310:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Edge Cases and Error Handling â€º should handle content with only empty text

    expect(received).toBe(expected) // Object.is equality

    Expected: "<div style=\"\"><p style=\"\"><span style=\"\"></span></p></div>"
    Received: "<div  style=\"\"><p  style=\"\"><span  style=\"\"></span></p></div>"

      448 |       
      449 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 450 |       expect(html).toBe('<div style=""><p style=""><span style=""></span></p></div>');
          |                    ^
      451 |     });
      452 |
      453 |     it('should handle content with only whitespace', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:450:20)

  â— HtmlConverter - Comprehensive Test Suite â€º Edge Cases and Error Handling â€º should handle content with only whitespace

    expect(received).toContain(expected) // indexOf

    Expected substring: "<span style=\"\">   </span>"
    Received string:    "<div  style=\"\"><p  style=\"\"><span  style=\"\">   </span></p></div>"

      457 |       
      458 |       const html = HtmlConverter.convertSingleParagraphToHtml(content);
    > 459 |       expect(html).toContain('<span style="">   </span>');
          |                    ^
      460 |     });
      461 |
      462 |     it('should handle very long text content', () => {

      at Object.<anonymous> (tests/__tests__/html-converter-comprehensive.test.ts:459:20)

FAIL tests/__tests__/text-validator-comprehensive.test.ts
  â— TextValidator - Comprehensive Test Suite â€º extractTextFromHtml Function â€º Edge Cases and Error Handling â€º should handle malformed HTML

    expect(received).toBe(expected) // Object.is equality

    Expected: "brackets"
    Received: "> brackets"

      299 |         expect(extractTextFromHtml('Text <unopened tag')).toBe('Text <unopened tag');
      300 |         expect(extractTextFromHtml('<>Empty brackets</>')).toBe('Empty brackets');
    > 301 |         expect(extractTextFromHtml('<<double>> brackets')).toBe('brackets');
          |                                                            ^
      302 |       });
      303 |
      304 |       it('should handle HTML with no text content', () => {

      at Object.<anonymous> (tests/__tests__/text-validator-comprehensive.test.ts:301:60)

FAIL tests/__tests__/api-route-parse-pptx-comprehensive.test.ts
  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç†æµ‹è¯• â€º åº”è¯¥å¤„ç†å¤§æ–‡ä»¶ï¼ˆ10MBï¼‰çš„ä¸Šä¼ 

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      94 |       const responseData = await response.json();
      95 |
    > 96 |       expect(response.status).toBe(200);
         |                               ^
      97 |       expect(responseData.success).toBe(true);
      98 |       expect(responseData.debug.fileSize).toBe(10 * 1024 * 1024);
      99 |     });

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:96:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¤§æ–‡ä»¶å¤„ç†æµ‹è¯• â€º åº”è¯¥å¤„ç†å†…å­˜ä¸è¶³é”™è¯¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      111 |       const responseData = await response.json();
      112 |
    > 113 |       expect(response.status).toBe(500);
          |                               ^
      114 |       expect(responseData.error).toBe("Failed to parse PPTX file");
      115 |       expect(responseData.details).toContain("not enough memory");
      116 |     });

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:113:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç†æµ‹è¯• â€º åº”è¯¥æ­£ç¡®å¤„ç†å¤šä¸ªå¹¶å‘è¯·æ±‚

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      141 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      142 |       requests.forEach((response) => {
    > 143 |         expect(response.status).toBe(200);
          |                                 ^
      144 |       });
      145 |
      146 |       // éªŒè¯è§£æå™¨è¢«è°ƒç”¨äº†æ­£ç¡®çš„æ¬¡æ•°

      at tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:143:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:142:16)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º å¹¶å‘è¯·æ±‚å¤„ç†æµ‹è¯• â€º åº”è¯¥å¤„ç†å¹¶å‘è¯·æ±‚ä¸­çš„éƒ¨åˆ†å¤±è´¥

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      165 |
      166 |       // éªŒè¯ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªè¯·æ±‚æˆåŠŸ
    > 167 |       expect(requests[0].status).toBe(200);
          |                                  ^
      168 |       expect(requests[2].status).toBe(200);
      169 |
      170 |       // éªŒè¯ç¬¬äºŒä¸ªè¯·æ±‚å¤±è´¥

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:167:34)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º CDNå­˜å‚¨å¹¶å‘æµ‹è¯• â€º åº”è¯¥å¤„ç†å¹¶å‘CDNä¸Šä¼ 

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      210 |       // éªŒè¯æ‰€æœ‰è¯·æ±‚éƒ½æˆåŠŸ
      211 |       requests.forEach((response) => {
    > 212 |         expect(response.status).toBe(200);
          |                                 ^
      213 |       });
      214 |
      215 |       // éªŒè¯CDNä¸Šä¼ è¢«è°ƒç”¨äº†æ­£ç¡®çš„æ¬¡æ•°

      at tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:212:33
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:211:16)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†ç©ºæ–‡ä»¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      230 |       const responseData = await response.json();
      231 |
    > 232 |       expect(response.status).toBe(200);
          |                               ^
      233 |       expect(responseData.debug.fileSize).toBe(0);
      234 |     });
      235 |

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:232:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†éå¸¸é•¿çš„æ–‡ä»¶å

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      246 |       const responseData = await response.json();
      247 |
    > 248 |       expect(response.status).toBe(200);
          |                               ^
      249 |       expect(responseData.filename).toBe(longName);
      250 |     });
      251 |

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:248:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è¾¹ç•Œæƒ…å†µå’Œæ€§èƒ½æµ‹è¯• â€º åº”è¯¥å¤„ç†è§£æè¶…æ—¶

    expect(received).toBe(expected) // Object.is equality

    Expected: 500
    Received: 400

      266 |       const responseData = await response.json();
      267 |
    > 268 |       expect(response.status).toBe(500);
          |                               ^
      269 |       expect(responseData.error).toBe("Failed to parse PPTX file");
      270 |       expect(responseData.details).toContain("timeout");
      271 |     });

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:268:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º è°ƒè¯•å’Œæ—¥å¿—æµ‹è¯• â€º åº”è¯¥åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æä¾›è¯¦ç»†ä¿¡æ¯

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 400

      338 |       const responseData = await response.json();
      339 |
    > 340 |       expect(response.status).toBe(200);
          |                               ^
      341 |       expect(responseData.debug.debugMode).toBe(true);
      342 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
      343 |         expect.any(ArrayBuffer),

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:340:31)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼æµ‹è¯• â€º åº”è¯¥æ­£ç¡®ä¼ é€’legacyèƒŒæ™¯æ ¼å¼

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<ArrayBuffer>, ObjectContaining {"backgroundFormat": "legacy"}

    Number of calls: 0

      367 |       await POST(request);
      368 |
    > 369 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
          |                                      ^
      370 |         expect.any(ArrayBuffer),
      371 |         expect.objectContaining({
      372 |           backgroundFormat: "legacy",

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:369:38)

  â— API Route Comprehensive Tests - /api/parse-pptx â€º èƒŒæ™¯æ ¼å¼æµ‹è¯• â€º åº”è¯¥æ­£ç¡®ä¼ é€’pptistèƒŒæ™¯æ ¼å¼

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: Any<ArrayBuffer>, ObjectContaining {"backgroundFormat": "pptist"}

    Number of calls: 0

      384 |       await POST(request);
      385 |
    > 386 |       expect(pptxParser.parseToJSON).toHaveBeenCalledWith(
          |                                      ^
      387 |         expect.any(ArrayBuffer),
      388 |         expect.objectContaining({
      389 |           backgroundFormat: "pptist",

      at Object.<anonymous> (tests/__tests__/api-route-parse-pptx-comprehensive.test.ts:386:38)

FAIL tests/__tests__/unit-converter-comprehensive.test.ts
  â— UnitConverter - Comprehensive Test Suite â€º EMU to Points Conversions â€º emuToPointsRounded (integer output) â€º should handle rounding edge cases

    expect(received).toBe(expected) // Object.is equality

    Expected: 3
    Received: 2

      87 |         // Test cases that should round properly
      88 |         expect(UnitConverter.emuToPointsRounded(9525)).toBe(1); // Should round to 1
    > 89 |         expect(UnitConverter.emuToPointsRounded(19050)).toBe(3); // Should round to 3
         |                                                         ^
      90 |       });
      91 |
      92 |       it('should handle negative values with proper rounding', () => {

      at Object.<anonymous> (tests/__tests__/unit-converter-comprehensive.test.ts:89:57)

FAIL tests/__tests__/font-size-calculator-comprehensive.test.ts
  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Standard Conversions â€º should convert typical PowerPoint font sizes correctly

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      25 |         testCases.forEach(({ input, expected }) => {
      26 |           const result = FontSizeCalculator.convertPowerPointToWebSize(input);
    > 27 |           expect(result).toBeCloseTo(expected, 2);
         |                          ^
      28 |         });
      29 |       });
      30 |

      at tests/__tests__/font-size-calculator-comprehensive.test.ts:27:26
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:25:19)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Standard Conversions â€º should handle string inputs correctly

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      31 |       it('should handle string inputs correctly', () => {
      32 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1200')).toBeCloseTo(16.00, 2);
    > 33 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1800')).toBeCloseTo(24.00, 2);
         |                                                                       ^
      34 |         expect(FontSizeCalculator.convertPowerPointToWebSize('2400')).toBeCloseTo(32.00, 2);
      35 |       });
      36 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:33:71)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Standard Conversions â€º should handle decimal inputs

    expect(received).toBeCloseTo(expected, precision)

    Expected: 19.33
    Received: 19.34

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      37 |       it('should handle decimal inputs', () => {
      38 |         expect(FontSizeCalculator.convertPowerPointToWebSize(1250)).toBeCloseTo(16.66, 2);
    > 39 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1450.5')).toBeCloseTo(19.33, 2);
         |                                                                         ^
      40 |         expect(FontSizeCalculator.convertPowerPointToWebSize(1333.33)).toBeCloseTo(17.77, 2);
      41 |       });
      42 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:39:73)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Edge Cases â€º should handle zero and negative values

    expect(received).toBeCloseTo(expected, precision)

    Expected: -24
    Received: -23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      75 |         expect(FontSizeCalculator.convertPowerPointToWebSize(0)).toBe(0);
      76 |         expect(FontSizeCalculator.convertPowerPointToWebSize(-1200)).toBeCloseTo(-16.00, 2);
    > 77 |         expect(FontSizeCalculator.convertPowerPointToWebSize('-1800')).toBeCloseTo(-24.00, 2);
         |                                                                        ^
      78 |       });
      79 |
      80 |       it('should handle scientific notation', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:77:72)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Edge Cases â€º should handle scientific notation

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      80 |       it('should handle scientific notation', () => {
      81 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1.2e3')).toBeCloseTo(16.00, 2);
    > 82 |         expect(FontSizeCalculator.convertPowerPointToWebSize('1.8e3')).toBeCloseTo(24.00, 2);
         |                                                                        ^
      83 |         expect(FontSizeCalculator.convertPowerPointToWebSize(1.5e4)).toBeCloseTo(199.95, 2);
      84 |       });
      85 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:82:72)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Rounding Behavior â€º should round to 2 decimal places using ROUND_HALF_UP

    expect(received).toBe(expected) // Object.is equality

    Expected: 16.07
    Received: 16.06

      103 |         roundingCases.forEach(({ input, expected }) => {
      104 |           const result = FontSizeCalculator.convertPowerPointToWebSize(input);
    > 105 |           expect(result).toBe(expected);
          |                          ^
      106 |         });
      107 |       });
      108 |

      at tests/__tests__/font-size-calculator-comprehensive.test.ts:105:26
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:103:23)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Rounding Behavior â€º should handle exact half values consistently

    expect(received).toBeCloseTo(expected, precision)

    Expected: 25
    Received: 24.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      116 |         halfValueCases.forEach(({ input, expected }) => {
      117 |           const result = FontSizeCalculator.convertPowerPointToWebSize(input);
    > 118 |           expect(result).toBeCloseTo(expected, 2);
          |                          ^
      119 |         });
      120 |       });
      121 |

      at tests/__tests__/font-size-calculator-comprehensive.test.ts:118:26
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:116:24)

  â— FontSizeCalculator - Comprehensive Test Suite â€º convertPowerPointToWebSize â€º Error Handling â€º should handle special numeric values

    expect(received).toThrow()

    Received function did not throw

      145 |
      146 |       it('should handle special numeric values', () => {
    > 147 |         expect(() => FontSizeCalculator.convertPowerPointToWebSize(NaN)).toThrow();
          |                                                                          ^
      148 |         expect(() => FontSizeCalculator.convertPowerPointToWebSize(Infinity)).toThrow();
      149 |         expect(() => FontSizeCalculator.convertPowerPointToWebSize(-Infinity)).toThrow();
      150 |       });

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:147:74)

  â— FontSizeCalculator - Comprehensive Test Suite â€º batchConvert â€º should convert arrays of font sizes correctly

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      161 |       expect(results[1]).toBeCloseTo(18.66, 2);
      162 |       expect(results[2]).toBeCloseTo(21.33, 2);
    > 163 |       expect(results[3]).toBeCloseTo(24.00, 2);
          |                          ^
      164 |     });
      165 |
      166 |     it('should handle mixed string and number inputs', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:163:26)

  â— FontSizeCalculator - Comprehensive Test Suite â€º batchConvert â€º should handle mixed string and number inputs

    expect(received).toBeCloseTo(expected, precision)

    Expected: 24
    Received: 23.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      172 |       expect(results[1]).toBeCloseTo(18.66, 2);
      173 |       expect(results[2]).toBeCloseTo(21.33, 2);
    > 174 |       expect(results[3]).toBeCloseTo(24.00, 2);
          |                          ^
      175 |     });
      176 |
      177 |     it('should handle empty arrays', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:174:26)

  â— FontSizeCalculator - Comprehensive Test Suite â€º batchConvert â€º should handle large arrays efficiently

    expect(received).toBeCloseTo(expected, precision)

    Expected: 29.33
    Received: 29.31

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.019999999999999574

      189 |       expect(endTime - startTime).toBeLessThan(100); // Should be fast
      190 |       expect(results[0]).toBeCloseTo(16.00, 2);
    > 191 |       expect(results[999]).toBeCloseTo(29.33, 2);
          |                            ^
      192 |     });
      193 |
      194 |     it('should propagate errors for invalid inputs in batch', () => {

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:191:28)

  â— FontSizeCalculator - Comprehensive Test Suite â€º Real-world Usage Scenarios â€º should handle typical PowerPoint document processing

    expect(received).toBeCloseTo(expected, precision)

    Expected: 32
    Received: 31.99

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.010000000000001563

      354 |       expect(convertedSizes[0]).toBeCloseTo(16.00, 2);  // 12pt -> 16px
      355 |       expect(convertedSizes[1]).toBeCloseTo(18.66, 2);  // 14pt -> 18.66px
    > 356 |       expect(convertedSizes[4]).toBeCloseTo(32.00, 2);  // 24pt -> 32px
          |                                 ^
      357 |       expect(convertedSizes[6]).toBeCloseTo(48.00, 2);  // 36pt -> 48px
      358 |       
      359 |       // All should be valid sizes

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:356:33)

  â— FontSizeCalculator - Comprehensive Test Suite â€º Performance and Memory â€º should handle large batch conversions efficiently

    expect(received).toBeCloseTo(expected, precision)

    Expected: 80
    Received: 79.97

    Expected precision:    2
    Expected difference: < 0.005
    Received difference:   0.030000000000001137

      416 |       // Verify some results
      417 |       expect(results[0]).toBeCloseTo(13.33, 2);      // 1000 -> 13.33
    > 418 |       expect(results[4999]).toBeCloseTo(80.00, 2);   // 5999 -> 80.00
          |                             ^
      419 |       expect(results[9999]).toBeCloseTo(146.66, 2);  // 10999 -> 146.66
      420 |     });
      421 |

      at Object.<anonymous> (tests/__tests__/font-size-calculator-comprehensive.test.ts:418:29)

FAIL tests/__tests__/color-utils-comprehensive.test.ts
  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º Hex Color Conversion â€º should handle hex colors without # prefix

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255,0,0,1)"
    Received: "rgba(0,0,0,1)"

      33 |
      34 |       it('should handle hex colors without # prefix', () => {
    > 35 |         expect(ColorUtils.toRgba('FF0000')).toBe('rgba(255,0,0,1)');
         |                                             ^
      36 |         expect(ColorUtils.toRgba('00FF00')).toBe('rgba(0,255,0,1)');
      37 |         expect(ColorUtils.toRgba('F00')).toBe('rgba(255,0,0,1)');
      38 |       });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:35:45)

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º Hex Color Conversion â€º should handle invalid hex colors

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(0,0,0,1)"
    Received: "rgba(18,52,5,1)"

      40 |       it('should handle invalid hex colors', () => {
      41 |         expect(ColorUtils.toRgba('#GGGGGG')).toBe('rgba(0,0,0,1)');
    > 42 |         expect(ColorUtils.toRgba('#12345')).toBe('rgba(0,0,0,1)');
         |                                             ^
      43 |         expect(ColorUtils.toRgba('#XXXXXXXXX')).toBe('rgba(0,0,0,1)');
      44 |       });
      45 |

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:42:45)

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º RGB Color Conversion â€º should handle malformed rgb with alpha

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(255,0,0,0.5)"
    Received: "rgba(0,0,0,1)"

      66 |
      67 |       it('should handle malformed rgb with alpha', () => {
    > 68 |         expect(ColorUtils.toRgba('rgb(255,0,0,0.5)')).toBe('rgba(255,0,0,0.5)');
         |                                                       ^
      69 |         expect(ColorUtils.toRgba('rgb(255,0,0,1)')).toBe('rgba(255,0,0,1)');
      70 |         expect(ColorUtils.toRgba('rgb(255,0,0,0)')).toBe('rgba(255,0,0,0)');
      71 |       });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:68:55)

  â— ColorUtils - Comprehensive Test Suite â€º toRgba - Color Format Normalization â€º RGB Color Conversion â€º should handle invalid rgb colors

    expect(received).toBe(expected) // Object.is equality

    Expected: "rgba(-1,0,0,1)"
    Received: "rgba(0,0,0,1)"

      73 |       it('should handle invalid rgb colors', () => {
      74 |         expect(ColorUtils.toRgba('rgb(256,0,0)')).toBe('rgba(256,0,0,1)');
    > 75 |         expect(ColorUtils.toRgba('rgb(-1,0,0)')).toBe('rgba(-1,0,0,1)');
         |                                                  ^
      76 |         expect(ColorUtils.toRgba('rgb(a,b,c)')).toBe('rgba(0,0,0,1)');
      77 |       });
      78 |     });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:75:50)

  â— ColorUtils - Comprehensive Test Suite â€º HSL Color Conversion â€º hslToRgb â€º should handle mixed colors

    expect(received).toBeCloseTo(expected, precision)

    Expected: 128
    Received: 127

    Expected precision:    0
    Expected difference: < 0.5
    Received difference:   1

      195 |       it('should handle mixed colors', () => {
      196 |         const rgb = ColorUtils.hslToRgb(0.75, 0.5, 0.5);
    > 197 |         expect(rgb.r).toBeCloseTo(128, 0);
          |                       ^
      198 |         expect(rgb.g).toBeCloseTo(64, 0);
      199 |         expect(rgb.b).toBeCloseTo(192, 0);
      200 |       });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:197:23)

  â— ColorUtils - Comprehensive Test Suite â€º HSL Color Conversion â€º should maintain round-trip accuracy between RGB and HSL

    expect(received).toBeCloseTo(expected, precision)

    Expected: 127.5
    Received: 128

    Expected precision:    0
    Expected difference: < 0.5
    Received difference:   0.5

      211 |         const hsl = ColorUtils.rgbToHsl(r, g, b);
      212 |         const rgb = ColorUtils.hslToRgb(hsl.h, hsl.s, hsl.l);
    > 213 |         expect(rgb.r).toBeCloseTo(r * 255, 0);
          |                       ^
      214 |         expect(rgb.g).toBeCloseTo(g * 255, 0);
      215 |         expect(rgb.b).toBeCloseTo(b * 255, 0);
      216 |       });

      at tests/__tests__/color-utils-comprehensive.test.ts:213:23
          at Array.forEach (<anonymous>)
      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:210:18)

  â— ColorUtils - Comprehensive Test Suite â€º Preset Colors â€º should get extended preset colors

    expect(received).toBe(expected) // Object.is equality

    Expected: "#C71585"
    Received: null

      403 |       expect(ColorUtils.getPresetColor('aliceBlue')).toBe('#F0F8FF');
      404 |       expect(ColorUtils.getPresetColor('antiqueWhite')).toBe('#FAEBD7');
    > 405 |       expect(ColorUtils.getPresetColor('mediumVioletRed')).toBe('#C71585');
          |                                                            ^
      406 |       expect(ColorUtils.getPresetColor('darkSlateGray')).toBe('#2F4F4F');
      407 |     });
      408 |

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:405:60)

  â— ColorUtils - Comprehensive Test Suite â€º Error Handling and Edge Cases â€º should handle invalid transformations gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: "invalid"
    Received: "rgba(0,0,0,1)"

      464 |
      465 |     it('should handle invalid transformations gracefully', () => {
    > 466 |       expect(ColorUtils.applyShade('invalid', 0.5)).toBe('invalid');
          |                                                     ^
      467 |       expect(ColorUtils.applyTint('invalid', 0.5)).toBe('invalid');
      468 |       expect(ColorUtils.applyAlpha('invalid', 0.5)).toBe('invalid');
      469 |     });

      at Object.<anonymous> (tests/__tests__/color-utils-comprehensive.test.ts:466:53)

FAIL tests/__tests__/services/ErrorHandling.test.ts
  â— Error Handling Service Unit Tests â€º Performance and Memory â€º should create errors efficiently

    expect(received).toBeLessThan(expected)

    Expected: < 100
    Received:   113.07983299999978

      537 |       const duration = endTime - startTime;
      538 |       
    > 539 |       expect(duration).toBeLessThan(100); // Should complete in less than 100ms
          |                        ^
      540 |     });
      541 |   });
      542 | });

      at Object.<anonymous> (tests/__tests__/services/ErrorHandling.test.ts:539:24)

FAIL tests/__tests__/monaco-json-loader.test.tsx (6.956 s)
  â— MonacoJsonLoader Component â€º Data Source Handling â€º shows loading state during fetch

    TestingLibraryElementError: Unable to find an element with the text: Loading JSON.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      144 |       render(<MonacoJsonLoader source={source} />);
      145 |       
    > 146 |       expect(screen.getByText('Loading JSON...')).toBeInTheDocument();
          |                     ^
      147 |       
      148 |       // Resolve the promise
      149 |       resolvePromise!({

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:146:21)

  â— MonacoJsonLoader Component â€º Data Source Handling â€º handles fetch errors

    Unable to find an element with the text: âŒ Loading Error. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      168 |       render(<MonacoJsonLoader source={source} />);
      169 |       
    > 170 |       await waitFor(() => {
          |                    ^
      171 |         expect(screen.getByText('âŒ Loading Error')).toBeInTheDocument();
      172 |         expect(screen.getByText(/Network error/)).toBeInTheDocument();
      173 |         expect(screen.getByText('ï¿½ï¿½ Retry Loading')).toBeInTheDocument();

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:170:20)

  â— MonacoJsonLoader Component â€º Large File Handling â€º handles large files with optimized loading

    Unable to find an element with the text: /Processing.*MB file/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 14px; color: rgb(102, 102, 102);"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<strong>[39m
                    [0mSource:[0m
                  [36m</strong>[39m
                  [0m [0m
                  [0mCDN URL[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mstyle[39m=[32m"font-size: 12px; margin-top: 4px; display: flex; align-items: center; gap: 8px;"[39m
                [36m>[39m
                  [36m<strong>[39m
                    [0mURL:[0m
                  [36m</strong>[39m
                  [36m<div[39m
                    [33mstyle[39m=[32m"flex: 1 1 0%; font-family: monospace; font-size: 11px; background-color: rgb(248, 249, 250); border: 1px solid rgb(233, 236, 239); border-radius: 3px; padding: 2px 6px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 300px; cursor: pointer;"[39m
                    [33mtitle[39m=[32m"https://example.com/large-file.json"[39m
                  [36m>[39m
                    [0mhttps://example.com/large-file.json[0m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mstyle[39m=[32m"padding: 2px 6px; background-color: rgb(0, 123, 255); color: white; border-radius: 3px; font-size: 10px; cursor: pointer;"[39m
                  [36m>[39m
                    [0mï¿½ï¿½[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(33, 150, 243); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Refresh[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-height[39m=[32m"600px"[39m
            [33mdata-readonly[39m=[32m"false"[39m
            [33mdata-testid[39m=[32m"monaco-json-editor"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMonaco JSON Editor[0m
            [36m</div>[39m
            [36m<button>[39m
              [0mCopy[0m
            [36m</button>[39m
            [36m<pre>[39m
              [0m{
      "slides": [
        {
          "id": 1,
          "content": "Test slide"
        }
      ],
      "themeColors": [
        "#FF0000"
      ],
      "size": {
        "width": 1920,
        "height": 1080
      }
    }[0m
            [36m</pre>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      192 |       render(<MonacoJsonLoader source={source} />);
      193 |       
    > 194 |       await waitFor(() => {
          |                    ^
      195 |         expect(screen.getByText(/Processing.*MB file/)).toBeInTheDocument();
      196 |       });
      197 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:194:20)

  â— MonacoJsonLoader Component â€º Large File Handling â€º shows progress for large file downloads

    Unable to find an element with the text: /Processing.*MB file/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 14px; color: rgb(102, 102, 102);"[39m
              [36m>[39m
                [36m<div>[39m
                  [36m<strong>[39m
                    [0mSource:[0m
                  [36m</strong>[39m
                  [0m [0m
                  [0mCDN URL[0m
                [36m</div>[39m
                [36m<div[39m
                  [33mstyle[39m=[32m"font-size: 12px; margin-top: 4px; display: flex; align-items: center; gap: 8px;"[39m
                [36m>[39m
                  [36m<strong>[39m
                    [0mURL:[0m
                  [36m</strong>[39m
                  [36m<div[39m
                    [33mstyle[39m=[32m"flex: 1 1 0%; font-family: monospace; font-size: 11px; background-color: rgb(248, 249, 250); border: 1px solid rgb(233, 236, 239); border-radius: 3px; padding: 2px 6px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 300px; cursor: pointer;"[39m
                    [33mtitle[39m=[32m"https://example.com/large-file.json"[39m
                  [36m>[39m
                    [0mhttps://example.com/large-file.json[0m
                  [36m</div>[39m
                  [36m<button[39m
                    [33mstyle[39m=[32m"padding: 2px 6px; background-color: rgb(0, 123, 255); color: white; border-radius: 3px; font-size: 10px; cursor: pointer;"[39m
                  [36m>[39m
                    [0mï¿½ï¿½[0m
                  [36m</button>[39m
                [36m</div>[39m
              [36m</div>[39m
            [36m</div>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(33, 150, 243); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Refresh[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: pointer; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mdata-height[39m=[32m"600px"[39m
            [33mdata-readonly[39m=[32m"false"[39m
            [33mdata-testid[39m=[32m"monaco-json-editor"[39m
          [36m>[39m
            [36m<div>[39m
              [0mMonaco JSON Editor[0m
            [36m</div>[39m
            [36m<button>[39m
              [0mCopy[0m
            [36m</button>[39m
            [36m<pre>[39m
              [0m{
      "slides": [
        {
          "id": 1,
          "content": "Test slide"
        }
      ],
      "themeColors": [
        "#FF0000"
      ],
      "size": {
        "width": 1920,
        "height": 1080
      }
    }[0m
            [36m</pre>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      216 |       render(<MonacoJsonLoader source={source} />);
      217 |       
    > 218 |       await waitFor(() => {
          |                    ^
      219 |         expect(screen.getByText(/Processing.*MB file/)).toBeInTheDocument();
      220 |       });
      221 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:218:20)

  â— MonacoJsonLoader Component â€º Retry Mechanism â€º implements retry logic for failed requests

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      240 |       render(<MonacoJsonLoader source={source} />);
      241 |       
    > 242 |       await waitFor(() => {
          |                    ^
      243 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      244 |       });
      245 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:242:20)

  â— MonacoJsonLoader Component â€º Retry Mechanism â€º handles timeout errors with detailed message

    Unable to find an element with the text: /Request timeout/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      260 |       render(<MonacoJsonLoader source={source} />);
      261 |       
    > 262 |       await waitFor(() => {
          |                    ^
      263 |         expect(screen.getByText(/Request timeout/)).toBeInTheDocument();
      264 |         expect(screen.getByText(/Large file size/)).toBeInTheDocument();
      265 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:262:20)

  â— MonacoJsonLoader Component â€º Retry Mechanism â€º allows manual retry from error state

    Unable to find an element with the text: ï¿½ï¿½ Retry Loading. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mclass[39m=[32m"monaco-json-loader"[39m
        [36m>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loader-header"[39m
            [33mstyle[39m=[32m"display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background-color: rgb(245, 245, 245); border-radius: 4px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"source-info"[39m
            [36m/>[39m
            [36m<div[39m
              [33mclass[39m=[32m"header-actions"[39m
              [33mstyle[39m=[32m"display: flex; gap: 10px;"[39m
            [36m>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(255, 152, 0); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Copy[0m
              [36m</button>[39m
              [36m<button[39m
                [33mdisabled[39m=[32m""[39m
                [33mstyle[39m=[32m"padding: 6px 12px; background-color: rgb(76, 175, 80); color: white; border-radius: 4px; cursor: not-allowed; font-size: 12px;"[39m
              [36m>[39m
                [0mï¿½ï¿½ Download[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mclass[39m=[32m"loading-indicator"[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; padding: 40px; background-color: rgb(249, 249, 249); border: 1px solid rgb(221, 221, 221); border-radius: 4px; margin-bottom: 10px;"[39m
          [36m>[39m
            [36m<div[39m
              [33mclass[39m=[32m"spinner"[39m
              [33mstyle[39m=[32m"width: 20px; height: 20px; border: 2px solid rgb(204, 204, 204); border-top: 2px solid rgb(33, 150, 243); border-radius: 50%; animation: spin 1s linear infinite; margin-right: 10px;"[39m
            [36m/>[39m
            [0mDownloading... (Attempt 1/3)[0m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      276 |       render(<MonacoJsonLoader source={source} />);
      277 |       
    > 278 |       await waitFor(() => {
          |                    ^
      279 |         expect(screen.getByText('ï¿½ï¿½ Retry Loading')).toBeInTheDocument();
      280 |       });
      281 |

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:278:20)

  â— MonacoJsonLoader Component â€º Copy and Download Actions â€º downloads JSON file

    createRoot(...): Target container is not a DOM element.

      451 |       });
      452 |
    > 453 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      454 |       
      455 |       await waitFor(() => {
      456 |         const downloadButton = screen.getByText('ï¿½ï¿½ Download');

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:453:13)

  â— MonacoJsonLoader Component â€º JSON Parsing â€º handles invalid JSON gracefully

    createRoot(...): Target container is not a DOM element.

      478 |       } as Response);
      479 |
    > 480 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      481 |       
      482 |       await waitFor(() => {
      483 |         expect(screen.getByText(/Invalid JSON/)).toBeInTheDocument();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:480:13)

  â— MonacoJsonLoader Component â€º JSON Parsing â€º handles malformed JSON in editor

    createRoot(...): Target container is not a DOM element.

      497 |       } as Response);
      498 |
    > 499 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      500 |       
      501 |       await waitFor(() => {
      502 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:499:13)

  â— MonacoJsonLoader Component â€º Component Updates â€º reloads when source changes

    createRoot(...): Target container is not a DOM element.

      517 |       };
      518 |
    > 519 |       const { rerender } = render(<MonacoJsonLoader source={source1} />);
          |                                  ^
      520 |       
      521 |       await waitFor(() => {
      522 |         expect(screen.getByText(/"slides"/)).toBeInTheDocument();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:519:34)

  â— MonacoJsonLoader Component â€º Component Updates â€º handles readonly prop changes

    createRoot(...): Target container is not a DOM element.

      536 |       };
      537 |
    > 538 |       const { rerender } = render(<MonacoJsonLoader source={source} readonly={true} />);
          |                                  ^
      539 |       
      540 |       await waitFor(() => {
      541 |         const editor = screen.getByTestId('monaco-json-editor');

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:538:34)

  â— MonacoJsonLoader Component â€º Error Boundary â€º handles component errors gracefully

    expect(received).not.toThrow()

    Error name:    "Error"
    Error message: "createRoot(...): Target container is not a DOM element."

          560 |
          561 |       expect(() => {
        > 562 |         render(<MonacoJsonLoader source={source} />);
              |               ^
          563 |       }).not.toThrow();
          564 |     });
          565 |

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at tests/__tests__/monaco-json-loader.test.tsx:562:15
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2231:93)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:563:14)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:563:14)

  â— MonacoJsonLoader Component â€º Error Boundary â€º handles missing clipboard API

    createRoot(...): Target container is not a DOM element.

      573 |       };
      574 |
    > 575 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      576 |       
      577 |       await waitFor(() => {
      578 |         const copyButton = screen.getByText('ï¿½ï¿½ Copy');

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:575:13)

  â— MonacoJsonLoader Component â€º Accessibility â€º disables buttons during loading

    createRoot(...): Target container is not a DOM element.

      604 |       mockFetch.mockReturnValue(fetchPromise as Promise<Response>);
      605 |
    > 606 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      607 |       
      608 |       expect(screen.getByText('ï¿½ï¿½ Copy')).toBeDisabled();
      609 |       expect(screen.getByText('ï¿½ï¿½ Download')).toBeDisabled();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:606:13)

  â— MonacoJsonLoader Component â€º Accessibility â€º provides proper button states

    createRoot(...): Target container is not a DOM element.

      617 |       };
      618 |
    > 619 |       render(<MonacoJsonLoader source={source} />);
          |             ^
      620 |       
      621 |       await waitFor(() => {
      622 |         expect(screen.getByText('ï¿½ï¿½ Copy')).not.toBeDisabled();

      at createRoot (node_modules/react-dom/cjs/react-dom.development.js:29384:11)
      at Object.createRoot$1 [as createRoot] (node_modules/react-dom/cjs/react-dom.development.js:29855:10)
      at Object.exports.createRoot (node_modules/react-dom/client.js:12:16)
      at createConcurrentRoot (node_modules/@testing-library/react/dist/pure.js:147:27)
      at render (node_modules/@testing-library/react/dist/pure.js:266:12)
      at Object.<anonymous> (tests/__tests__/monaco-json-loader.test.tsx:619:13)

FAIL tests/__tests__/monaco-json-editor.test.tsx (10.922 s)
  â— MonacoJsonEditor Component â€º Basic Rendering â€º renders editor with data

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

       96 |       render(<MonacoJsonEditor data={sampleData} />);
       97 |       
    >  98 |       await waitFor(() => {
          |                    ^
       99 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      100 |       });
      101 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:98:20)

  â— MonacoJsonEditor Component â€º Basic Rendering â€º renders with default props

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      116 |       render(<MonacoJsonEditor data={sampleData} />);
      117 |       
    > 118 |       await waitFor(() => {
          |                    ^
      119 |         const editor = screen.getByTestId('monaco-editor');
      120 |         expect(editor).toHaveAttribute('data-readonly', 'true');
      121 |         expect(editor).toHaveAttribute('data-theme', 'vs');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:118:20)

  â— MonacoJsonEditor Component â€º Props Handling â€º applies readOnly prop correctly

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      139 |       render(<MonacoJsonEditor data={sampleData} readOnly={false} />);
      140 |       
    > 141 |       await waitFor(() => {
          |                    ^
      142 |         const editor = screen.getByTestId('monaco-editor');
      143 |         expect(editor).toHaveAttribute('data-readonly', 'false');
      144 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:141:20)

  â— MonacoJsonEditor Component â€º Props Handling â€º applies theme prop correctly

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      148 |       render(<MonacoJsonEditor data={sampleData} theme="dark" />);
      149 |       
    > 150 |       await waitFor(() => {
          |                    ^
      151 |         const editor = screen.getByTestId('monaco-editor');
      152 |         expect(editor).toHaveAttribute('data-theme', 'vs-dark');
      153 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:150:20)

  â— MonacoJsonEditor Component â€º JSON Formatting â€º formats JSON data correctly

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      311 |       render(<MonacoJsonEditor data={sampleData} />);
      312 |       
    > 313 |       await waitFor(() => {
          |                    ^
      314 |         const editor = screen.getByTestId('monaco-editor');
      315 |         const expectedJson = JSON.stringify(sampleData, null, 2);
      316 |         expect(editor).toHaveAttribute('data-value', expectedJson);

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:313:20)

  â— MonacoJsonEditor Component â€º JSON Formatting â€º handles invalid JSON data gracefully

    TypeError: Converting circular structure to JSON
        --> starting at object with constructor 'Object'
        --- property 'self' closes the circle
        at JSON.stringify (<anonymous>)

      389 |           å°ºå¯¸: {data?.size ? `${data.size.width} Ã— ${data.size.height}` : 'æœªçŸ¥'}
      390 |         </span>
    > 391 |         <span>å­—ç¬¦æ•°: {JSON.stringify(data).length.toLocaleString()}</span>
          |                          ^
      392 |         <span>å¤§å°: {(JSON.stringify(data).length / 1024).toFixed(1)} KB</span>
      393 |       </div>
      394 |     </div>

      at MonacoJsonEditor (components/MonacoJsonEditor.tsx:391:26)
      at renderWithHooks (node_modules/react-dom/cjs/react-dom.development.js:15486:18)
      at updateFunctionComponent (node_modules/react-dom/cjs/react-dom.development.js:19617:20)
      at beginWork (node_modules/react-dom/cjs/react-dom.development.js:21640:16)
      at beginWork$1 (node_modules/react-dom/cjs/react-dom.development.js:27465:14)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom.development.js:26599:12)
      at workLoopSync (node_modules/react-dom/cjs/react-dom.development.js:26505:5)
      at renderRootSync (node_modules/react-dom/cjs/react-dom.development.js:26473:7)
      at recoverFromConcurrentError (node_modules/react-dom/cjs/react-dom.development.js:25889:20)
      at performConcurrentWorkOnRoot (node_modules/react-dom/cjs/react-dom.development.js:25789:22)
      at flushActQueue (node_modules/react/cjs/react.development.js:2667:24)
      at act (node_modules/react/cjs/react.development.js:2582:11)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:324:13)

  â— MonacoJsonEditor Component â€º JSON Formatting â€º formats complex nested data

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m0[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m0[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0mæœªçŸ¥[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m80[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      343 |       render(<MonacoJsonEditor data={complexData} />);
      344 |       
    > 345 |       await waitFor(() => {
          |                    ^
      346 |         const editor = screen.getByTestId('monaco-editor');
      347 |         const expectedJson = JSON.stringify(complexData, null, 2);
      348 |         expect(editor).toHaveAttribute('data-value', expectedJson);

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:345:20)

  â— MonacoJsonEditor Component â€º Keyboard Shortcuts â€º sets up keyboard shortcuts on mount

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      392 |       render(<MonacoJsonEditor data={sampleData} />);
      393 |       
    > 394 |       await waitFor(() => {
          |                    ^
      395 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      396 |         // The Monaco editor mock should have received addCommand calls
      397 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:394:20)

  â— MonacoJsonEditor Component â€º Component Lifecycle â€º updates editor content when data changes

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      415 |       const { rerender } = render(<MonacoJsonEditor data={sampleData} />);
      416 |       
    > 417 |       await waitFor(() => {
          |                    ^
      418 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      419 |       });
      420 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:417:20)

  â— MonacoJsonEditor Component â€º Component Lifecycle â€º maintains editor configuration across re-renders

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      431 |       const { rerender } = render(<MonacoJsonEditor data={sampleData} readOnly={true} />);
      432 |       
    > 433 |       await waitFor(() => {
          |                    ^
      434 |         const editor = screen.getByTestId('monaco-editor');
      435 |         expect(editor).toHaveAttribute('data-readonly', 'true');
      436 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:433:20)

  â— MonacoJsonEditor Component â€º Error Handling â€º handles editor mount errors gracefully

    Unable to find an element by: [data-testid="monaco-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      451 |       render(<MonacoJsonEditor data={sampleData} />);
      452 |       
    > 453 |       await waitFor(() => {
          |                    ^
      454 |         expect(screen.getByTestId('monaco-editor')).toBeInTheDocument();
      455 |       });
      456 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:453:20)

  â— MonacoJsonEditor Component â€º Accessibility â€º provides loading feedback for screen readers

    TestingLibraryElementError: Unable to find an element with the text: æ­£åœ¨åˆå§‹åŒ– Monaco Editor.... This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255); border: 1px solid rgb(225, 229, 233); border-radius: 8px; overflow: hidden;"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); box-shadow: 0 2px 4px rgba(0,0,0,0.05);"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"font-size: 16px; font-weight: bold; color: rgb(51, 51, 51); margin: 0px; display: flex; align-items: center; gap: 8px;"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; gap: 8px; align-items: center;"[39m
            [36m>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æ ¼å¼åŒ– JSON (Ctrl+Shift+I)"[39m
              [36m>[39m
                [0mâœ¨ æ ¼å¼åŒ–[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æœç´¢ (Ctrl+Shift+F)"[39m
              [36m>[39m
                [0mï¿½ï¿½ æœç´¢[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"æŠ˜å æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ æŠ˜å [0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); border: 1px solid rgb(208, 215, 222); border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å±•å¼€æ‰€æœ‰"[39m
              [36m>[39m
                [0mï¿½ï¿½ å±•å¼€[0m
              [36m</button>[39m
              [36m<button[39m
                [33mstyle[39m=[32m"padding: 6px 12px; font-size: 13px; background-color: rgb(209, 68, 36); color: white; border: 1px solid transparent; border-radius: 4px; cursor: pointer; transition: all 0.2s ease; font-weight: 500; display: flex; align-items: center; gap: 4px;"[39m
                [33mtitle[39m=[32m"å¤åˆ¶ JSON åˆ°å‰ªè´´æ¿"[39m
              [36m>[39m
                [0mï¿½ï¿½ å¤åˆ¶[0m
              [36m</button>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; position: relative;"[39m
          [36m>[39m
            [36m<div[39m
              [33mstyle[39m=[32m"display: flex; align-items: center; justify-content: center; height: 400px; color: rgb(102, 102, 102); font-size: 14px; flex-direction: column; gap: 12px;"[39m
            [36m>[39m
              [36m<div[39m
                [33mstyle[39m=[32m"font-size: 24px;"[39m
              [36m>[39m
                [0mâš¡[0m
              [36m</div>[39m
              [36m<div>[39m
                [0mæ­£åœ¨åŠ è½½ Monaco Editor...[0m
              [36m</div>[39m
            [36m</div>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 8px 16px; background-color: rgb(248, 249, 250); border-top: 1px solid rgb(225, 229, 233); font-size: 12px; color: rgb(102, 102, 102); display: flex; gap: 16px; flex-wrap: wrap;"[39m
          [36m>[39m
            [36m<span>[39m
              [36m<strong>[39m
                [0mï¿½ï¿½ æ•°æ®ç»Ÿè®¡:[0m
              [36m</strong>[39m
            [36m</span>[39m
            [36m<span>[39m
              [0må¹»ç¯ç‰‡: [0m
              [0m1[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0mä¸»é¢˜é¢œè‰²: [0m
              [0m2[0m
              [0m ä¸ª[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må°ºå¯¸: [0m
              [0m1920 Ã— 1080[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må­—ç¬¦æ•°: [0m
              [0m113[0m
            [36m</span>[39m
            [36m<span>[39m
              [0må¤§å°: [0m
              [0m0.1[0m
              [0m KB[0m
            [36m</span>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      491 |       render(<MonacoJsonEditor data={sampleData} />);
      492 |       
    > 493 |       const loadingText = screen.getByText('æ­£åœ¨åˆå§‹åŒ– Monaco Editor...');
          |                                  ^
      494 |       expect(loadingText).toBeInTheDocument();
      495 |     });
      496 |   });

      at Object.getElementError (node_modules/@testing-library/dom/dist/config.js:37:19)
      at node_modules/@testing-library/dom/dist/query-helpers.js:76:38
      at node_modules/@testing-library/dom/dist/query-helpers.js:52:17
      at node_modules/@testing-library/dom/dist/query-helpers.js:95:19
      at Object.<anonymous> (tests/__tests__/monaco-json-editor.test.tsx:493:34)

FAIL tests/__tests__/json-viewer.test.tsx (12.719 s)
  â— JsonViewer Component â€º Data Display â€º renders Monaco Editor when data is provided

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      81 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      82 |       
    > 83 |       await waitFor(() => {
         |                    ^
      84 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      85 |       });
      86 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:83:20)

  â— JsonViewer Component â€º Data Display â€º passes correct props to Monaco Editor

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      89 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      90 |       
    > 91 |       await waitFor(() => {
         |                    ^
      92 |         const editor = screen.getByTestId('monaco-json-editor');
      93 |         expect(editor).toHaveAttribute('data-height', '100%');
      94 |         expect(editor).toHaveAttribute('data-readonly', 'true');

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:91:20)

  â— JsonViewer Component â€º Data Display â€º displays the JSON data in the editor

    Unable to find an element with the text: /"slides":/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      100 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      101 |       
    > 102 |       await waitFor(() => {
          |                    ^
      103 |         const jsonContent = screen.getByText(/"slides":/);
      104 |         expect(jsonContent).toBeInTheDocument();
      105 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:102:20)

  â— JsonViewer Component â€º Client-Side Rendering â€º transitions from loading to loaded state

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      118 |       
      119 |       // Should show the editor
    > 120 |       await waitFor(() => {
          |                    ^
      121 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      122 |       });
      123 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:120:20)

  â— JsonViewer Component â€º Copy Functionality â€º calls onCopy callback when copy button is clicked

    Unable to find an element with the text: Copy. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      128 |       render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      129 |       
    > 130 |       await waitFor(() => {
          |                    ^
      131 |         const copyButton = screen.getByText('Copy');
      132 |         copyButton.click();
      133 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:130:20)

  â— JsonViewer Component â€º Copy Functionality â€º handles missing onCopy callback gracefully

    Unable to find an element with the text: Copy. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      139 |       render(<JsonViewer data={sampleData} />);
      140 |       
    > 141 |       await waitFor(() => {
          |                    ^
      142 |         const copyButton = screen.getByText('Copy');
      143 |         expect(() => copyButton.click()).not.toThrow();
      144 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:141:20)

  â— JsonViewer Component â€º Edge Cases â€º handles empty object data

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      204 |       render(<JsonViewer data={{}} onCopy={mockOnCopy} />);
      205 |       
    > 206 |       await waitFor(() => {
          |                    ^
      207 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      208 |         expect(screen.getByText('{}')).toBeInTheDocument();
      209 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:206:20)

  â— JsonViewer Component â€º Edge Cases â€º handles complex nested data

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      224 |       render(<JsonViewer data={complexData} />);
      225 |       
    > 226 |       await waitFor(() => {
          |                    ^
      227 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      228 |         expect(screen.getByText(/"deepValue":/)).toBeInTheDocument();
      229 |       });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:226:20)

  â— JsonViewer Component â€º Edge Cases â€º handles data with special characters

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      239 |       render(<JsonViewer data={specialData} />);
      240 |       
    > 241 |       await waitFor(() => {
          |                    ^
      242 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      243 |       });
      244 |     });

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:241:20)

  â— JsonViewer Component â€º Component Updates â€º updates when data prop changes

    Unable to find an element with the text: /"slides":/. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      249 |       const { rerender } = render(<JsonViewer data={sampleData} />);
      250 |       
    > 251 |       await waitFor(() => {
          |                    ^
      252 |         expect(screen.getByText(/"slides":/)).toBeInTheDocument();
      253 |       });
      254 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:251:20)

  â— JsonViewer Component â€º Component Updates â€º transitions from data to empty state

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      264 |       const { rerender } = render(<JsonViewer data={sampleData} />);
      265 |       
    > 266 |       await waitFor(() => {
          |                    ^
      267 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      268 |       });
      269 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:266:20)

  â— JsonViewer Component â€º Component Updates â€º updates onCopy callback

    Unable to find an element by: [data-testid="monaco-json-editor"]

    Ignored nodes: comments, script, style
    [36m<body>[39m
      [36m<div>[39m
        [36m<div[39m
          [33mstyle[39m=[32m"height: 100%; width: 100%; display: flex; flex-direction: column; background-color: rgb(255, 255, 255);"[39m
        [36m>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"padding: 12px 16px; border-bottom: 1px solid rgb(225, 229, 233); background-color: rgb(248, 249, 250); display: flex; justify-content: center; align-items: center;"[39m
          [36m>[39m
            [36m<h3[39m
              [33mstyle[39m=[32m"margin: 0px; font-size: 16px; font-weight: bold; color: rgb(51, 51, 51);"[39m
            [36m>[39m
              [0mï¿½ï¿½ï¸ Monaco JSON Editor[0m
            [36m</h3>[39m
          [36m</div>[39m
          [36m<div[39m
            [33mstyle[39m=[32m"flex: 1 1 0%; overflow: hidden;"[39m
          [36m>[39m
            [36m<div[39m
              [33mdata[39m=[32m"[object Object]"[39m
              [33mdata-testid[39m=[32m"monaco-editor-mock"[39m
              [33mheight[39m=[32m"100%"[39m
              [33mreadonly[39m=[32m""[39m
              [33mtheme[39m=[32m"light"[39m
            [36m>[39m
              [0mMonaco Editor Mock[0m
            [36m</div>[39m
          [36m</div>[39m
        [36m</div>[39m
      [36m</div>[39m
    [36m</body>[39m

      277 |       const { rerender } = render(<JsonViewer data={sampleData} onCopy={mockOnCopy} />);
      278 |       
    > 279 |       await waitFor(() => {
          |                    ^
      280 |         expect(screen.getByTestId('monaco-json-editor')).toBeInTheDocument();
      281 |       });
      282 |       

      at waitForWrapper (node_modules/@testing-library/dom/dist/wait-for.js:163:27)
      at Object.<anonymous> (tests/__tests__/json-viewer.test.tsx:279:20)


Test Suites: 12 failed, 80 passed, 92 total
Tests:       121 failed, 1625 passed, 1746 total
Snapshots:   0 total
Time:        14.024 s
Ran all test suites.
