{"version":3,"file":"shadow.js","sourceRoot":"","sources":["../src/shadow.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,QAAQ,CAAC;AACtC,OAAO,EAAE,iBAAiB,EAAE,MAAM,aAAa,CAAC;AAGhD,MAAM,UAAU,SAAS,CAAC,IAAa,EAAE,OAA0B;IACjE,MAAM,WAAW,GAAG,YAAY,CAAC,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IACtE,MAAM,cAAc,GAAG,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC;IAExC,MAAM,GAAG,GAAG,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC1F,MAAM,IAAI,GAAG,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;IACvG,MAAM,OAAO,GAAG,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAC;IAEhH,MAAM,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;IAChD,MAAM,EAAE,GAAG,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,CAAC,CAAC;IAEhD,OAAO;QACL,CAAC,EAAE,EAAE;QACL,CAAC,EAAE,EAAE;QACL,IAAI,EAAE,OAAO;QACb,KAAK,EAAE,WAAW,IAAI,SAAS;KAChC,CAAC;AACJ,CAAC","sourcesContent":["import { getSolidFill } from './fill';\r\nimport { RATIO_EMUs_Points } from './constants';\r\nimport type { Shadow, XmlNode, ProcessingContext } from './types';\r\n\r\nexport function getShadow(node: XmlNode, warpObj: ProcessingContext): Shadow {\r\n  const shadowColor = getSolidFill(node, undefined, undefined, warpObj);\r\n  const outerShdwAttrs = node.attrs || {};\r\n  \r\n  const dir = outerShdwAttrs['dir'] ? (parseInt(String(outerShdwAttrs['dir'])) / 60000) : 0;\r\n  const dist = outerShdwAttrs['dist'] ? parseInt(String(outerShdwAttrs['dist'])) * RATIO_EMUs_Points : 0;\r\n  const blurRad = outerShdwAttrs['blurRad'] ? parseInt(String(outerShdwAttrs['blurRad'])) * RATIO_EMUs_Points : 0;\r\n  \r\n  const vx = dist * Math.sin(dir * Math.PI / 180);\r\n  const hx = dist * Math.cos(dir * Math.PI / 180);\r\n\r\n  return {\r\n    h: hx,\r\n    v: vx,\r\n    blur: blurRad,\r\n    color: shadowColor || '#000000',\r\n  };\r\n}"]}